webpackJsonp([5,13],{163:function(t,n,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var r=a(164),l=i(r);n.default={dateTime_both:l.default,dateTime_date:l.default,dateTime_time:l.default,birthDate:l.default,"ctcf_9":l.default},t.exports=n["default"]},164:function(t,n,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function l(t,n){var a={};for(var i in t)n.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},s=a(19),u=i(s),c=a(6),d=i(c),h=a(22),p=i(h),f=a(97),m=i(f),y=a(157),T=i(y),E=a(23),v=i(E),g=a(17),_=a(55),b=a(38),C=a(234),D=i(C),M=a(57),N=a(210),P=i(N),S=a(216),O=u.default.createClass({displayName:"TimeBlock",mixins:[v.default],getInitialState:function(){return this.theme=(0,g.getThemeHelper)(),{}},getOptions:function(){var t=this.props.type,n=60;return"H"===t&&(n=24),d.default.map(Array(n),function(t,n){return{id:n,value:n}})},handleChange:function(e,t){var n=this.props,a=n.type,i=n.timeType,r=n.onChange;r&&r(e,a,t,i)},renderOption:function(t){var n=this.props,a=n.value,i=n.unit,r=t.id,s=t.value,c=l(t,["id","value"]),d=a===t.id,h={active:d,id:r,value:s+" "+i,tipsStyle:this.theme.getComponentTipsStyle()};return u.default.createElement(S.DropDownOption,o({key:"o"+t.id},c,h))},renderContent:function(t){var n=this.props.unit,a=t.text,i=t.placeholder,r=t.iconStyle;return[u.default.createElement("span",{key:"content-text",className:"fbc_selectRes"},a||i),u.default.createElement("span",{key:"unit",className:"fbc_selectArrow",style:r},n)]},render:function(){var t=this.props,n=t.value,a=t.valid,i=t.style,r={default:this.theme.getInputBoxStyle(this.theme.NORMAL),active:this.theme.getInputBoxStyle(this.theme.ACTIVE)},l=a&&a.length>0,o=(0,g.getDeviceInfo)(),s=this.getOptions();return u.default.createElement("div",{className:"fbc_dateTimeSelectWrapper",style:i},u.default.createElement(P.default,{className:(0,p.default)("fbc_select","fbc_dateTimeSelect",{hasValue:n,error:l}),optionsClassName:(0,p.default)("fbc_options"),style:r,deviceInfo:o,value:n,options:s,reset:!1,placeholder:"",triggerStyle:this.theme.getInputBoxTriggerStyle(),iconStyle:this.theme.getDropDownTriggerIconStyle(this.theme.NORMAL),optionStyle:this.theme.getDropDownOptionStyle(),onRenderContent:this.renderContent,onRenderOption:this.renderOption,onChange:this.handleChange}))}}),I=u.default.createClass({displayName:"DateTime",mixins:[T.default,v.default],getInitialState:function(){return this.theme=(0,g.getThemeHelper)(),this.store=(0,g.getStore)(),{}},hasValue:function(t){var n=this.props.fill,a=!1;return d.default.forEach(n||[],function(n){if(t===n||d.default.isPlainObject(n)&&n.id===t)return a=!0,!1}),a},getFillInfo:function(){var t=this,n=this.props.fill,a=null;return d.default.forEach(n||[],function(n){var i=void 0,r=void 0;if(n)return d.default.isPlainObject(n)?(i=n.id,r=n.value):(i=n,r=null),a={id:i,value:r,opt:d.default.find(t.options(),{sId:i})},!1}),a},handleSelectOption:function(e,t){var n=this.props,a=n.data;n.fill;this.store.dispatch((0,b.SET_DATE_TIME_VALUE)({id:a.id,value:t}))},handleResetOption:function(){var t=this.props.data;this.store.dispatch((0,b.SET_DATE_TIME_VALUE)({id:t.id,value:null}))},handleChangeDropdownTime:function(e,t,n,a){var i=this.props,l=i.data,o=i.fill;this.store.dispatch((0,b.SET_DATE_TIME_VALUE)({id:l.id,value:d.default.assign({},o,r({timeType:a},t,+n))}))},handleStopPropagation:function(e){e.stopPropagation()},handleCheckDateEnable:function(t){var n=this.props.data;if(n.isLimitDayInterval){var a=null,i=null;if(n.dayIntervalFrom&&n.dayIntervalFrom!==-1&&(a=n.dayIntervalFrom===!0?(0,m.default)():(0,m.default)(n.dayIntervalFrom)),n.dayIntervalTo&&n.dayIntervalTo!==-1&&(i=n.dayIntervalTo===!0?(0,m.default)():(0,m.default)(n.dayIntervalTo)),t.isDayBefore(a)||t.isDayAfter(i))return!1}return!(n.isLimitDays&&n.limitDays&&!d.default.isEmpty(n.limitDays)&&n.limitDays.indexOf(t.day()+1)===-1)},renderMobileTime:function(t){for(var n=t.timePrecision,a=t.className,i=[],r=this.props,l=r.fill,o=r.valid,s=0;s<n;s++){var c=["H","M","S"][s];i.push(u.default.createElement(O,{key:"t"+s,timeType:n,type:c,unit:(0,g.getLang)().gTimeUnit[s],style:{width:100/n+"%"},value:l?l[c]:null,valid:o,onChange:this.handleChangeDropdownTime}))}return u.default.createElement("div",{className:(0,p.default)("fbc_timeSelector",a)},i)},render:function(){var t=this.props,n=t.data,a=t.style,i=t.fill,r=t.valid,l=t.layout,o=(0,g.getDeviceInfo)(),s=o.isMobile,c=this.getComponentLayoutStyleInfo(),d=r&&r.length>0,h=(0,_.getComponentType)(n);"ctcf_9"===h&&(h=n.cfDateTimeType);var f=M.FIELD_INFO_MAPPING[h]||null,m={default:this.theme.getInputBoxStyle(this.theme.NORMAL),active:this.theme.getInputBoxStyle(this.theme.ACTIVE)},y=null,T=null;switch(h){case"dateTime_both":y=n.dateFormat,T=n.timePrecision||3;break;case"dateTime_time":T=n.timePrecision||3;break;case"dateTime_date":case"birthDate":y=n.dateFormat}var E=null,v="fbc_datetime";return s&&(v+=T?" fbc_dateTimeSelector":"",E=this.renderMobileTime({timePrecision:+T,className:"fbc_timeSelector"+(y?" fbc_dateTimeSelector":" fbc_timeOnly")}),T=null),u.default.createElement("div",{className:(0,p.default)("fb_component",(0,_.getComponentType)(n)),id:n.id,style:a},u.default.createElement("div",{className:"fb_componentText",style:c?c.titleStyle:null},this.renderTitle(this.theme.getComponentTitleStyle()),this.renderSubtitle(this.theme.getComponentDescStyle()),this.renderError(this.theme.getComponentErrorStyle())),u.default.createElement("div",{className:"fb_componentBody",style:c?c.bodyStyle:null},u.default.createElement("div",{className:(0,p.default)("fbc_content","fbc_widthCp"),style:{width:(this.isMobile()||l.isSqueeze?100:10*(n.cpWidth||8))+"%",marginTop:c?0:null}},y||T?u.default.createElement(D.default,{className:(0,p.default)("fbc_calendarSelect",{hasValue:i&&i.length>0,error:d},v),inValid:d,deviceInfo:o,placeholder:n.defaultTips,onCheckDateEnable:this.handleCheckDateEnable,reset:!0,value:i,cushion:5,dateFormat:y||[],timePrecision:+T,style:m,triggerStyle:this.theme.getInputBoxStyle(),icon:f?f.icon:null,iconStyle:{default:this.theme.getInputBoxIconStyle(this.theme.NORMAL),active:this.theme.getInputBoxIconStyle(this.theme.ACTIVE),focus:this.theme.getInputBoxIconStyle(this.theme.ACTIVE),error:this.theme.getInputBoxIconStyle(this.theme.ERROR)},operateBtnStyle:{default:this.theme.getComponentOperateButtonStyle(this.theme.NORMAL),hover:this.theme.getComponentOperateButtonStyle(this.theme.HOVER),active:this.theme.getComponentOperateButtonStyle(this.theme.ACTIVE)},resetIconStyle:{default:this.theme.getDropDownResetIconStyle(this.theme.NORMAL),hover:this.theme.getDropDownResetIconStyle(this.theme.HOVER),active:this.theme.getDropDownResetIconStyle(this.theme.ACTIVE)},onReset:this.handleResetOption,onChange:this.handleSelectOption}):null,E,u.default.createElement("div",{className:"clearB"})),u.default.createElement("span",{className:"aria-placeholder",id:"p-"+n.id,"aria-label":(n.placeholder||"")+"."})))}});n.default=I,t.exports=n["default"]},234:function(t,n,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function l(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function s(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function u(t,n){var a={};for(var i in t)n.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}Object.defineProperty(n,"__esModule",{value:!0});var c=function(){function t(t,n){for(var a=0;a<n.length;a++){var i=n[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,a,i){return a&&t(n.prototype,a),i&&t(n,i),n}}(),d=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},h=a(6),p=i(h),f=a(19),m=i(f),y=a(22),T=i(y),E=a(211),v=a(36),g=a(235),_=i(g),b=a(17),C=a(23),D=i(C),M=a(98),N=a(53),P=i(N),S=500,O=m.default.createClass({displayName:"FakeTextBox",mixins:[D.default],getInitialState:function(){return{focus:!1,active:!1,hover:!1}},componentWillUnmount:function(){clearTimeout(this.touchActive),this.touchActive=null},handleMouseEnter:function(e){this.touchEventStart||(this.setState({hover:!0}),e.currentState=p.default.assign({},this.state,{hover:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e))},handleMouseLeave:function(e){this.touchEventStart||(this.setState({hover:!1,active:!1}),e.currentState=p.default.assign({},this.state,{hover:!1,active:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e))},handleMouseDown:function(e){this.touchEventStart||(this.setState({active:!0}),e.currentState=p.default.assign({},this.state,{active:!0}),this.props.onMouseDown&&this.props.onMouseDown(e))},handleMouseUp:function(e){return this.touchEventStart?void(this.touchEventStart=!1):(this.setState({active:!1}),e.currentState=p.default.assign({},this.state,{active:!1}),void(this.props.onMouseUp&&this.props.onMouseUp(e)))},getStyle:function(t){var n=this.state,a=n.hover,i=n.active,r=n.focus,l=this.props,o=l.disabled,s=l.inValid;if(t&&t.default){var u=t.default;return o&&t.disabled?u=p.default.assign({},u,t.disabled):s&&t.error?u=p.default.assign({},u,t.error):(t.hover&&a&&(u=p.default.assign({},u,t.hover)),t.focus&&r&&(u=p.default.assign({},u,t.hover,t.focus)),t.active&&i&&(u=p.default.assign({},u,t.active))),u}return t},getInputRef:function(){return null},renderPrefix:function(){var t=this.props,n=t.icon,a=t.iconStyle,i=t.onRenderPrefix;return n?m.default.createElement("i",{key:"tbIcon",className:"iconfont fbi_icon",style:this.getStyle(a)},n):i?i(this.props):null},renderPlaceholder:function(){var t=this.props,n=t.value,a=t.placeholder,i=t.inputStyle;if(!n&&a){var r=p.default.omit(this.getStyle(i),"color","opacity");return m.default.createElement("span",{className:"fbi_placeholder",style:r,onMouseDown:this.handlePlaceholderClick,onTouchStart:this.handlePlaceholderTouch},a)}return null},render:function(){var t,n=this.props,a=n.className,i=n.style,r=(n.iconStyle,n.inputStyle),l=n.icon,o=(n.placeholder,n.value),c=(n.onMouseDown,n.onMouseUp,n.onTouchStart,n.onTouchEnd,n.onBlur,n.onFocus,n.onMouseEnter,n.onMouseLeave,n.valid,n.disabled),h=n.children,p=u(n,["className","style","iconStyle","inputStyle","icon","placeholder","value","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","onBlur","onFocus","onMouseEnter","onMouseLeave","valid","disabled","children"]),f=this.state,y=f.hover,E=f.active,v=f.focus,g=!c,_="bb-input";return m.default.createElement("div",{className:(0,T.default)(a,(t={},s(t,_+"hover",y&&g),s(t,_+"active",E&&g),s(t,_+"focus",v&&g),s(t,_+"disabled",c),s(t,"is_focus",v&&g),s(t,"has-icon",l),t)),style:this.getStyle(i)},this.renderPrefix(),this.renderPlaceholder(),m.default.createElement("div",d({className:"fbi_input aria-content",tabIndex:0,style:this.getStyle(r),spellCheck:!1,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp},p),o),h)}}),I=function(t){function n(t){r(this,n);var a=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return a.handleMouseDown=function(e){e.stopPropagation()},a.handleClick=function(e){e.stopPropagation();var t=a.props,n=t.onClick,i=(t.close,t.open),r=(t.contentVisible,t.disabled);r||a.trigged||(a.trigged=!0,i(),a.focusAutoTriggerTimer=setTimeout(function(){a.triggerField&&a.triggerField.focus()},150),a.focusTriggerLockTimer=setTimeout(function(){a.trigged=!1},S),n&&n(e))},a.handleFocus=function(e){var t=a.props,n=t.focus,i=t.onFocus,r=t.open,l=t.contentVisible,o=t.disabled;n&&(l||o||(r(),i&&i(e)))},a.handleBlur=function(e){var t=a.props,n=t.focus,i=t.onBlur;n&&(e.preventDefault(),i&&i(e))},a.refTriggerContainer=function(t){a.props.onTriggerRefChange&&a.props.onTriggerRefChange(t)},a.refTrigger=function(t){t?a.triggerField=t.getInputRef():a.triggerField=null},a.trigged=!1,a.focusAutoTriggerTimer=null,a.focusTriggerLockTimer=null,a}return o(n,t),c(n,[{key:"componentWillUnmount",value:function(){this.trigged=!1,clearTimeout(this.focusAutoTriggerTimer),clearTimeout(this.focusTriggerLockTimer)}},{key:"render",value:function(){var t=this.props,n=t.prefix,a=t.className,i=t.placeholder,r=t.deviceInfo,l=t.children,o=t.inValid,s=t.icon,u=t.iconStyle,c=t.onKeyDown,d=t.onChange,h=t.style,p=t.disabled,f=t.value,y=r.isMobile,E=P.default;return y&&(E=O),m.default.createElement("div",{className:(0,T.default)("mg-inputTrigger",a),ref:this.refTriggerContainer,onMouseDown:this.handleMouseDown},m.default.createElement(E,{prefix:n,className:(0,T.default)("fbc_input",{"error":o}),ref:this.refTrigger,style:h,disabled:p,inValid:o,icon:s,iconStyle:u,placeholder:i,value:f,deviceInfo:r,onChange:d,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:c}),l)}}]),n}(E.ClickTrigger),Y=(0,b.getLang)(),R=(0,_.default)({lang:{gMonth:Y.gMonth,gWeekDay:Y.gWeekDay,gTimeUnit:Y.gTimeUnit,gChooseMonth:Y.gCalendarChooseMonth,gChooseDate:Y.gCalendarChooseDate,type_YMD:Y.gCalendarTypeYMD,type_YM:Y.gCalendarTypeYM,type_MD:Y.gCalendarTypeMD,type_Y:Y.gCalendarTypeY,type_M:Y.gCalendarTypeM,type_D:Y.gCalendarTypeD,confirm:Y.gBtnConfirm,cancel:Y.gBtnCancel}}),A={month:Y.gMonth,year:Y.gDateUnit[0],day:Y.gDateUnit[2],hour:Y.gTimeUnit[0]},w=m.default.createClass({displayName:"InputCalendar",mixins:[D.default],getDefaultProps:function(){return{prefix:"mg",disabled:!1,open:!1,placeholder:"Please select",defaultValue:null,value:null,options:[],focus:!0,autoWidth:!0,cushion:-1,onRenderOption:null,reset:!1,onReset:p.default.noop,onSearch:p.default.noop,onChange:p.default.noop,onClick:p.default.noop}},getInitialState:function(){var t=this.props;return{optionsReady:!1,open:t.open,tmpValue:""}},componentWillReceiveProps:function(t){},open:function(){this.setState({open:!0})},close:function(){this.setState({open:!1})},handlePopoverVisibleChange:function(t){t?this.props.onClick(t):this.setState({optionsReady:!1}),this.setState({open:t})},handleOptionReady:function(){this.setState({optionsReady:!0})},handleReset:function(e){e.stopPropagation(),e.preventDefault();var t=this.props.onReset;t(e,null)},handleDataChange:function(e,t){var n=this.props.onChange;n&&n(e,t),this.close()},handlePositionUpdated:function(t){"position-bottom-left"===t.position.name&&(this.displayBottom=!0),"position-top-left"===t.position.name&&(this.displayBottom=!1)},handleChangeTmpValue:function(e){var t=e.target.value;this.setState({tmpValue:t})},handleBlurChange:function(e){var t=this.props,n=t.onChange,a=t.onBlur,i=t.dateFormat,r=t.timePrecision,l=this.state.tmpValue;if(l){var o=new M.CalendarObject(l,A),s=o.toObject();!(i.indexOf(s.dateType)>-1)&&s.dateType||r&&s.timeType&&!(s.timeType>=+r)||(r&&s.timeType&&(s.timeType=+r),n&&n(e,s))}a&&a(e),this.setState({tmpValue:""})},refPopover:function(t){this.popover=t},refOptions:function(t){this.options=t},getStyle:function(t){var n=this.state.open,a=this.props.disabled;if(t&&t.default){var i=t.default;return a&&t.disabled?i=p.default.assign({},i,t.disabled):(t.focus||t.active)&&n&&(i=p.default.assign({},i,t.active,t.focus)),i}return t},getPlaceholder:function(){var t=this.props,n=t.value,a=t.dateFormat,i=t.timePrecision,r="";if(!n){switch(a[0]){case M.DATE_TYPE_YMD:r+="YYYY-MM-DD ";break;case M.DATE_TYPE_YM:r+="YYYY-MM";break;case M.DATE_TYPE_MD:r+="MM-DD ";break;case M.DATE_TYPE_M:r+=Y.gCalendarTypeM;break;case M.DATE_TYPE_D:r+=Y.gCalendarTypeD+" "}switch(i){case M.TIME_TYPE_HMS:r+="HH:mm:ss";break;case M.TIME_TYPE_HM:r+="HH:mm";break;case M.TIME_TYPE_H:r+="HH"}}return r},getText:function(){var t=this.props,n=t.value,a=(t.dateFormat,t.timePrecision),i=this.state.tmpValue;if(i)return i;if(n){var r=new M.CalendarObject(n,A);return r.updateTimeType(Math.min(a,r.getTimeType())),r.toDisplay()}return null},render:function(){var t,n=this.props,a=n.prefix,i=(n.placeholder,n.className),r=n.disabled,l=n.value,o=(n.onChange,n.onClick),c=n.focus,h=n.onFocus,f=(n.onBlur,n.cushion),y=n.reset,g=n.inValid,_=n.style,b=n.triggerStyle,C=n.inputStyle,D=n.resetIconStyle,M=(n.optionStyle,n.deviceInfo),N=(n.onRenderContent,n.icon),P=n.iconStyle,S=u(n,["prefix","placeholder","className","disabled","value","onChange","onClick","focus","onFocus","onBlur","cushion","reset","inValid","style","triggerStyle","inputStyle","resetIconStyle","optionStyle","deviceInfo","onRenderContent","icon","iconStyle"]),O=this.state.open,Y="bb-drop",A=I,w=R.component();return m.default.createElement(E.Popover,{ref:this.refPopover,position:M.isMobile?E.Position.FixBottom:E.Position.Auto,visible:!r&&O,cushion:f,style:this.getStyle(_),className:(0,T.default)(M.isMobile?"fixed-content":"drop-content",a+"-select-content",a+"-calendar-content",M.isMobile?"drop-mobile":null),wrapperClassName:(0,T.default)(i,(t={},s(t,Y+"focus",O&&!r),s(t,Y+"disabled",r),t)),onVisibleChange:this.handlePopoverVisibleChange,onPositionUpdated:this.handlePositionUpdated,onPositionReady:this.handleOptionReady},m.default.createElement(A,{prefix:a,className:(0,T.default)({"has-reset":y}),focus:c,inValid:g,deviceInfo:M,disabled:r,value:this.getText(),placeholder:this.getPlaceholder(),icon:N,iconStyle:P,style:b,inputStyle:C,onChange:this.handleChangeTmpValue,onClick:o,onFocus:h,onBlur:this.handleBlurChange},y&&l&&!p.default.isEmpty(l)?m.default.createElement(v.BaseBtn,{className:"iconfont "+a+"-reset fbc-select-reset",style:D,onClick:this.handleReset},String.fromCharCode(58982)):null),m.default.createElement(E.Content,null,m.default.createElement(w,d({value:l},S,{onChange:this.handleDataChange,onCancel:this.close,deviceInfo:M}))))}});n.default=w,t.exports=n["default"]},235:function(t,n,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,n){for(var a=0;a<n.length;a++){var i=n[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(n,a,i){return a&&t(n.prototype,a),i&&t(n,i),n}}(),o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},s=a(22),u=(i(s),a(6)),c=i(u),d=a(19),h=i(d),p=a(23),f=i(p),m=a(236),y=a(237),T=a(239),E=i(T),v=a(240),g=i(v),_=a(36),b=a(98),C=h.default.createClass({displayName:"BaseOptions",mixins:[f.default],contextTypes:{lang:h.default.PropTypes.any},render:function(){var t=this.props,n=t.value,a=t.buttonStyle,i=t.onConfirm,r=t.onCancel,l=this.context.lang,o=l.confirm,s=l.cancel;return h.default.createElement("div",{className:"bbc-options"},h.default.createElement(_.BaseBtn,{className:"fbc_button bbco-btn bbco-submit",disabled:c.default.isEmpty(n),style:a,onClick:i},o),h.default.createElement(_.BaseBtn,{className:"fbc_button fbc_btnCancel bbco-btn bbco-cancel",onClick:r},s))}}),D=h.default.createClass({displayName:"BaseCalendar",mixins:[f.default],getDefaultProps:function(){return{dateFormat:[y.DATE_TYPE_YMD]}},getInitialState:function(){return{dateTypeList:[],date:y.DATE_TYPE_NULL,time:y.TIME_TYPE_NULL,temp:{}}},componentDidMount:function(){this.init()},componentDidUpdate:function(t){this.update(t)},init:function(){var t=this.props,n=t.dateFormat,a=t.timePrecision,i=t.value,r=n.sort(),l=r[0]||y.DATE_TYPE_NULL,o=a||y.TIME_TYPE_NULL;i&&i.dateType&&(l=i.dateType),i&&i.timeType&&(o=i.timeType),this.setState({dateTypeList:r,date:l,time:o,temp:c.default.assign({},i)})},update:function(t){var n=this.props,a=n.dateFormat,i=n.timePrecision,r=n.value,l=t.dateFormat,o=t.timePrecision,s=t.value;a===l&&i===o&&r===s||this.init()},handleChangeDateType:function(e,t){this.setState({date:t})},handleChangeDate:function(e,t){var n=this.props.onChange,a=this.state.date;this.isManual()?this.setState({temp:c.default.assign({},this.state.temp,o({dateType:a},t))}):n&&n(e,o({dateType:a},t))},handleChangeTime:function(e,t){var n=this.state.time;this.isManual()&&this.setState({temp:c.default.assign({},this.state.temp,o({timeType:n},t))})},handleChangeDateTime:function(e){var t=this.props.onChange,n=this.state.temp;c.default.isEmpty(n)||(null==n.H&&(n.H=0),null==n.M&&(n.M=0),null==n.S&&(n.S=0),t&&t(e,new b.CalendarObject(n).toObject()))},dateType:function t(){var n=this.props.value,a=this.state,i=a.date,r=a.temp,l=c.default.isEmpty(r)?n:r,t=y.DATE_TYPE_NULL;return l&&null!=l.dateType&&(t=l.dateType),i&&i!==y.DATE_TYPE_NULL&&(t=i),t},timeType:function t(){var n=this.props,a=n.value,i=n.timePrecision,r=this.state,l=r.time,o=r.temp,s=c.default.isEmpty(o)?a:o,t=l;return s&&null!=s.timeType&&(t=s.timeType),Math.min(i,t)},isManual:function(){var t=this.timeType(),n=this.dateType();return t!==y.TIME_TYPE_NULL&&n!==y.DATE_TYPE_YM&&n!==y.DATE_TYPE_M&&n!==y.DATE_TYPE_Y},renderDate:function(){var t=this.props,n=t.deviceInfo,a=t.value,i=t.onCheckDateEnable,r=t.onRenderContent,l=t.isHideSwitcher,o=t.viewport,s=this.state.temp,u=this.dateType();if(u===y.DATE_TYPE_NULL)return null;var d=c.default.isEmpty(s)?a:s;return h.default.createElement(m.BaseBody,{value:d,dateType:u,deviceInfo:n,isHideSwitcher:l,viewport:o,onChange:this.handleChangeDate,onCheckDateEnable:i,onRenderContent:r})},renderTimer:function(){var t=this.props,n=t.deviceInfo,a=t.value,i=this.state.temp,r=this.timeType();if(!this.isManual())return null;var l=c.default.isEmpty(i)?a:i;return h.default.createElement(g.default,{value:l,timeType:r,deviceInfo:n,onChange:this.handleChangeTime})},renderManualOptions:function(){var t=this.props,n=t.operateBtnStyle,a=t.value,i=t.onCancel,r=this.state.temp;if(!this.isManual())return null;var l=c.default.isEmpty(r)?a:r;return h.default.createElement(C,{value:l,buttonStyle:n,onConfirm:this.handleChangeDateTime,onCancel:i})},render:function(){var t=this.state,n=t.dateTypeList,a=t.date;return h.default.createElement("div",{className:"bb-calendar"},h.default.createElement(E.default,{typeList:n,value:a,onChangeType:this.handleChangeDateType},this.renderDate(),this.renderTimer(),this.renderManualOptions()))}}),M={},N="YYYY-MM-DD",P=["-"," ",":"],S=function(){function t(n){r(this,t),n.lang&&(this.lang=n.lang||M),n.format&&(this.format=n.format||N,this.formatSplit=n.formatSplit||P)}return l(t,[{key:"component",value:function(){if(!this.Cp){var t=this;this.Cp=h.default.createClass({displayName:"Cp",mixins:[f.default],childContextTypes:{lang:h.default.PropTypes.any,format:h.default.PropTypes.any,formatSplit:h.default.PropTypes.any},getChildContext:function(){return{lang:t.lang,format:t.format,formatSplit:t.formatSplit}},render:function(){var t=this.props;return h.default.createElement(D,t)}})}return this.Cp}}]),t}(),O=function(t){return t.lang&&(M=t.lang),t.format&&(N=t.format,P=t.formatSplit),new S(t)};n.default=O,t.exports=n["default"]},236:function(t,n,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n){var a={};for(var i in t)n.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}Object.defineProperty(n,"__esModule",{value:!0}),n.BaseBody=n.CalendarGridContainer=void 0;var l=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},o=a(6),s=i(o),u=a(19),c=i(u),d=a(23),h=i(d),p=a(97),f=i(p),m=a(22),y=i(m),T=a(237),E=a(36),v=a(8),g=a(238),_=i(g),b=a(72),C=i(b),D=c.default.createClass({displayName:"SwitchTab",mixins:[h.default],contextTypes:{lang:c.default.PropTypes.any},getInitialState:function(){return this.l=this.context.lang,{}},getInRangeValue:function(t){var n=this.props,a=n.type,i=n.isStatic,r=n.range;if(a===T.POINTER_MONTH&&i||a===T.POINTER_YEAR||a===T.POINTER_DECADE_YEAR){if(null!=r[0]&&r[0]>t)return r[0];if(null!=r[1]&&r[1]<t)return r[1]}else if(a===T.POINTER_MONTH&&!i){if(null!=r[0]&&f.default.isDayBefore(t,r[0]))return r[0];if(null!=r[1]&&f.default.isDayBefore(r[1],t))return r[1]}return t},handleChangeIncrease:function(e){var t=this.props,n=t.type,a=t.value,i=t.isStatic,r=t.onChange,l=a;n===T.POINTER_MONTH&&i||n===T.POINTER_YEAR?l=this.getInRangeValue(a+1):n!==T.POINTER_MONTH||i?n===T.POINTER_DECADE_YEAR&&(l=this.getInRangeValue(a+10)):l=this.getInRangeValue((0,f.default)(a).add(1,"m").__getN()),r&&r(e,n,l)},handleChangeDecrease:function(e){var t=this.props,n=t.type,a=t.value,i=t.isStatic,r=t.onChange,l=a;n===T.POINTER_MONTH&&i||n===T.POINTER_YEAR?l=this.getInRangeValue(a-1):n!==T.POINTER_MONTH||i?n===T.POINTER_DECADE_YEAR&&(l=this.getInRangeValue(a-10)):l=this.getInRangeValue((0,f.default)(a).add(-1,"m").__getN()),r&&r(e,n,l)},handleChangeViewMode:function(e){var t=this.props,n=t.type,a=t.onClick;a&&a(e,n)},renderContent:function(t,n){var a=this.props.isStatic;return t!==T.POINTER_MONTH||a?t===T.POINTER_MONTH?this.l.gMonth[n]:t===T.POINTER_DECADE_YEAR?n+" ~ "+(n+9):n:this.l.gMonth[(0,f.default)(n).month()]},render:function(){var t=this.props,n=t.className,a=t.type,i=t.value,r=t.onClick;return c.default.createElement("div",{className:(0,y.default)("bb-calendar-switcher",n)},c.default.createElement(E.BaseBtn,{className:"iconfont bbs-option decrease",onClick:this.handleChangeDecrease},String.fromCharCode(58989)),c.default.createElement(E.BaseBtn,{className:(0,y.default)("bbs-display",{"bbs-no-change":!r}),onClick:r?this.handleChangeViewMode:null},this.renderContent(a,i)),c.default.createElement(E.BaseBtn,{className:"iconfont bbs-option increase",onClick:this.handleChangeIncrease},String.fromCharCode(58990)))}}),M=c.default.createClass({displayName:"DisplayTab",mixins:[h.default],render:function(){var t=this.props,n=t.className,a=t.value;return c.default.createElement("div",{className:(0,y.default)("bb-calendar-display",n)},c.default.createElement(E.BaseBtn,{className:"bbs-display"},a))}}),N=n.CalendarGridContainer=c.default.createClass({displayName:"CalendarGridContainer",mixins:[h.default],renderColumn:function(t){for(var n=this.props,a=n.column,i=n.onRenderItem,r=[],l=0;l<a;l++)r.push(c.default.createElement("td",{key:"itemR"+t+"C"+l,className:"calendar_grid_column"},i?i({r:t,c:l}):null));return r},renderRow:function(){for(var t=this.props.row,n=[],a=0;a<t;a++)n.push(c.default.createElement("tr",{key:"row"+a,className:"calendar_grid_row"},this.renderColumn(a)));return n},render:function(){return c.default.createElement("tbody",{className:"calendar_grid"},this.renderRow())}}),P=c.default.createClass({displayName:"DateItem",mixins:[h.default],handleClick:function(e){var t=this.props,n=t.onClick,a=t.value,i=t.disabled;i||n&&n(e,a)},render:function(){var t=this.props,n=t.className,a=t.value,i=t.disabled,r=t.onRenderDisplay,l=t.now,o=r?r(a):a;return c.default.createElement(E.BaseBtn,{component:"div",className:(0,y.default)("bbc-body-item",n,{disabled:i}),onClick:this.handleClick},c.default.createElement("div",{className:"content"},o),l?c.default.createElement("span",{className:"now-tag"}):null)}}),S=c.default.createClass({displayName:"StaticDate",mixins:[h.default],getInitialState:function(){return this.STATIC_MONTH_DATE=[31,29,31,30,31,30,31,31,30,31,30,31],this.ROW=5,this.COLUMN=7,{}},getCurrentValue:function(t,n){var a=this.props.month,i=this.STATIC_MONTH_DATE[a],r=t*this.COLUMN+n+1;return r<=i?r:""},handleSelect:function(e,t){var n=this.props,a=n.type,i=(n.month,n.onChange);i&&i(e,a,t)},renderItem:function(t){var n=this.props,a=n.month,i=n.value,r=this.getCurrentValue(t.r,t.c);return c.default.createElement(P,{className:(0,y.default)("in-view",{selected:!!i&&(a===i.m&&r===i.d)}),value:r,disabled:!r,onClick:this.handleSelect})},render:function(){var t=this.props,n=t.className,a=t.month,i=t.value;return c.default.createElement("div",{className:(0,y.default)("bbc-static-date",n)},c.default.createElement("table",{className:"bbc-body-container"},c.default.createElement(N,{row:this.ROW,month:a,value:i,column:this.COLUMN,onRenderItem:this.renderItem})))}}),O=c.default.createClass({displayName:"NormalDate",mixins:[h.default],contextTypes:{lang:c.default.PropTypes.any},getInitialState:function(){return this.today=new Date,this.ROW=6,this.COLUMN=7,this.getWeekArray=(0,v.memo)(this._getWeekArray),this.l=this.context.lang,{}},componentWillReceiveProps:function(t){var n=function(t){return parseInt(t.year+""+s.default.padStart(""+(t.month+1),2,"0"),10)},a=n(this.props),i=n(t);this.isPrev=i-a<0},_getWeekArray:function(t,n){return(0,T.getWeekArray)(t+"-"+(n+1)+"-1")},getCurrentValue:function(t,n){var a=this.props,i=a.year,r=a.month,l=this.getWeekArray(i,r);return l[t][n]},handleSelect:function(e,t){var n=this.props,a=(n.year,n.month,n.type),i=n.onChange;i&&i(e,a,t)},renderDisplay:function(t){var n=this.props,a=n.onRenderContent,i=n.year,r=n.month,l=(0,f.default)(t);return a&&s.default.isFunction(a)?a(l,{year:i,month:r}):c.default.createElement("span",{className:"display-info",title:l.getFullDate()},l.date())},renderItem:function(t){var n=this.props,a=n.year,i=n.month,r=n.value,l=n.onCheckDateEnable,o=this.getCurrentValue(t.r,t.c),s=o.getMonth()===i&&o.getFullYear()===a,u=(0,f.default)(o),d=u.isSameDay(this.today),h=r?new Date(r.y,r.m,r.d):null,p=!!h&&u.isSameDay(h),m=!!l&&!l(u),T="date-"+u.getFullDate();return c.default.createElement(P,{className:(0,y.default)({"in-view":s,"out-view":!s,"now":d,"selected":p}),key:T,value:o,isCurrentMonth:s,onRenderDisplay:this.renderDisplay,disabled:!o||m,now:d,onClick:this.handleSelect})},render:function(){var t=this.props,n=t.className,a=t.year,i=t.month,o=t.value,u=r(t,["className","year","month","value"]);return c.default.createElement(C.default,l({component:"div",leaveTimeout:280,enterTimeout:220,transitionName:"bbc-box"+(this.isPrev?"-prev":""),className:(0,y.default)("bbc-static-date",n)},u),c.default.createElement("table",{key:"field"+i+"-"+a,className:"bbc-body-container"},c.default.createElement("thead",{key:"header"},s.default.map(this.l.gWeekDay,function(t,n){return c.default.createElement("th",{key:"header-"+n},c.default.createElement("div",{className:"bbc-body-title"},c.default.createElement("span",{className:"content"},t)))})),c.default.createElement(N,{row:this.ROW,column:this.COLUMN,year:a,month:i,value:o,onRenderItem:this.renderItem})))}}),I=c.default.createClass({displayName:"Month",mixins:[h.default],contextTypes:{lang:c.default.PropTypes.any},getInitialState:function(){return this.now=(0,f.default)(),this.ROW=4,this.COLUMN=3,this.l=this.context.lang,{}},getCurrentValue:function(t,n){return t*this.COLUMN+n},handleSelect:function(e,t){var n=this.props,a=n.year,i=n.type,r=n.onChange,l=null;l=a?(0,f.default)(a+"-"+(t+1)+"-1"):t,r&&r(e,i,l)},renderDisplay:function(t){var n=this.props.year,a=null;return n?(a=(0,f.default)(n+"-"+(t+1)+"-1"),a=a.format("YYYY-MM")):a=this.l.gMonth[t],c.default.createElement("span",{className:"display-info",title:a},this.l.gMonth[t])},renderItem:function(t){var n=this.props,a=n.year,i=n.value,r=this.getCurrentValue(t.r,t.c),l=r===this.now.month()&&a===this.now.year(),o=!!i&&(r===i.m&&a===i.y);return c.default.createElement(P,{className:(0,y.default)("in-view","bbc-month-item",{
now:l,selected:o}),value:r,disabled:null==r,now:l,onRenderDisplay:this.renderDisplay,onClick:this.handleSelect})},render:function(){var t=this.props,n=t.className,a=t.month,i=t.value,o=r(t,["className","month","value"]);return c.default.createElement("div",l({className:(0,y.default)("bbc-static-date",n)},o),c.default.createElement("table",{className:"bbc-body-container"},c.default.createElement(N,{row:this.ROW,month:a,value:i,column:this.COLUMN,onRenderItem:this.renderItem})))}}),Y=c.default.createClass({displayName:"Year",mixins:[h.default],contextTypes:{lang:c.default.PropTypes.any},getInitialState:function(){return this.now=(0,f.default)(),this.ROW=5,this.COLUMN=2,this.l=this.context.lang,{}},getCurrentValue:function(t,n){var a=10*Math.floor(this.props.year/10);return a+(t*this.COLUMN+n)},handleSelect:function(e,t){var n=this.props,a=n.type,i=n.onChange;i&&i(e,a,t)},renderDisplay:function(t){return c.default.createElement("span",{className:"display-info",title:t},t)},renderItem:function(t){var n=this.props.value,a=this.getCurrentValue(t.r,t.c),i=a===this.now.year(),r=!!n&&a===n.y;return c.default.createElement(P,{className:(0,y.default)("in-view","bbc-year-item",{now:i,selected:r}),value:a,disabled:!a,now:i,onRenderDisplay:this.renderDisplay,onClick:this.handleSelect})},render:function(){var t=this.props,n=t.className,a=t.year,i=t.value,o=r(t,["className","year","value"]);return c.default.createElement("div",l({className:(0,y.default)("bbc-static-date",n)},o),c.default.createElement("table",{className:"bbc-body-container"},c.default.createElement(N,{row:this.ROW,year:a,value:i,column:this.COLUMN,onRenderItem:this.renderItem})))}});n.BaseBody=c.default.createClass({displayName:"BaseBody",mixins:[h.default],contextTypes:{lang:c.default.PropTypes.any},getInitialState:function(){this.l=this.context.lang;var t=this.props,n=t.dateType,a=t.value,i=t.viewport,r=null;r=a&&!s.default.isEmpty(a)&&null!=a.y&&null!=a.m&&null!=a.d&&0!==a.y?(0,f.default)(new Date(a.y,a.m,a.d)):i&&i.__isMGMoment?i:(0,f.default)();var l=T.SUPPORT[n];return{pointerY:r.year(),pointerM:r.month(),pointerD:r.date(),pointerView:s.default.last(l.viewList)}},componentWillReceiveProps:function(t){if(t.viewport&&t.viewport!==this.props.viewport&&t.viewport.__isMGMoment){var n=t.viewport;this.setState({pointerY:n.year(),pointerM:n.month(),pointerD:n.date()})}},getSwitchRange:function(t){return t===T.POINTER_MONTH?this.support.static?T.STATIC_MONTH_RANGE:T.MONTH_RANGE:t===T.POINTER_YEAR?T.YEAR_RANGE:t===T.POINTER_DECADE_YEAR?T.YEAR_RANGE:void 0},getSwitchValue:function(t){var n=this.state,a=n.pointerM,i=n.pointerY;if(t===T.POINTER_MONTH)return this.support.static?a:(0,f.default)(i+"-"+(a+1)+"-1").__getN();if(t===T.POINTER_YEAR)return i;if(t===T.POINTER_DECADE_YEAR){var r=10*Math.floor(i/10);return r}},getValue:function(){var t=this.state;return{y:t.pointerY,m:t.pointerM,d:t.pointerD}},getPointerChange:function(t,n){var a=this.props.dateType;if(t===T.POINTER_DAY){if(this.support.static){if(n.__isMGMoment||s.default.isDate(n)){var i=(0,f.default)(n);return{pointerD:i.date(),pointerM:i.month()}}return a===T.DATE_TYPE_D?{pointerM:0,pointerD:n}:{pointerD:n}}var r=(0,f.default)(n);return{pointerD:r.date(),pointerM:r.month(),pointerY:r.year()}}if(t===T.POINTER_MONTH){if(this.support.static){if(n.__isMGMoment||s.default.isDate(n)){var l=(0,f.default)(n);return{pointerM:l.month()}}return{pointerM:n}}var o=(0,f.default)(n);return{pointerM:o.month(),pointerY:o.year()}}return{pointerY:n}},handleSwitchMode:function(e,t){this.setState({pointerView:t===this.state.pointerView?T.POINTER_DAY:t})},handleChangePoint:function(e,t,n){this.setState(this.getPointerChange(t,n))},handleChangeContent:function(e,t,n){var a=this,i=this.state.pointerView,r=this.props.onChange,l=this.support.viewList.sort(function(t,n){return n-t});this.setState(this.getPointerChange(t,n),function(){t===i&&(i===s.default.last(l)?r&&r(e,a.getValue()):a.setState({pointerView:l[l.indexOf(t)+1]}))})},handleTouchStart:function(e){e.stopPropagation()},renderHeader:function(){var t=this,n=this.state.pointerView,a=[];if(s.default.forEach(this.support.viewList.sort(function(t,n){return n-t}),function(i){i>n&&a.push(c.default.createElement(D,{key:"hs"+i,type:i,isStatic:t.support.static,range:t.getSwitchRange(i),value:t.getSwitchValue(i),onClick:t.handleSwitchMode,onChange:t.handleChangePoint}))}),s.default.isEmpty(a))if(n===T.POINTER_YEAR)a=c.default.createElement(D,{key:"hsDecadeYear",type:T.POINTER_DECADE_YEAR,range:this.getSwitchRange(T.POINTER_DECADE_YEAR),value:this.getSwitchValue(T.POINTER_DECADE_YEAR),onChange:this.handleChangePoint});else if(this.support.static&&n===T.POINTER_MONTH)a=c.default.createElement(M,{value:this.l.gChooseMonth});else{if(!this.support.static||n!==T.POINTER_DAY)return null;a=c.default.createElement(M,{value:this.l.gChooseDate})}return c.default.createElement("div",{className:(0,y.default)("bb-calendar-header")},a)},renderContent:function(){var t=this.props,n=t.dateType,a=t.value,i=t.onCheckDateEnable,r=t.onRenderContent,o=this.state,s=o.pointerView,u=o.pointerY,d=o.pointerM,h={month:d,year:u,type:s,value:a,onChange:this.handleChangeContent};if(this.support.static&&n===T.DATE_TYPE_D&&(h.month=0),this.support.static&&s===T.POINTER_DAY)return c.default.createElement(S,l({className:"bbc-body bbc-date-body"},h));switch(s){case T.POINTER_DAY:return c.default.createElement(O,l({className:"bbc-body bbc-date-body"},h,{onRenderContent:r,onCheckDateEnable:i}));case T.POINTER_MONTH:return c.default.createElement(I,l({className:"bbc-body bbc-month-body"},h));case T.POINTER_YEAR:return c.default.createElement(Y,l({className:"bbc-body bbc-year-body"},h))}return null},render:function(){var t=this.props,n=t.dateType,a=t.isHideSwitcher;this.support=T.SUPPORT[n];var i=null;return a||(i=this.renderHeader()),c.default.createElement("div",{className:(0,y.default)("bb-calendar-date",{"has-header":i,"static":this.support.static})},i,c.default.createElement(_.default,{onTouchStart:this.handleTouchStart},this.renderContent()))}})},237:function(t,n,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}Object.defineProperty(n,"__esModule",{value:!0}),n.isDisabledDate=n.getWeekArray=n.YEAR_RANGE=n.MONTH_RANGE=n.STATIC_MONTH_RANGE=n.SUPPORT=n.POINTER_DECADE_YEAR=n.POINTER_YEAR=n.POINTER_MONTH=n.POINTER_DAY=n.DATE_TYPE_YM=n.DATE_TYPE_MD=n.TIME_TYPE_H=n.TIME_TYPE_HM=n.TIME_TYPE_HMS=n.TIME_TYPE_NULL=n.DATE_TYPE_Y=n.DATE_TYPE_M=n.DATE_TYPE_D=n.DATE_TYPE_YMD=n.DATE_TYPE_NULL=n.G_LIMIT_MIN_DATE=void 0;var l,o=a(6),s=i(o),u=a(97),c=i(u),d=a(98),h=n.G_LIMIT_MIN_DATE=(0,c.default)("1900-1-1").__getN();n.DATE_TYPE_NULL=d.DATE_TYPE_NULL,n.DATE_TYPE_YMD=d.DATE_TYPE_YMD,n.DATE_TYPE_D=d.DATE_TYPE_D,n.DATE_TYPE_M=d.DATE_TYPE_M,n.DATE_TYPE_Y=d.DATE_TYPE_Y,n.TIME_TYPE_NULL=d.TIME_TYPE_NULL,n.TIME_TYPE_HMS=d.TIME_TYPE_HMS,n.TIME_TYPE_HM=d.TIME_TYPE_HM,n.TIME_TYPE_H=d.TIME_TYPE_H,n.DATE_TYPE_MD=d.DATE_TYPE_MD,n.DATE_TYPE_YM=d.DATE_TYPE_YM;var p=n.POINTER_DAY=1,f=n.POINTER_MONTH=2,m=n.POINTER_YEAR=3;n.POINTER_DECADE_YEAR=4,n.SUPPORT=(l={},r(l,d.DATE_TYPE_YMD,{viewList:[f,m,p],static:!1}),r(l,d.DATE_TYPE_YM,{viewList:[m,f],static:!1}),r(l,d.DATE_TYPE_MD,{viewList:[f,p],static:!0}),r(l,d.DATE_TYPE_Y,{viewList:[m],static:!1}),r(l,d.DATE_TYPE_M,{viewList:[f],static:!0}),r(l,d.DATE_TYPE_D,{viewList:[p],static:!0}),l),n.STATIC_MONTH_RANGE=[0,11],n.MONTH_RANGE=[h,null],n.YEAR_RANGE=[h.getFullYear(),null],n.getWeekArray=function(t){for(var n=(0,c.default)(t).startOf("month"),a=n.day(0),i=[],r=[];i.length<6;)r.length>0&&0===a.day()&&(i.push(r),r=[]),r.push(a.__getN()),a=a.clone().add(1,"d");return i},n.isDisabledDate=function(t,n){var a=!1,i=new Date(n.getTime()),r=new Date(n.getTime());return i.setHours(0,0,0),r.setHours(23,59,59),s.default.forEach(t,function(t){if(s.default.isPlainObject(t)){if(c.default.isDayInRange(i,t,!0)&&c.default.isDayInRange(r,t,!0))return a=!0,!1}else if(s.default.isDate(t)){if(c.default.isSameDay(t,n))return a=!0,!1}else if(s.default.isString(t)){var l=(0,c.default)(n);if(t.charAt(0))switch(t.charAt(0).toUpperCase()){case"D":if(l.date()===+t.substr(1))return a=!0,!1;break;case"W":if(l.week()===+t.substr(1))return a=!0,!1;break;case"M":if(l.month()===+t.substr(1))return a=!0,!1;break;case"Y":if(l.year()===+t.substr(1))return a=!0,!1}}}),a}},239:function(t,n,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}Object.defineProperty(n,"__esModule",{value:!0});var l=a(6),o=i(l),s=a(19),u=i(s),c=a(23),d=i(c),h=a(97),p=i(h),f=a(22),m=i(f),y=a(237),T=a(36),E=a(72),v=i(E),g=u.default.createClass({displayName:"TypeInfo",mixins:[d.default],handleSelectType:function(e){var t=this.props,n=t.id,a=t.onClick;a&&a(e,n)},render:function(){var t=this.props,n=t.title,a=t.data,i=t.active;return u.default.createElement(T.BaseBtn,{component:"li",className:(0,m.default)("bbc-typeItem",{active:i}),onClick:this.handleSelectType},u.default.createElement("div",{className:"bbct-title"},n),u.default.createElement("div",{className:"bbct-example"},a))}}),_=u.default.createClass({displayName:"TypeSelector",mixins:[d.default],contextTypes:{lang:u.default.PropTypes.any},getInitialState:function(){var t;return this.l=this.context.lang,this.FORMAT_TYPE=(t={},r(t,y.DATE_TYPE_YMD,this.l.type_YMD),r(t,y.DATE_TYPE_YM,this.l.type_YM),r(t,y.DATE_TYPE_MD,this.l.type_MD),r(t,y.DATE_TYPE_Y,this.l.type_Y),r(t,y.DATE_TYPE_M,this.l.type_M),r(t,y.DATE_TYPE_D,this.l.type_D),t),{typeSelectMode:!1}},handleTriggerTypeSelect:function(){var t=this.props.typeList;!t||t.length<=1||this.setState({typeSelectMode:!this.state.typeSelectMode})},handleChangeDateType:function(e,t){var n=this.props.onChangeType;this.setState({typeSelectMode:!1}),n&&n(e,t)},renderTypeSelector:function(){var t,n=this,a=this.props,i=a.typeList,l=a.value,s=(0,p.default)(),c=(t={},r(t,y.DATE_TYPE_YMD,s.getFullDate()),r(t,y.DATE_TYPE_YM,s.getYearMonth()),r(t,y.DATE_TYPE_MD,s.getMonthDay()),r(t,y.DATE_TYPE_Y,s.year()),r(t,y.DATE_TYPE_M,this.l.gMonth[s.month()]),r(t,y.DATE_TYPE_D,s.date()),t);return u.default.createElement("div",{className:"bb-calendar-typeSelector"},u.default.createElement("ul",{className:"bbc-typeList",key:"formatList"},o.default.map(c,function(t,a){return i&&i.indexOf(+a)>-1?u.default.createElement(g,{data:t,title:n.FORMAT_TYPE[a],active:+a===+l,id:+a,key:"item"+a,onClick:n.handleChangeDateType}):null})))},render:function(){var t=this.state.typeSelectMode,n=this.props,a=n.typeList,i=n.value,r=n.children;return u.default.createElement(v.default,{className:"bb-calendar-wrapper"},a&&a.length>1?u.default.createElement("div",{className:"bb-calendar-type"},u.default.createElement(T.BaseBtn,{className:"bbc-type-content",onClick:this.handleTriggerTypeSelect},this.FORMAT_TYPE[i],u.default.createElement("i",{className:"iconfont"},String.fromCharCode(58983)))):null,t?this.renderTypeSelector():r)}});n.default=_,t.exports=n["default"]},240:function(t,n,a){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function r(t,n){var a={};for(var i in t)n.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(a[i]=t[i]);return a}function l(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}Object.defineProperty(n,"__esModule",{value:!0}),n.BaseTimeBody=void 0;var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(t[i]=a[i])}return t},s=a(19),u=i(s),c=a(23),d=i(c),h=a(238),p=(i(h),a(237)),f=a(53),m=i(f),y=a(36),T=u.default.createClass({displayName:"BaseTimeInput",mixins:[d.default],handleChange:function(e){var t=this.props,n=t.type,a=t.onChange,i=e.target.value>>>0;!isNaN(i)&&isFinite(i)||(i=0),a(e,l({},n,i))},render:function(){var t=this.props,n=t.typeContent,a=(t.onChange,r(t,["typeContent","onChange"]));return u.default.createElement(m.default,o({className:"bbtc-content"},a,{onChange:this.handleChange}),u.default.createElement("span",{className:"bbtc-type"},n))}}),E=n.BaseTimeBody=u.default.createClass({displayName:"BaseTimeBody",mixins:[d.default],contextTypes:{lang:u.default.PropTypes.any},renderContent:function(){var t=this.props,n=t.timeType,a=t.deviceInfo,i=t.value,r=t.onChange,l=this.context.lang.gTimeUnit,s={deviceInfo:a,placeholder:"00",onChange:r};return u.default.createElement(y.BaseBtn,{component:"div",className:"bbt-content clear"},u.default.createElement(T,o({type:"H",typeContent:l[0]},s,{value:i?i.H:""})),n===p.TIME_TYPE_HM||n===p.TIME_TYPE_HMS?u.default.createElement(T,o({type:"M",typeContent:l[1]},s,{value:i?i.M:""})):null,n===p.TIME_TYPE_HMS?u.default.createElement(T,o({type:"S",typeContent:l[2]},s,{value:i?i.S:""})):null)},render:function(){return u.default.createElement("div",{className:"bb-calendar-time"},this.renderContent())}});n.default=E}});