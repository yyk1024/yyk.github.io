webpackJsonp([11,13],[,function(t,n,a){t.exports=a(2)(297)},function(t,n){t.exports=commons},function(t,n,a){t.exports=a(2)(1)},function(t,n,a){t.exports=a(2)(311)},,function(t,n,a){t.exports=a(2)(312)},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.onPageLeave=n.onPageStatusChange=n.onResize=n.eventHandle=void 0;var i=a(6),o=r(i),s="G_E_R",l="G_E_L",u="G_E_RF",c={},d={},f=function(t,n){d[t]||(d[t]=[]),d[t].indexOf(n)===-1&&d[t].push(n);var a=!0;return function(){if(a){a=!1;var r=d[t].indexOf(n);d[t].splice(r,1)}}},m=n.eventHandle=function(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{useCapture:!1},i=[].concat(t);return a||(a=i.join(".").toUpperCase()),c[a]||(o.default.forEach(i,function(t){window.addEventListener(t,function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];d[a]&&o.default.forEach(d[a].slice(),function(t){return t.apply(void 0,n)})},r.useCapture)}),c[a]=!0),f(a,n)};n.onResize=function(t){return m(["resize","orientationchange"],t,s)},n.onPageStatusChange=function(t){return m(["pagehide","pageshow","blur","focus"],t,u)},n.onPageLeave=function(t){return m("beforeunload",t,l)}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.getVehicleCNStr=n.isVehicleCNWJ=n.isVehicleCN=n.isNewEnergyCN=n.maxCanUseCalculate=n.quotaCalculate=n.scrollTo=n.fileNameBeauty=n.fileSizeBeauty=n.FileBox=n.colorMix=n.darken=n.lighten=n.grayLevel=n.fade=n.styleInject=n.singleImagePreload=n.getImageSize=n.asyncDebounce=n.deviceInfo=n.strSerialNoNormalize=n.str2CDB=n.autoMbrmLinkify=n.linkify=n.getFontInfo=n.getTextWidth=n.isMobileCN=n.isEmail=n.leftPad=n.parseUrl=n.inIframe=n.cAF=n.rAF=n.getStaticUrl=n.getPCDNUrl=n.getCDNUrl=n.forceFreshUrl=n.addUrlParams=n.getCookie=n.setCookie=n._COOKIE_STATIC=n.calcTokenMod=n.randomWord=n.SeedRandom=n.shallowEqual=n.memo=n.getLanCode=n.CF_VEHICLE_TYPE_SELECT=n._IS_PRD=void 0;var s=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),u=a(6),c=r(u),d=a(9),f=r(d),m=a(11),p=r(m),h=a(14),g=r(h),_=a(15),v=r(_),b=n._IS_PRD=!0,y=n.CF_VEHICLE_TYPE_SELECT=[{id:1,value:"京"},{id:2,value:"津"},{id:3,value:"冀"},{id:4,value:"晋"},{id:5,value:"蒙"},{id:6,value:"辽"},{id:7,value:"吉"},{id:8,value:"黑"},{id:9,value:"沪"},{id:10,value:"苏"},{id:11,value:"浙"},{id:12,value:"皖"},{id:13,value:"闽"},{id:14,value:"赣"},{id:15,value:"鲁"},{id:16,value:"豫"},{id:17,value:"鄂"},{id:18,value:"湘"},{id:19,value:"粤"},{id:20,value:"桂"},{id:21,value:"琼"},{id:22,value:"渝"},{id:23,value:"川"},{id:24,value:"贵"},{id:25,value:"云"},{id:26,value:"藏"},{id:27,value:"陕"},{id:28,value:"甘"},{id:29,value:"青"},{id:30,value:"宁"},{id:31,value:"新"}],E=(n.getLanCode=function(t){return t.match(/^zh/i)?t.match(/hant|hk|tw|mo|sg/i)?2:1:t.match(/^ja/i)?9:t.match(/^ar/i)?5:t.match(/^en/i)?3:t.match(/^de/i)?7:t.match(/^fr/i)?6:t.match(/^it$/i)?8:t.match(/^es/i)?4:t.match(/^ko/i)?10:3},f.default.memo),C=f.default.shallowEqual;n.memo=E,n.shallowEqual=C;var T=(n.SeedRandom=function(){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;o(this,t),this.seed=n,this.__startSeed=n}return l(t,[{key:"random",value:function(t,n){t=t||1,n=n||0,this.seed=(9301*this.seed+49297)%233280;var a=this.seed/233280;return n+a*(t-n)}},{key:"reset",value:function(){this.seed=this.__startSeed}}]),t}(),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2147483647;return Math.round(Math.random()*(n-t))+t}),S=(n.randomWord=function(t,n){var a=t;n&&n>t&&(a=T(t,n));for(var r="",i=0;i<a;i++){var o=T()%62;o<10?r=r+""+o:r+=o<36?String.fromCharCode(97+o-10):String.fromCharCode(65+o-36)}return r},n.calcTokenMod=function(t,n){for(var a=0,r=0,i=t.length;r<i;r++)a+=t.charCodeAt(r)||0;return a%n},location.hostname.split("."));S.length>2?S[0]="":S=[""].concat(S),S=S.join(".");var M=(n._COOKIE_STATIC={DOMAIN:b?S:null,DOMAIN_FULL:b?location.hostname:null,SUBMIT_ONCE_DAY:7,ONE_DAY:1,LOCAL_UVD:30},n.setCookie=function(t,n,a){var r=null;return a.expires&&(a.isExpiresDate?r=a.expires:(r=new Date,a.expires=parseInt(a.expires,0),isNaN(a.expires)||(r=new Date(r-0+6048e5*a.expires)))),r&&(r=r.toUTCString()),document.cookie=[t,"=",escape(n),r?"; expires="+r:"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"","none"===a.SameSite?"; SameSite=None":"",a.secure?"; secure":""].join("")},n.getCookie=function(t){var n=document.cookie.split(";"),a=void 0,r=void 0,i=void 0;for(a=0,r=n.length;a<r;a++)if(i=c.default.trim(n[a]).split("="),i[0]===t)return unescape(i[1]);return null},n.addUrlParams=function(t,n){var a="",r=t;if(c.default.forEach(n,function(t,n){if(!t)return!0;var i=n+"="+encodeURIComponent(t);r.indexOf(n+"=")>-1?r=r.replace(new RegExp("(&|\\?)"+n+".+?(&|$)"),function($,t,n){return""+t+i+n}):(a&&(a+="&"),a+=i)}),a){if(r.indexOf("?")>-1){var i=r.split("?");return i[1]?i[0]+"?"+a+"&"+i[1]:i[0]+"?"+a}return r.indexOf("#")>-1?r.split("#")[0]+"?"+a+location.hash:r+"?"+a}return r}),I=(n.forceFreshUrl=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"frcpgv";return M(t,i({},n,+new Date))},b?"pcdn.mikecrm.com":null),N=b?g.default.CDN_URL+"cdn":null,A=f.default.cdnizerFactory(N),x=f.default.cdnizerFactory(I),k=f.default.cdnizerFactory(null),D=function(t){return["cn"].indexOf(t)>-1&&!window._PREVIEW},O=(n.getCDNUrl=function(t,n){return n?D(t)?A(n):k(n):null},n.getPCDNUrl=function(t,n){return n?D(t)?x(n):k(n):null},n.getStaticUrl=function(t){if(!t)return null;if(p.default.isUrl(t))return t;var n=location.origin,a=location.pathname.split("/").slice(0,-1),r=t.split("/"),i=!0;return c.default.forEach(r,function(t){if("."===t||""===t);else if(".."===t){if(a.pop(),a.length<1)return i=!1,!1}else a.push(t)}),i?""+n+a.join("/"):t},n.rAF=f.default.rAF),P=n.cAF=f.default.cAF,L=(n.inIframe=f.default.inIFrame,n.parseUrl=f.default.parseURL),w=(n.leftPad=p.default.leftPad,n.isEmail=p.default.isEmail,n.isMobileCN=p.default.isMobileCN,n.getTextWidth=p.default.getWidth,n.getFontInfo=function(t){var n={fontSize:14,lineHeight:1.2,font:"Helvetica, sans-serif"};try{var a=window.getComputedStyle(t);n={fontSize:parseFloat(a.fontSize),lineHeight:parseFloat(a.lineHeight)/parseFloat(a.fontSize),font:a.fontFamily}}catch(t){n={fontSize:14,lineHeight:1.2,font:"Helvetica, sans-serif"}}return n},n.linkify=f.default.linkify),R=(n.autoMbrmLinkify=function(t){var n=w(t);if(!n)return n;var a=L(n);if(a.host&&a.host.indexOf(location.hostname)>-1&&(!a.params||!a.params.m)){var r=L(location.href);if(r.params&&r.params.m&&16===r.params.m.length)return M(n,{m:r.params.m})}return n},n.str2CDB=function(t){for(var n="",a=0;a<t.length;a++)n+=12288!==t.charCodeAt(a)?t.charCodeAt(a)>65280&&t.charCodeAt(a)<65375?String.fromCharCode(t.charCodeAt(a)-65248):String.fromCharCode(t.charCodeAt(a)):String.fromCharCode(t.charCodeAt(a)-12256);return n}),F=n.strSerialNoNormalize=function(t){return R(c.default.trim(""+t)).toUpperCase()},U=f.default.deviceCheck,B=f.default.fuzzyDeviceCheck,H=f.default.browserCheck,j=f.default.getWindowSize,G=(n.deviceInfo={isMobile:U.isMobile,isFuzzyMobile:B,browser:H,os:U.os,getClientWidth:function(){return j().width},getClientHeight:function(){return j().height}},n.asyncDebounce=function(t,n){var a=null;return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return new Promise(function(r,o){a&&(a(),a=null);var s=window.setTimeout(function(){a=null,r(t.apply(void 0,i))},n);a=function(){clearTimeout(s),o({debounced:!0})}})}},n.getImageSize=f.default.getImageSize,n.singleImagePreload=function(t){return new Promise(function(n){var a=new Image;a.src=t,a.complete?n(!0):(a.onload=function(){n(!0)},a.onerror=function(){n(!1)})})},n.styleInject=function(t,n){var a=c.default.assign({},t);return c.default.isPlainObject(a.default)?(c.default.forEach(a,function(t,r){a[r]=c.default.assign({},t,n)}),a):c.default.assign(a,n)},function(t){return"hsla("+Math.round(t.h)+", "+Math.round(100*t.s)+"%, "+Math.round(100*t.l)+"%, "+t.a+")"}),W=function(t){return"rgba("+t.r+", "+t.g+", "+t.b+", "+t.a+")"},V=function(t){return t=""+t,t.length<2?"0"+t:t},z=function(t){return t.map(function(t){return t>>>=0,t>255&&(t=255),V(t.toString(16)).toUpperCase()}).join("")},K=function(t){return"#"+z([t.r,t.g,t.b])},q=function(t){return 1===t.a?K(t):W(t)},Y=(n.fade=function(t,n){var a=(0,v.default)(t);if(!a)return null;var r=v.default.rgba(a);return r.a=n,W(r)},n.grayLevel=function(t){var n=(0,v.default)(t);if(!n)return null;var a=v.default.rgba(n),r=a.r,i=a.g,o=a.b;return.299*parseInt(r,10)+.587*parseInt(i,10)+.114*parseInt(o,10)},function(t){var n=(0,v.default)(t);if(!n)return null;var a=v.default.rgba(n),r=a.r,i=a.g,o=a.b,s=a.a;r/=255,i/=255,o/=255;var l=Math.min(r,i,o),u=Math.max(r,i,o),c=void 0,d=void 0,f=void 0,m=u-l,p=r===u?i-o:o===u?r-i:o-r;return 0===m?c=0:u===r?c=60*(p/m%6):u===i?c=60*(p/m+2):u===o&&(c=60*(p/m+4)),f=(u+l)/2,d=0===m?0:m/(1-Math.abs(2*f-1)),{h:c,s:d,l:f,a:s}}),Q=(n.lighten=function(t,n){var a=Y(t);if(!a)return null;a.l=Math.min(a.l+n,1);var r=v.default.rgba((0,v.default)(G(a)));return q(r)},n.darken=function(t,n){var a=Y(t);if(!a)return null;a.l=Math.max(a.l-n,0);var r=v.default.rgba((0,v.default)(G(a)));return q(r)},n.colorMix=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.5;a=Math.min(1,a);var r=(0,v.default)(t),i=(0,v.default)(n);if(!r||!i)return null;var o=v.default.rgba(r),s=v.default.rgba(i),l={};return c.default.forEach(o,function(t,n){l[n]=Math.floor(t+(s[n]-t)*(1-a))}),q(l)},Promise.resolve(!0)),J=document.createElement("canvas"),X=!1,Z=null;J.getContext&&(Z=J.getContext("2d"),X=!!Z.getImageData);var ee=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=new Promise(function(r){if(X&&n){var i=n.width,o=n.height;if(!i||!o)return void r(!1);var s=1;a<Math.max(i,o)&&(s=a/Math.max(i,o)),J.width=Math.floor(i*s),J.height=Math.floor(o*s),Z.rect(0,0,J.width,J.height),Z.fillStyle="rgba(0,0,0, 0.1)",Z.fill(),Z.drawImage(n.image,0,0,J.width,J.height);var l=J.toDataURL(t.type,.5);r(l)}else r(!1)});return Q=Q.then(function(t){return r}),r},te=function(t){if(window.FileReader){var n=new FileReader;return new Promise(function(a){n.onload=function(e){var t=e.target.result,n=new Image;n.onload=function(){var t=n.width,r=n.height;a({width:t,height:r,image:n})},n.src=t},n.readAsDataURL(t)})}return Promise.resolve(null)},ne=["art","bm","bmp","dwg","dxf","fif","flo","fpx","g3","gif","psd","ico","ief","iefs","jfif","jfif-tbnl","jpe","jpeg","jpg","jps","jut","mcf","nap","nif","niff","pbm","pct","pcx","pgm","pic","pict","pm","png","pnm","ppm","qif","qti","qtif","ras","rf","rgb","rp","tif","tiff","turbot","xbm","xif","xpm","x-png","xwd"],ae=function(){function t(n){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o(this,t),this.file=n,this.init(a)}return l(t,[{key:"init",value:function(t){var n=this;this.name=this.file.name,this.size=this.file.size,this.type=this.file.type||null,this.suffix=null;var a=this.name.split(".");a.length>1&&(this.suffix=a[a.length-1]),this.image=this.isImage(),t&&this.image&&(this.displaySizeResult=te(this.file),this.displaySize=null,this.previewResult=this.getFileSize().then(function(t){return ee(n.file,t)}),this.previewData=null)}},{key:"isImage",value:function(){return!(!(this.type&&this.type.indexOf("image/")>-1)||"svg"===this.suffix&&"image/svg+xml"===this.type)||!!(!this.type&&this.suffix&&ne.indexOf(this.suffix)>-1)}},{key:"getPreview",value:function(){var t=this;return this.previewData?Promise.resolve(this.previewData):this.previewResult?this.previewResult.then(function(n){return t.previewData=n,t.previewData}):Promise.reject(!1)}},{key:"getFileSize",value:function(){var t=this;return this.displaySize?Promise.resolve(this.displaySize):this.displaySizeResult?this.displaySizeResult.then(function(n){return t.displaySize=n,t.displaySize}):Promise.resolve(!1)}}]),t}(),re=null,ie=function(t){if(null==t)return null;for(var n=re=re||["B","KB","MB","GB"],a=0,r=t;r>1024;)a++,r/=1024;return r.toFixed(2)+n[a]},oe=function(t,n){var a=(""+t).split("."),r="",i=void 0;a.length>1&&(r=a.pop()),i=a.join(".");var o=Math.ceil(n/20);if(o<=3)return i[0]+".."+i.substring(i.length-2,i.length)+"."+r;var s=Math.floor(o/2-1);return i.length>o?i.substring(0,s)+"..."+i.substring(i.length-s,i.length)+"."+r:t};n.FileBox=ae,n.fileSizeBeauty=ie,n.fileNameBeauty=oe;var se=navigator.userAgent.toLowerCase(),le=function(t,n,a,r){return t/=r/2,t<1?a/2*t*t+n:(t--,-a/2*(t*(t-2)-1)+n)},ue=function(t,n,a){var r=t===document.documentElement;r&&!t.scrollTop&&document.body.scrollTop?t=document.body:t.scrollTop||document.body.scrollTop||/android/.test(se)&&/weixin|qq/.test(se)&&(t=document.body);var i=t.scrollTop,o=n-i,s=20,l=+new Date,u=0,c=null,d=function n(){var r=+new Date;if(r-l>=s*(u+1)){u++;var d=Math.min(r-l,a);if(t.scrollTop=le(d,i,o,a),d>=a)return P(c),void(c=null)}c=O(n)};c=O(d)};n.scrollTo=ue;var ce=function(t){if(t){var n=null,a=null,r=1/0,i=1/0,o=s(t,3);return a=o[0],n=o[1],i=o[2],null!=n&&(r=(n||0)-(a||0)),c.default.isNumber(i)&&i>=0||(i=1/0),null!=r&&isFinite(r)&&(r=Math.max(0,r)),{remaining:r,maxValue:i}}return{remaining:1/0,maxValue:1/0}},de=function(t){return null!==t&&isFinite(t)},fe=function(t){var n=t.remaining,a=t.maxValue,r=de(n),i=de(a);if(i){var o=1/0;return r&&(o=n),i&&(o=Math.min(o,a)),o}return 1/0};n.quotaCalculate=ce,n.maxCanUseCalculate=fe;var me=function(t,n){n=n.toUpperCase();var a="ABCDEFGHJK",r=n.charAt(1),i=7===n.length?n.charAt(6):null;if(a.indexOf(r)>-1||a.indexOf(i)>-1)return!0},pe=function(t){if(t=t.toUpperCase(),t.charCodeAt(0)>=65&&t.charCodeAt(0)<=90){if(t.match(/^[A-Z0-9]+$/))return!0;var n=t.substr(0,t.length-1),a=t.substr(-1);if(n.match(/^[A-Z0-9]+$/)&&"使领港澳警学挂临".indexOf(a)>-1)return!0}return!1},he="[京津冀晋蒙辽吉黑沪苏浙皖闽赣鲁豫鄂湘粤桂琼渝川贵云藏陕甘青宁新]",ge=new RegExp("^WJ"+he),_e=new RegExp("^"+he),ve=function(t){return t.toUpperCase().match(ge)&&8===t.length||pe(t.substr(1))&&t.toUpperCase().match(_e)&&(7===t.length||8===t.length)},be=function(t){var n=t.substr(0,1),a=t.substr(1);return me(n,a)},ye=function(t){return t.toUpperCase().match(ge)},Ee=function(t){var n=t;if(c.default.isPlainObject(t)){var a="";t.vpType&&(a=""+(c.default.find(y,{id:t.vpType})||{}).value),n=a+(t.vpVal||"")}return F(n)};n.isNewEnergyCN=be,n.isVehicleCN=ve,n.isVehicleCNWJ=ye,n.getVehicleCNStr=Ee},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){var t=function(t){var n=document.createElement("div");return n.innerHTML=t,n.childNodes[0]},n=function(t,n){var a=void 0;return document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(t,"").getPropertyValue(n):t.currentStyle&&(n=n.replace(/-(w)/g,function(t,n){return n.toUpperCase()}),a=t.currentStyle[n]),a},a='<style type="text/css">@media (max-width: 768px) {#MobileDetect {color: rgb(12, 34, 56)}}</style>',r='<div id="MobileDetect"></div>',i=!1;if(C.default.browser.webview)i=!0;else if(C.default.os.tablet||C.default.os.phone)if(l())i=!0;else{var o=t(a),s=t(r);document.head.appendChild(o),document.head.appendChild(s),i="rgb(12, 34, 56)"===n(s,"color"),o.remove?(o.remove(),s.remove()):(o.parentNode.removeChild(o),s.parentNode.removeChild(s))}return{os:C.default.os,isMobile:i}}function o(){var t={version:C.default.browser.version};if(C.default.browser.ie)t.msie=!0;else if(C.default.browser.safari)t.webkit=!0,t.safari=!0;else if(C.default.browser.firefox)t.mozilla=!0,t.firefox=!0;else{if(!C.default.browser.chrome)return C.default.browser;t.webkit=!0,t.chrome=!0}return t}function s(){var t=Math.min(document.documentElement.clientWidth,document.documentElement.clientHeight),n=!1;return t>800?n=!1:(C.default.os.tablet||C.default.os.phone)&&(n=!0),n}function l(){try{return window.self!==window.top}catch(t){return!0}}function u(t){return x.call(window,t)}function c(){k.apply(window,arguments)}function d(t){var n;return n=document.createElement("a"),n.href=t,{source:t,protocol:n.protocol.replace(":",""),host:n.hostname,port:n.port,query:n.search,params:function(){for(var t,a={},r=n.search.replace(/^\?/,"").split("&"),i=r.length,o=0;o<i;o++)if(r[o]){t=r[o].split("=");try{var s=(0,S.filterParams)(decodeURIComponent(t[1]));a[t[0]]=s}catch(t){}}return a}(),file:(n.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:n.hash.replace("#",""),path:n.pathname.replace(/^([^\/])/,"/$1"),relative:(n.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:n.pathname.replace(/^\//,"").split("/")}}function f(t){var n=y.default.trim(t||""),a=d(n),r=d(location.href);return a.protocol&&a.host!==r.host||((0,T.isUrl)(n)?n.match(/^(http:\/\/|https:\/\/)/)||(n="http://"+n):n=null),n}function m(t,n){return new Promise(function(a){var r=new Image;r.onload=function(){a({width:r.width,height:r.height})},r.onerror=function(){a({width:null,height:null})},r.src=n?""+t+(t.indexOf("?")>-1?"&":"?")+"nocache="+ +new Date:t,r.complete&&r.width&&r.height&&a({width:r.width,height:r.height})})}function p(t,n){var a=t.split("/"),r=n.split("/");a.pop();for(var i=0;i<r.length;i++)"."!==r[i]&&(".."===r[i]?a.pop():a.push(r[i]));return a.join("/")}function h(t){return t?function(n){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return p((a?location.protocol:"http:")+"//"+t+(location.pathname||"/"),n)}:function(t){return t}}function g(t,n){if(t===n)return!0;var a=Object.keys(t),r=Object.keys(n);if(a.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<a.length;o++)if(!i.call(n,a[o])||t[a[o]]!==n[a[o]])return!1;return!0}function _(t){return!!t&&("object"===("undefined"==typeof t?"undefined":v(t))||"function"==typeof t)&&"function"==typeof t.then}Object.defineProperty(n,"__esModule",{value:!0});var v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b=a(6),y=r(b),E=a(10),C=r(E),T=a(11),S=a(12),M=(r(S),null);try{M=window.performance?window.performance.now.bind(window.performance):null}catch(t){}for(var I=M||Date.now||function(){return+new Date},N=["webkit","moz","o","ms"],A="AnimationFrame",x=window["request"+A],k=window["cancel"+A]||window["cancelRequest"+A],D=0,O=N.length;!x&&D<O;D++)x=window[N[D]+"Request"+A],k=window[N[D]+"Cancel"+A]||window[N[D]+"CancelRequest"+A];if(!x||!k){var P=0,L=0,w=[],R=1e3/60;x=function(t){if(0===w.length){var n=I(),a=Math.max(0,R-(n-P));P=a+n,setTimeout(function(){var t=w.slice(0);w.length=0;for(var n=0;n<t.length;n++)if(!t[n].cancelled)try{t[n].callback(P)}catch(t){setTimeout(function(){throw t},0)}},Math.round(a))}return w.push({handle:++L,callback:t,cancelled:!1}),L},k=function(t){for(var n=0,a=w.length;n<a;n++)w[n].handle===t&&(w[n].cancelled=!0)}}var F=function(){var t=null,n=null;return"number"==typeof window.innerWidth?(F=function(){return{width:window.innerWidth,height:window.innerHeight}},t=window.innerWidth,n=window.innerHeight):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(F=function(){return{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}},t=document.documentElement.clientWidth,n=document.documentElement.clientHeight):(F=function(){return{width:document.body.clientWidth,height:document.body.clientHeight}},t=document.body.clientWidth,n=document.body.clientHeight),{width:t,height:n}},U=function(t,n){return t===n},B=function(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:U,r=!1,i=null,o=[],s=[],l=function(t,n){return a(t,o[n])};return function(){for(var a=arguments.length,u=Array(a),c=0;c<a;c++)u[c]=arguments[c];return r&&i===n&&u.length===o.length&&u.every(l)?s:(r=!0,o=u,s=t.apply(void 0,u),i=n,s)}};n.default={getNow:I,rAF:u,cAF:c,inIFrame:l,shallowEqual:g,deviceCheck:i(),browserCheck:o(),fuzzyDeviceCheck:s(),parseURL:d,getImageSize:m,getWindowSize:F,cdnizerFactory:h,linkify:f,isPromise:_,memo:B},t.exports=n["default"]},function(t,n){"use strict";function a(t,n){var a={},r={},i=t.match(/Web[kK]it[\/]{0,1}([\d.]+)/),o=t.match(/(Android);?[\s\/]+([\d.]+)?/),s=!!t.match(/\(Macintosh\; Intel /),l=t.match(/(iPad).*OS\s([\d_]+)/),u=t.match(/(iPod)(.*OS\s([\d_]+))?/),c=!l&&t.match(/(iPhone\sOS)\s([\d_]+)/),d=t.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),f=/Win\d{2}|Windows/.test(n),m=t.match(/Windows Phone ([\d.]+)/),p=d&&t.match(/TouchPad/),h=t.match(/Kindle\/([\d.]+)/),g=t.match(/Silk\/([\d._]+)/),_=t.match(/(BlackBerry).*Version\/([\d.]+)/),v=t.match(/(BB10).*Version\/([\d.]+)/),b=t.match(/Chrome\/([\d.]+)/)||t.match(/CriOS\/([\d.]+)/),y=t.match(/Firefox\/([\d.]+)/),E=t.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),C=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),T=!b&&t.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),S=T||t.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);return(r.webkit=!!i)&&(r.version=i[1]),o&&(a.android=!0,a.version=o[2]),c&&!u&&(a.ios=a.iphone=!0,a.version=c[2].replace(/_/g,".")),l&&(a.ios=a.ipad=!0,a.version=l[2].replace(/_/g,".")),u&&(a.ios=a.ipod=!0,a.version=u[3]?u[3].replace(/_/g,"."):null),m&&(a.wp=!0,a.version=m[1]),d&&(a.webos=!0,a.version=d[2]),p&&(a.touchpad=!0),_&&(a.blackberry=!0,a.version=_[2]),v&&(a.bb10=!0,a.version=v[2]),h&&(a.kindle=!0,a.version=h[1]),g&&(r.silk=!0,r.version=g[1]),!g&&a.android&&t.match(/Kindle Fire/)&&(r.silk=!0),b&&(r.chrome=!0,r.version=b[1]),y&&(r.firefox=!0,r.version=y[1]),E&&(a.firefoxos=!0,a.version=E[1]),C&&(r.ie=!0,r.version=C[1]),S&&(s||a.ios||f)&&(r.safari=!0,a.ios||(r.version=S[1])),T&&(r.webview=!0),a.tablet=!!(l||o&&!t.match(/Mobile/)||y&&t.match(/Tablet/)||C&&!t.match(/Phone/)&&t.match(/Touch/)),a.phone=!(a.tablet||!(o||c||d||_||v||a.ipod||b&&t.match(/Android/)||b&&t.match(/CriOS\/([\d.]+)/)||y&&t.match(/Mobile/)||C&&t.match(/Touch/))),{os:a,browser:r}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=a(navigator.userAgent,navigator.platform),t.exports=n["default"]},function(t,n){"use strict";function a(t){var n={isTrue:!1,year:null,month:null,day:null,isMale:!1,isFemale:!1};if(!t||18!==t.length)return n.isTrue=!1,n;if(18===t.length){var a=t.substring(6,10),r=t.substring(10,12),i=t.substring(12,14),o=t.substring(14,17),s=new Date(a,parseFloat(r)-1,parseFloat(i));if(s.getFullYear()!==parseInt(a,10)||s.getMonth()!==parseInt(r,10)-1||s.getDate()!==parseInt(i,10))return n.isTrue=!1,n;var l=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2,1],u=[1,0,10,9,8,7,6,5,4,3,2],c=0,d=t.split("");"x"===d[17].toLowerCase()&&(d[17]=10);for(var f=0;f<17;f++)c+=l[f]*d[f];var m=c%11;return+d[17]!==u[m]?n.isTrue=!1:(n.isTrue=!0,n.year=s.getFullYear(),n.month=s.getMonth()+1,n.day=s.getDate(),o%2===0?(n.isFemale=!0,n.isMale=!1):(n.isFemale=!1,n.isMale=!0),n)}return n}function r(){var t=document.createElement("canvas");return!(!t.getContext||!t.getContext("2d"))}Object.defineProperty(n,"__esModule",{value:!0});var i={},o=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f] ))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d)|(([a-z]|\d)([a-z]|\d|-|\.|_|~)*([a-z]|\d)))\.)+(([a-z])|(([a-z])([a-z]|\d|-|\.|_|~ )*([a-z])))$/i,s=/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])|(([a-z]|\d|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])([a-z]|\d|-|\.|_|~|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])*([a-z]|\d|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])))\.)+(([a-z]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])|(([a-z]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])([a-z]|\d|-|\.|_|~|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])*([a-z]|[\u00A0\u00A2-\u00B3\u00B8-\u00BE\u00C0-\u00C5\u00C8\u00CA-\u2015\u2017\u201E-\u2038\u203B-\u3000\u3020-\uD7FF\uF900-\uFDCF\uFDF0-\uFE2F\uFE5D-\uFF00])))$/i,l=/([\u0023\u0030-\u0039]\uFE0F\u20E3)|(\u002A(\uFE0F*)\u20E3)|([\u00A9\u00AE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260e\u2611\u2614\u2615\u2618\u261D\u2620-\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640-\u265F\u2660-\u267F\u2692-\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FD\u2702\u2705\u2708-\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u274C\u274E\u2747\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27B0\u27BF\u27A1\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]\uFE0F?\u200D?)|(\uD83C[\uDC04\uDD70\uDD71\uDCCF\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDFFF]\uFE0F?\u200D?[\u2640\u2642]?\uFE0F?)|(\uD83C\uDFF4\uDB40[\uDC00-\uDC7F])|(\uD83D[\uDC00-\uDEFF]\uFE0F?\u200D?[\u2640\u2642]?\uFE0F?)|(\uD83E[\uDD10-\uDDFF]\uFE0F?\u200D?[\u2640\u2642]?\uFE0F?)|(\uDB40[\uDC00-\uDC7F])|([\uFFFD-\uFFFF]?)/g,u=/^((http|https):\/\/)?(\w(\:\w)?@)?([0-9a-z_-]+\.)*?([a-z0-9-]+\.[a-z]{2,6}(\.[a-z]{2})?(\:[0-9]{2,6})?)((\/[^?#<>\/\\*":]*)+(\?[^#]*)?(#.*)?)?$/i,c=/([\u4E00-\u9FA5])/g,d=/[\u0000-\u002f\u003a-\u0040\u005b-\u0060\u007b-\u007f\u2010-\u2026\u3000-\u301e\ufe50-\uffff]/g,f=/[0-9]+/g,m=/^\d+$/,p=/^(\(?(\+)?86\)?)?(\s*)(?:1\d\d)([\-\_\s])?(\d{4})([\-\_\s])?(\d{4})$/i,h=/^(\(?(\+)?852\)?)?(\s*)([695])\d{7}$/i,g=/^(((\(?(\+)?886\)?)(\s*))|0)9[0-8]\d{1}(\-?)\d{2}(\-?)\d{4}$/i,_=/^[1-9][0-9]{4,20}$/i,v=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/i;i.keepStr=function(t,n){var a="";return t.replace(n,function($){a+=$}),a},i.keepNum=function(t){return i.keepStr(t,f)},i.removeEmpty=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return t.replace(d,n)},i.isEmptyStr=function(t){return!!t.match(d)},i.getLength=function(t,n){return t=""+t,n?t.replace(c,function(t){return"**"}).length:t.length},i.emojiRemove=function(t){return t.replace(l,"")},i.isEmail=function(t){return s.lastIndex=0,s.test(t)},i.isOriginalEmail=function(t){return o.lastIndex=0,o.test(t)},i.isUrl=function(t){return u.lastIndex=0,u.test(t)},i.isMobileCN=function(t){return p.lastIndex=0,p.test(t)},i.isMobileHK=function(t){return h.lastIndex=0,h.test(t)},i.isMobileTW=function(t){return g.lastIndex=0,g.test(t)},i.isQQ=function(t){return _.lastIndex=0,_.test(t)},i.isCnIdCard=function(t){var n=a(""+t);return n&&n.isTrue},i.isIP=function(t){return v.lastIndex=0,v.test(t)},i.isNumber=function(t){return!t||(m.lastIndex=0,m.test(t))},i.generateRegexCheck=function(t){var n=t.replace(/.*\/([gimy]*)$/,"$1"),a=t.replace(new RegExp("^/(.*?)/"+n+"$"),"$1"),r=t.match(new RegExp("^/(.*?)/([gimy]*)$"));r||(n="");var i=new RegExp(a,n);return function(t){return i.test(t)}},i.strRegCheck=function(t,n){var a=t.replace(/.*\/([gimy]*)$/,"$1"),r=t.replace(new RegExp("^/(.*?)/"+a+"$"),"$1"),i=t.match(new RegExp("^/(.*?)/([gimy]*)$"));i||(a="");var o=new RegExp(r,a);return o.test(n)},i.isPositiveInteger=function(t){var n=+t;return!isNaN(n)&&(!(n<=0)&&n===Math.floor(n))},i.isNonnegativeInteger=function(t){var n=+t;return!isNaN(n)&&(!(n<0)&&n===Math.floor(n))},i._EMOJI_RE=l,i.emojiFilter=function(t){t.replace(l,"")};var b=null,y="cp_tt_text_width",E=function(){var t=document.createElement("span");return t.id=y,t.style.cssText="visibility: hidden;",document.body.appendChild(t),t};i.width=function(t,n){return b=document.getElementById(y),b||(b=E()),b.innerText=""+t,b.style.fontSize=n+"px",b.style.whiteSpace="nowrap",b.clientWidth},i.getWidth=function(){if(r())try{var t,n=document.createElement("canvas");return n.getContext&&(t=n.getContext("2d")),function(n,a){try{t.font=a}catch(t){}var r=t.measureText(""+n);return Math.ceil(r.width)}}catch(t){console.error(t)}return b=document.getElementById(y),b||(b=E()),function(t,n){return b.innerText=""+t,b.style.font=n,b.style.whiteSpace="nowrap",b.clientWidth}}(),i.leftPad=function(t,n,a){var r="";if(t=""+t,n=""+n,!a)return t;var i=a-t.length;if(i<=0)return t;for(;;){if(1===(1&i)&&(r+=n),i>>>=1,0===i)break;n+=n}return r+t};var C=null;i.convertByteTo=function(t){t=+t||0;var n={value:t,unit:"B"};return n=t>1024&&t<1048576?{value:(t/1024).toFixed(2),unit:"KB"}:{value:(t/1048576).toFixed(2),unit:"MB"}},i.fileSizeBeauty=function(t){if(null===t||void 0===t)return"-";for(var n=C=C||["B","KB","MB","GB","TB","PB"],a=0,r=t,i=n.length-1;r>1024&&a<i;)a++,r/=1024;return r=r!==Math.floor(r)?r.toFixed(2):""+r,r+n[a]},i.fileNameBeauty=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:15,a=(""+t).split("."),r="",i=void 0;if(a.length>1&&(r=a.pop()),i=a.join("."),i.length>n){var o=(n-3)/2;return i.substring(0,o)+"..."+i.substring(i.length-o,i.length-1)+"."+r}return t},n.default=i,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],
h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","colspan","align","valign"],tfoot:["align","valign"],th:["width","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","loop","preload","src","height","width"]}}function o(t){return t.replace(O,"&lt;").replace(P,"&gt;")}function s(t){return t.replace(L,"&quot;")}function l(t){return t.replace(w,'"')}function u(t){return t.replace(R,function(t,n){return"x"===n[0]||"X"===n[0]?String.fromCharCode(parseInt(n.substr(1),16)):String.fromCharCode(parseInt(n,10))})}function c(t){return t.replace(F,":").replace(U," ")}function d(t){for(var n="",a=0,r=t.length;a<r;a++)n+=t.charCodeAt(a)<32?" ":t.charAt(a);return D.default.trim(n)}function f(t){return t=l(t),t=u(t),t=c(t),t=d(t)}function m(t){return t=s(t),t=o(t)}function p(t){return t.replace(G,"")}function h(t){var n=t.split("");return n=n.filter(function(t){var n=t.charCodeAt(0);return 127!==n&&(!(n<=31)||(10===n||13===n))}),n.join("")}function g(t){var n=t.indexOf(" ");if(n===-1)var a=t.slice(1,-1);else var a=t.slice(1,n+1);return a=D.default.trim(a).toLowerCase(),"/"===a.slice(0,1)&&(a=a.slice(1)),"/"===a.slice(-1)&&(a=a.slice(0,-1)),a}function _(t){return"</"===t.slice(0,2)}function v(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];n&&(t=D.default.trim(t));var a=0,r="",i=0,s=t.length,l=!1,u=!1,c="";for(i;i<s;i++){var d=t[i];if(l===!1){if("<"===d){l=i;continue}}else if(u===!1){if("<"===d){r+=o(t.slice(a,i)),l=i,a=i;continue}if(">"===d){r+=o(t.slice(a,l)),c=t.slice(l,i+1);var f=g(c);r+=I(f,c),a=i+1,l=!1;continue}if(('"'===d||"'"===d)&&"="===t.charAt(i-1)){u=d;continue}}else if(d===u){u=!1;continue}}return a<t.length&&(r+=o(t.substr(a))),r}function b(t,n,a){if(a=f(a),"href"===n||"src"===n){if(a=D.default.trim(a),"#"===a)return"#";if("http://"!==a.substr(0,7)&&"https://"!==a.substr(0,8)&&"mailto:"!==a.substr(0,7)&&"#"!==a[0]&&"/"!==a[0])return""}else if("background"===n){if(B.lastIndex=0,B.test(a))return""}else if("style"===n){if(H.lastIndex=0,H.test(a))return"";if(j.lastIndex=0,j.test(a)&&(B.lastIndex=0,B.test(a)))return"";a=(0,x.default)(a)}return a=m(a)}function y(t){var n=t.indexOf(" ");if(n===-1)return{attr:"",closing:"/"===t[t.length-2]};t=D.default.trim(t.slice(n+1,-1));var a="/"===t[t.length-1];return a&&(t=D.default.trim(t.slice(0,-1))),{attr:t,closing:a}}function E(t,n){function a(t,a){if(t=D.default.trim(t),t=t.replace(V,"").toLowerCase(),!(t.length<1)){var r=n(t,a||"");r&&i.push(r)}}t=D.default.trim(t);for(var r=0,i=[],o=!1,s=t.length,l=0;l<s;l++){var u,c,d=t.charAt(l);if(o!==!1||"="!==d)if(o===!1||l!==r||'"'!==d&&"'"!==d||"="!==t.charAt(l-1))if(" "!==d);else{if(o===!1){if(c=C(t,l),c===-1){u=D.default.trim(t.slice(r,l)),a(u),o=!1,r=l+1;continue}l=c-1;continue}if(c=T(t,l-1),c===-1){u=D.default.trim(t.slice(r,l)),u=M(u),a(o,u),o=!1,r=l+1;continue}}else{if(c=t.indexOf(d,l+1),c===-1)break;u=D.default.trim(t.slice(r+1,c)),a(o,u),o=!1,l=c,r=l+1}else o=t.slice(r,l),r=l+1}return r<t.length&&(o===!1?a(t.slice(r)):a(o,M(D.default.trim(t.slice(r))))),D.default.trim(i.join(" "))}function C(t,n){for(;n<t.length;n++){var a=t[n];if(" "!==a)return"="===a?n:-1}}function T(t,n){for(;n>0;n--){var a=t[n];if(" "!==a)return"="===a?n:-1}}function S(t){return'"'===t[0]&&'"'===t[t.length-1]||"'"===t[0]&&"'"===t[t.length-1]}function M(t){return S(t)?t.substr(1,t.length-2):t}function I(t,n){var a=W;if(!a[t])return o(n);if(_(n))return"</"+t+">";var r=a[t],i=y(n),s=E(i.attr,function(n,a){var i=D.default.indexOf(r,n)!==-1;return i?(a=b(t,n,a),a?n+'="'+a+'"':n):""}),l="<"+t;return l+=" "+s+" ",i.closing&&(l+="/"),l+=">"}function N(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=t||"",(t=t.toString())?(t=h(t),t=p(t),v(t,n)):""}Object.defineProperty(n,"__esModule",{value:!0}),n.filterParams=void 0,n.default=N;var A=a(13),x=r(A),k=a(6),D=r(k),O=/</g,P=/>/g,L=/"/g,w=/&quot;/g,R=/&#([a-zA-Z0-9]*);?/gim,F=/&colon;?/gim,U=/&newline;?/gim,B=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a)\:/gi,H=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,j=/u\s*r\s*l\s*\(.*/gi,G=/<!--[\s\S]*?-->/g,W=i(),V=/[^a-zA-Z0-9_:\.\-]/gim;n.filterParams=function(t){var n=N(t);return B.lastIndex=0,B.test(n)?"":(H.lastIndex=0,H.test(n)?"":(j.lastIndex=0,j.test(n)&&(B.lastIndex=0,B.test(n))?"":n))}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t["all"]=!1,t["anchor-point"]=!1,t["animation"]=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t["azimuth"]=!1,t["backface-visibility"]=!1,t["background"]=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t["binding"]=!1,t["bleed"]=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t["border"]=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t["bottom"]=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t["chains"]=!1,t["clear"]=!0,t["clip"]=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t["color"]=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t["columns"]=!1,t["contain"]=!1,t["content"]=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t["crop"]=!1,t["cue"]=!1,t["cue-after"]=!1,t["cue-before"]=!1,t["cursor"]=!1,t["direction"]=!1,t["display"]=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t["elevation"]=!1,t["empty-cells"]=!1,t["filter"]=!1,t["flex"]=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t["float"]=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t["font"]=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t["grid"]=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t["height"]=!0,t["hyphens"]=!1,t["icon"]=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t["left"]=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t["margin"]=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t["marks"]=!1,t["mask"]=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t["opacity"]=!1,t["order"]=!1,t["orphans"]=!1,t["outline"]=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t["overflow"]=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t["padding"]=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t["page"]=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t["pause"]=!1,t["pause-after"]=!1,t["pause-before"]=!1,t["perspective"]=!1,t["perspective-origin"]=!1,t["pitch"]=!1,t["pitch-range"]=!1,t["play-during"]=!1,t["position"]=!1,t["presentation-level"]=!1,t["quotes"]=!1,t["region-fragment"]=!1,t["resize"]=!1,t["rest"]=!1,t["rest-after"]=!1,t["rest-before"]=!1,t["richness"]=!1,t["right"]=!1,t["rotation"]=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t["size"]=!1,t["speak"]=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t["stress"]=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t["top"]=!1,t["transform"]=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t["transition"]=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t["visibility"]=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t["volume"]=!1,t["white-space"]=!1,t["widows"]=!1,t["width"]=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function o(t,n){function a(){if(!o){var a=c.default.trim(t.slice(s,i)),r=a.indexOf(":");if(r!==-1){var u=a.slice(0,r),d=a.slice(r+1,i);if(u){var f=n(u,d);f&&(l+=f+";")}}}s=i+1}t=c.default.trim(t),";"!==t[t.length-1]&&(t+=";");var r=t.length,i=0,o=!1,s=0,l="";for(i;i<r;i++){var u=t[i];if("/"===u&&"*"===t[i+1]){var d=t.indexOf("*/",i+2);if(d===-1)break;i=d+1,s=i+1}else"("===u?o=!0:")"===u?o=!1:";"===u&&a()}return l}function s(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=c.default.assign({},d,n);if(t=t||"",t=t.toString(),!t)return"";var r=o(t,function(t,n){var r="",i=a[t],o=!1;return i===!0?o=i:c.default.isFunction(i)?o=_whriteListRes(n):i instanceof RegExp&&(o=i.test(n)),o&&(r=t+":"+n),r});return r}function l(t){if(t=t||"",t=t.toString(),!t)return"";var n=o(t,function(t,n){var a="";if(n){var r=n.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/javascript\:/g,"UNSAFE_JS:");a=t+":"+c.default.trim(r)}return a});return n}Object.defineProperty(n,"__esModule",{value:!0}),n.default=s,n.filterData=l;var u=a(6),c=r(u),d=i()},function(t,n){"use strict";var a="cdnq2.mikecrm.com",r=a,i=location.hostname.split(".");i.length>2?i[0]="":i=[""].concat(i),i=i.join("."),i.indexOf("mikecrm.com")===-1&&i.indexOf("zoform.com")===-1&&(i=".mikecrm.com"),i.indexOf("mikecrm.com")===-1&&(r="cdnq2"+i),t.exports={CDN_PATH:"http://"+r+"/",CDN_PATH_WITHOUT_PROTOCOL:"//"+r+"/",CDN_URL:r+"/"}},function(t,n){"use strict";function a(t){return Array.prototype.slice.call(t,0)}function r(){return"\\(\\s*("+a(arguments).join(")\\s*,\\s*(")+")\\s*\\)"}function i(t){var n=parseInt(t,10);return n<0?0:n>255?255:n}function o(t){var n=parseFloat(t);return(n%360+360)%360/360}function s(t){var n=parseFloat(t);return n<0?0:n>1?255:Math.round(255*n)}function l(t){var n=parseFloat(t,10);return n<0?0:n>100?1:n/100}function u(t,n,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+6*(n-t)*a:a<.5?n:a<2/3?t+(n-t)*(2/3-a)*6:t}function c(t,n,a){var r=a<.5?a*(1+n):a+n-a*n,i=2*a-r,o=u(i,r,t+1/3),s=u(i,r,t),l=u(i,r,t-1/3);return Math.round(255*o)<<24|Math.round(255*s)<<16|Math.round(255*l)<<8}function d(t){var n=void 0;return"number"==typeof t?t>>>0===t&&t>=0&&t<=4294967295?t:null:(n=h.hex6.exec(t))?parseInt(n[1]+"ff",16)>>>0:(n=h.rgb.exec(t))?(i(n[1])<<24|i(n[2])<<16|i(n[3])<<8|255)>>>0:(n=h.rgba.exec(t))?(i(n[1])<<24|i(n[2])<<16|i(n[3])<<8|s(n[4]))>>>0:(n=h.hex3.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+"ff",16)>>>0:(n=h.hex8.exec(t))?parseInt(n[1],16)>>>0:(n=h.hex4.exec(t))?parseInt(n[1]+n[1]+n[2]+n[2]+n[3]+n[3]+n[4]+n[4],16)>>>0:(n=h.hsl.exec(t))?(255|c(o(n[1]),l(n[2]),l(n[3])))>>>0:(n=h.hsla.exec(t))?(c(o(n[1]),l(n[2]),l(n[3]))|s(n[4]))>>>0:null}function f(t){var n=Math.round((4278190080&t)>>>24),a=Math.round((16711680&t)>>>16),r=Math.round((65280&t)>>>8),i=((255&t)>>>0)/255;return{r:n,g:a,b:r,a:i}}Object.defineProperty(n,"__esModule",{value:!0});var m="[-+]?\\d*\\.?\\d+",p=m+"%",h={rgb:new RegExp("rgb"+r(m,m,m)),rgba:new RegExp("rgba"+r(m,m,m,m)),hsl:new RegExp("hsl"+r(m,p,p)),hsla:new RegExp("hsla"+r(m,p,p,m)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/};d.rgba=f,n.default=d,t.exports=n["default"]},,function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){fe=t,be=new T.default(E.default,t.getStaticDataRule),n&&n.isCkiMode?Fe(t):Re(t)}function o(){var t=De().extensions;if(!t.inFormPay)return null;var n=t.inFormPayInfo,a=s(),r=a[0]||null;if(n&&n.isFrozen)a.indexOf(4)>-1&&(r=4);else{var i=je();if(!i.isCustom&&1!==i.symbolId&&Ue.indexOf(i.symbolId)>-1)a.indexOf(5)>-1&&n&&n.ifpX&&n.ifpX.paypal?r=5:a.indexOf(4)>-1&&(r=4);else if(1===i.symbolId){var o=ge();o.isMobile&&!o.isWx&&a.indexOf(1)>-1?r=1:a.indexOf(2)>-1&&(r=2)}else a.indexOf(4)>-1&&(r=4)}return r}function s(){var t=De().extensions,n=(0,v.inIframe)(),a=je(),r=t.inFormPayInfo&&t.inFormPayInfo.pvt,i=(t.inFormPay?t.inFormPayInfo.payOnlineMethod||[1,2,4]:[]).slice();if(n){var o=i.indexOf(1);o>-1&&i.splice(o,1)}if(t.inFormPay&&t.inFormPayInfo.ifpX&&!r){var s=t.inFormPayInfo.ifpX;if(!s.alipay){var l=i.indexOf(1);l>-1&&i.splice(l,1)}if(!s.wxpay){var u=i.indexOf(2);u>-1&&i.splice(u,1)}}if(!a.isCustom&&1!==a.symbolId&&Ue.indexOf(a.symbolId)>-1)i=d.default.without(i,1,2);else if(1===a.symbolId){var c=i.indexOf(5);c>-1&&i.splice(c,1)}else i=d.default.intersection([4],i);return i}Object.defineProperty(n,"__esModule",{value:!0}),n.getBill=n.getCartData=n.isCartEmpty=n.getMbrmBalanceSymbol=n.getCartSymbol=n.setComponents=n.getComponent=n.wxJumpAuth=n.updateUVD=n.updateSOUL=n.getFormStructure=n.getEmbed=n.getWx=n.getFormDisplayWidth=n.getStaticData=n.getThemeHelper=n.getDeviceInfo=n.getStore=n.getConfig=n.errorStyled=n.themeStyled=n.getCurrentLang=n.getLang=n.getMode=n.CKI_ONCE_LIST=n.SUBMIT_ONCE_LIST=void 0;var l=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},u=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();n.default=i,n.getDefaultPaymentType=o,n.getLegalPaymentMethod=s;var c=a(6),d=r(c),f=a(18),m=r(f),p=a(114),h=a(39),g=a(94),_=a(96),v=a(8),b=a(55),y=a(189),E=r(y),C=a(190),T=r(C),S=a(58),M=r(S),I=a(123),N=a(191),A=r(N),x=a(38),k=a(7),D=a(197),O=a(198),P=r(O),L=a(68),w=r(L),R=a(199),F=a(85),U=a(84),B=r(U),H=a(200),j=r(H),G=function(){var t={},n=document.cookie.split(";"),a=void 0,r=void 0,i=void 0;for(a=0,r=n.length;a<r;a++)i=d.default.trim(n[a]).split("="),i[0]&&["uvi","uvis"].indexOf(i[0])>-1&&(t[i[0]]||(t[i[0]]=unescape(i[1])));t["uvis"]&&("https:"===location.protocol&&((0,v.setCookie)("uvis",null,{domain:".mikecrm.com",expires:-1,SameSite:"none",secure:1}),(0,v.setCookie)("uvis",null,{domain:"mikecrm.com",expires:-1,SameSite:"none",secure:1}),(0,v.setCookie)("uvis",null,{domain:"www.mikecrm.com",expires:-1,SameSite:"none",secure:1})),(0,v.setCookie)("uvis",t["uvis"],{expires:365,domain:v._COOKIE_STATIC.DOMAIN,SameSite:"none",secure:1})),t["uvi"]&&("https:"===location.protocol?((0,v.setCookie)("uvi",null,{domain:".mikecrm.com",expires:-1,SameSite:"none",secure:1}),(0,v.setCookie)("uvi",null,{domain:"mikecrm.com",expires:-1,SameSite:"none",secure:1}),(0,v.setCookie)("uvi",null,{domain:"www.mikecrm.com",expires:-1,SameSite:"none",secure:1})):((0,v.setCookie)("uvi",null,{expires:-1,domain:".mikecrm.com"}),(0,v.setCookie)("uvi",null,{expires:-1,domain:"mikecrm.com"}),(0,v.setCookie)("uvi",null,{expires:-1,domain:"www.mikecrm.com"})),(0,v.setCookie)("uvi",t["uvi"],{expires:365,domain:v._COOKIE_STATIC.DOMAIN}))};G();var W=(n.SUBMIT_ONCE_LIST="MKSO",n.CKI_ONCE_LIST="MKCKIO",b.MODE_UNKNOW),V=n.getMode=function(){return W},z=M.default.lang,K=n.getLang=function(){return z},q=M.default.CURRENT_LANG,Y=(n.getCurrentLang=function(){return q},function(){var t=V(),n=De();if(t&&t===b.MODE_FILLING&&0===n.JHR){var a=me(),r=he();if(a&&r&&a.setFormDataCache&&r.getState()){var i=r.getState();if(i.form.submitFin&&0===i.form.formStatus)a.removeFormDataCache(n.token);else{var o=i.data;a.setFormDataCache(n.token,o)}}}}),Q=function(){var t=De(),n=(0,v.getCookie)(t.identifier.QUEUE);if(n){var a=n.split("|"),r=u(a,2),i=r[0],o=r[1],s=+new Date,l=+o+1e3*i;if(l>s){var c=he();c.dispatch((0,x.SUBMIT_QUEUE)())}}},J=function(){var t=V(),n=De();if(t&&t===b.MODE_FILLING&&0===n.JHR){var a=he();a.dispatch((0,x.CHECK_SUBMIT_ONCE)())}},X=function(){var t=he();t.dispatch((0,x.CHECK_FORM_START)())},Z=function(){var t=he();t.dispatch((0,x.CHECK_CKI_ONCE)())},ee=function(){var t=V(),n=De();if(t&&t===b.MODE_FILLING&&0===n.JHR){var a=n.getComponentsByType("commodity");if(a&&a.length>0){var r=he(),i=r.getState();i.mbrmLogin&&!i.mbrmLogin.memberBalance&&r.dispatch((0,x.CHECK_MBRM_BALANCE)())}}},te=function(){var t=De();[-820,-822,-824,-825].indexOf(t.JHR)>-1&&d.default.forEach(t.images,function(t){return(0,v.singleImagePreload)(t)})},ne=function(){var t=De(),n=he();n.dispatch((0,x.CHECK_ONLY_WX)()),t.settings.isOnlyWeChat&&!me().isWx()&&(W=b.MODE_IRO)},ae=function(){var t=De(),n=he();V()===b.MODE_FILLING&&0===t.JHR&&me().isWx()&&!t.isWxAuthorized&&t.extensions.checkIn&&t.extensions.checkInInfo.ckiWeChat&&n.dispatch((0,x.WX_CKI_AUTO)())},re=null,ie=null,oe=function(t){var n=[];if(t&&(t.bgColor||t.bgOpacity&&null!=t.bgOpacityValue)){var a=t.bgColor||"#FFF";n.push("background-color: "+(t.bgOpacity&&null!=t.bgOpacityValue&&t.bgOpacityValue<1?(0,v.fade)(a,t.bgOpacityValue):a))}return".body{"+n.join("; ")+"}"},se=function(t){t=t||{};var n=t,a=n.bgColor,r=n.themeColor;ie&&(0,I.unsetCSSString)(ie),r=(r||"#2D8FD9").replace(/>/g,"").replace(/</g,""),a=a||null;var i=[a?"body {background-color: "+a+" }":null].concat((0,A.default)(r),oe(t.bodyStyle)),o=xe();o&&o.inEmbed&&(o.opacityBg&&(i=i.concat("body { background-color: transparent; }")),o.noShadow&&(i=i.concat(".main {box-shadow: none}"))),re=(0,I.importCSSString)("theme",i)},le=(n.themeStyled=se,function(t){var n=t.bgColor;re&&(0,I.unsetCSSString)(re),n=n||"#FAFAFA",ie=(0,I.importCSSString)("err",["body {background-color: "+n+"; transition: all .2s ease;}"])}),ue=(n.errorStyled=le,function(t){var n=De();se(n.style),m.default.renderForm(t.formBase,{token:n.token})}),ce=function(t){var n=De();se(n.style),m.default.renderSucceed(t.formBase,{token:n.token})},de=function(t,n){var a=[-52,-801,-802,-805,-888,-840,-841,-9999],r=De(),i=r.style,o=r.token,s=a.indexOf(t)>-1;s?le({bgColor:"#FAFAFA"}):se(i),m.default.renderError(n.formBase,s,{token:o,errorCode:t})},fe=null,me=n.getConfig=function(){return fe},pe=null,he=n.getStore=function(){return pe},ge=n.getDeviceInfo=function(){var t=me(),n=t.isWx(),a=void 0;return a=t&&t.getDeviceInfo?t.getDeviceInfo():v.deviceInfo,a.isWx=n,a},_e=null,ve=n.getThemeHelper=function(){return _e},be=null,ye=(n.getStaticData=function(t){return be?be.get(t):null},null),Ee=function(){var t=me();if(t){var n=t.dom().main;ye=n?n.getBoundingClientRect().width:null}},Ce=d.default.debounce(Ee,120);(0,k.onResize)(Ee);var Te=(n.getFormDisplayWidth=function(){var t=me(),n=t.dom().main;return n?(ye||Ee(),ye):Math.min(ge().getClientWidth(),De().width)},null),Se=n.getWx=function(){return Te},Me=function(){var t=me().isWx(),n=me().weChatAuth();Te=new P.default(t,n)},Ie=function(){var t=De(),n=K(),a=(0,v.parseUrl)(me().getBaseURL()),r=t.settings,i=r.isWcShare,o=r.weChatTitle,s=r.weChatImage,l=r.weChatDescribe,u=t.header,c=u.headline,d=u.description,f=c?c.join(""):"",m=d?d.join(""):"",p=location.origin+"/"+t.token;a.params&&a.params.m&&(p=(0,v.addUrlParams)(p,{m:a.params.m}));var h=s;h&&h.indexOf("cdn1.")>-1?h=h.replace("cdn1.","cdnq2."):h||(h=location.protocol+window.rootPath("./images/form/wechat_default.jpg"));var g={title:o||f||n.gWeChatSetHeadlineDefault,desc:null==l?m:l,link:p,imgUrl:(0,v.getStaticUrl)(h)};0===i?Se().withoutShare():Se().share(g.title,g.desc,g.link,g.imgUrl)},Ne=null,Ae=function(){V()!==b.MODE_FILLING&&V()!==b.MODE_IRO||(Ne=new j.default)},xe=n.getEmbed=function(){return Ne},ke=null,De=n.getFormStructure=function(){return ke},Oe=function(t){var n=(0,v.parseUrl)(me().getBaseURL()),a=n.params.WCT,r=!!n.params.iro;W=b.MODE_UNKNOW,W=t.MODE?t.MODE:r?b.MODE_IRO:b.MODE_FILLING,a&&((0,v.setCookie)("WCT",a,{domain:v._COOKIE_STATIC.DOMAIN,expires:400,path:"/"}),(0,v.setCookie)("WCT",a,{domain:v._COOKIE_STATIC.DOMAIN_FULL,expires:400,path:"/"})),_e&&_e.remove(),ke&&ke.remove();var i=new p.FormStructure(t);ke=i,_e=new N.ThemeHelper(i.style),i.visitorData&&i.visitorData.mpLoc&&d.default.forEach(i.visitorData.mpLoc,function(t,n){t&&(0,D.setLocationInfo)(+n,t[i.langCode])});var o={},s=_.getPresetData.bind(i);d.default.forEach(i.components,function(t,n){var a=(0,_.getDefaultData)(t);a&&(o[n]=a)}),i.visitorInfo&&d.default.forEach(i.visitorInfo,function(t,n){var a=s(n,t);a&&(o[a[0]]=a[1])});var l=he(),u=null;if(l){var c=l.getState();u=c.data}if(0===i.JHR&&W===b.MODE_FILLING){var f=me().getFormDataCache(i.token);f&&(u||(u={}),d.default.forEach(f,function(t,n){u[n]=t}))}if(u&&!d.default.isEmpty(u)&&d.default.isPlainObject(u)&&d.default.forEach(u,function(t,n){var a=s(n,t);a&&(o[a[0]]=a[1])}),0===i.JHR&&W===b.MODE_FILLING){var m=null,h=!1;if(n.params&&(n.params.dt||n.params._cpv)&&(m=n.params._cpv||n.params.dt||null),m){m=decodeURIComponent(m);try{m=JSON.parse(m)}catch(t){m=null}}m&&((n.params._cpv||m.foc)&&(h=!0),d.default.isPlainObject(m)&&d.default.forEach(m,function(t,n){var a=s(n,t);!a||!h&&o[a[0]]||(o[a[0]]=a[1])}))}return{formStructure:i,data:o,getFormData:s}},Pe=function(t,n){var a=me();if(!a)return void console.error("cannot find CONFIG.");var r=n.form,i=n.data,o=a.dom();if(ve().initRpx(),0===r.formStatus){var s=(0,w.default)(i),l=r.submitFin&&(2!==t.settings.afterSubmitPage||!s||t.isRedirectToMbrmReg());l?ce(o):(ue(o),ee())}else de(r.formStatus,o)},Le=function(){var t=null;if(parent!==window){try{t=parent.location.href}catch(t){}if(!t)try{t=window.top.location.href}catch(t){}}return t},we=function(){if((V()===b.MODE_FILLING||V()===b.MODE_FINISH_SUBMIT)&&(0,F.pltDisplay)()){var t=ge(),n=he().getState();B.default.prepare({position:+n.form.formStatus,isMobile:t.isMobile&&!t.os.tablet})}},Re=function(t){Me();var n=t.structure(),a=Oe(n),r=a.formStructure,i=a.data;if(Ae(),V()===b.MODE_FILLING)try{var s=(0,v.getCookie)("uvi")||(0,v.getCookie)("uvis");if(!(0,v.inIframe)()||s||(0,v.getCookie)("fx"))(0,v.setCookie)("fx","",{domain:v._COOKIE_STATIC.DOMAIN,expires:-1,path:"/"}),"https:"===location.protocol&&(0,v.setCookie)("fx","",{expires:-1,domain:v._COOKIE_STATIC.DOMAIN,SameSite:"none",secure:1});else{var u=Le();if(u)return void(window.top.location.href=(0,v.addUrlParams)("/fx.html",{p:u}));r.setJHR(-9901)}}catch(t){r.setJHR(-9901)}var c={pages:[],page:t.getCache(Be(r.token))||0,position:null,formStatus:r.JHR,onlyWx:!1,ckiAuto:!1};t.removeCache(Be(r.token));var f=o(),m=l({},R._INIT_MBRM_LOGIN,{authCompleted:!!(r.extensions.member&&r.visitedMember&&r.visitedMember.account)}),p={data:i,validated:{},form:c,payment:{type:f},mbrmLogin:m},_=(0,h.combineProcessor)({data:(0,g.filling)(De),form:(0,g.form)(De),payment:(0,g.payment)(De),mbrmLogin:(0,R.mbrmLogin)(De)}),y=(0,g.group)(De),E=(0,g.validation)(De),C=function(t,n){var a=_(t,n),r=E(a,n),i=y(r,n);return i},T=(0,h.createStore)(p,C,{LEGAL_CATEGORIES:[x.ACTION_CATEGORY]});T.runSaga(g.saga,T.dispatch),pe=T,T.addChangeListener(function(t){var n=T.getState();switch(t.type){case x._FORCE_UPDATE_ALL:Ce(),Pe(De(),n);break;case x._CHUNK_LOADED:Ce();break;case x._GOTO_PAGE:var a=T.getState();if(!a.validated||d.default.isEmpty(a.validated)){var r=me().dom().container;(0,v.scrollTo)(r,0,320)}break;case x._PAGING_CHANGE_END:window.scrollTo(0,0),Ce();break;case x._IFP_CONFIRM:case x._SUBMIT_SUCCEED:var i=De();me().removeFormDataCache(i.token),Ce()}}),V()===b.MODE_FINISH_SUBMIT?T.dispatch((0,x.FINISH_SUBMIT_DIRECT)()):(J(),X()),ne(),te(),ae(),Pe(r,T.getState()),Q(),Ie(),we(),(0,k.onPageStatusChange)(Y),(0,k.onPageLeave)(Y)},Fe=function(t){var n=t.structure(),r=Oe(n),i=r.formStructure,o=r.data,s={pages:[],page:t.getCache(Be(i.token))||0,position:null,formStatus:i.JHR,onlyWx:!1,ckiAuto:!1,ckiMode:!0};if(t.removeCache(Be(i.token)),Me(),Se().withoutShare(),i.extensions&&i.extensions.checkIn){var l=(i.extensions.checkInInfo||{}).ckiComponent;l&&o[l]&&(o[l]=null)}var u={data:o,validated:{},form:s},c=(0,h.combineProcessor)({data:(0,g.filling)(De),form:(0,g.form)(De)}),d=(0,g.cki)(De),f=(0,g.validation)(De),m=function(t,n){var a=c(t,n),r=f(a,n),i=d(r,n);return i},p=(0,h.createStore)(u,m,{LEGAL_CATEGORIES:[x.ACTION_CATEGORY]});p.runSaga(g.saga,p.dispatch),pe=p;var _=new Promise(function(t){(function(){var n=2,r=function(){--n<1&&function(n){t(a(201))}(a)}.bind(this);a.e(12,r),a.e(8,r)}).call(this)});_.then(function(t){p.addChangeListener(function(n){var a=p.getState();switch(n.type){case x._FORCE_UPDATE_ALL:case x._CHECK_IN_SUCCEED:case x._CHECK_IN_FAILED:Ce(),t.render(De(),a)}}),Z(),window._R&&window._R.r&&p.dispatch((0,x.CHECK_IN_SUCCEED)(window._R)),t.render(i,p.getState())})},Ue=[2,3,4,5,6,7,9,16],Be=(n.updateSOUL=function(t){var n=Oe(t),a=n.formStructure,r=n.data;return{data:r,formStructure:a}},n.updateUVD=function(t){window.VST=window.VST||{},window.VST.uvd={ct:t.ct||{},wc:t.wc||{}};var n=De().visitorInfo||{},a=Oe(me().structure()),r=a.formStructure,i=a.data,o=a.getFormData,s=r.visitorInfo||{};return d.default.forEach(s,function(a,r){var s=o(r,a),l=o(r,n[r]);if(s)if("wechat"===r){var c="";if(s[1]&&(c=d.default.isArray(s[1])?s[1][0]||c:s[1]||c),s[0]!==t.triggerCp){var f=[].concat(i[t.triggerCp]||[]);f[0]=c;var m=o(t.triggerCp,f);m&&(i[m[0]]=m[1])}var p=[].concat(i[s[0]]||[]);p[0]=c;var h=o(s[0],p);h&&(i[h[0]]=h[1])}else if(i[s[0]]){if(l&&i[l[0]]!==s[1]){var g=u(s,2),_=g[0],v=g[1];i[_]=v}}else i[s[0]]=s[1]}),{data:i}},function(t){return"WXPAGE_"+t}),He=(n.wxJumpAuth=function(t){me().setReferrerCache();var n=De(),a=n.token,r=he().getState(),i=r.form;me().setCache(Be(a),i.page),(0,v.setCookie)("uvi","",{expires:-1}),window.setTimeout(function(){location.href=t},0)},{}),je=(n.getComponent=function(t){return He[t]},n.setComponents=function(t){He=d.default.assign({},He,t)},n.getCartSymbol=function(){var t=ke.settings,n="¥",a=!1,r=1;return t&&(""+t.cartSymbol=="0"?(a=!0,n=t.cartSymbolDefined||"",r=0):t.cartSymbol&&(n=K().cCurrencySymbolArray[t.cartSymbol-1],r=+t.cartSymbol)),{symbol:n,isCustom:a,symbolId:r}}),Ge=n.getMbrmBalanceSymbol=function(){var t=ke.extensions.member,n=ke.extensions.memberInfo,a=null,r=!1;return t&&n&&(n.balanceCurrency?a=K().cCurrencySymbolArray[n.balanceCurrency-1]:n.customBalanceCurrency&&(r=!0,a=n.customBalanceCurrency||"")),{symbol:a,isCustom:r}},We=n.isCartEmpty=function(){var t=pe.getState(),n=ke.getComponentsByType("commodity"),a=[];d.default.forEach(t.form.pages,function(t){d.default.forEach(t,function(t){t.type===b.L_SQUEEZEBOX?a=a.concat(t.children):t.type===b.L_NORMAL&&(a=a.concat(t.id))})});var r=!0;return d.default.forEach(n,function(n){if(t.data[n.id]&&!d.default.isEmpty(t.data[n.id])&&a&&!d.default.isEmpty(a)&&a.indexOf(+n.id)>-1)return r=!1,!1}),r},Ve=n.getCartData=function(){var t=[],n=pe.getState(),a=ke.getComponentsByType("commodity"),r=[];return d.default.forEach(n.form.pages,function(t){d.default.forEach(t,function(t){t.type===b.L_SQUEEZEBOX?r=r.concat(t.children):t.type===b.L_NORMAL&&(r=r.concat(t.id))})}),d.default.forEach(a,function(a){if(n.data[a.id]&&!d.default.isEmpty(n.data[a.id])&&r&&!d.default.isEmpty(r)&&r.indexOf(+a.id)>-1){var i=n.data[a.id];d.default.forEach(a.commodities,function(n){i[n.sId]&&i[n.sId]>-1&&t.push(l({isHidePrice:a.isHidePrice},n,{quantity:i[n.sId]}))})}}),t};n.getBill=function(){var t=Ve();if(t&&!We()){var n=pe.getState(),a=n.payment,r={},i=Math.round(d.default.reduce(t,function(t,n){return t+100*(n.price||0)*n.quantity},0))/100,o=je(),s=i,l=ke.extensions.member,u=ke.extensions.memberFrglg,c=Ge();if(l&&u.allowMemberBalance&&c.isCustom===o.isCustom&&c.symbol===o.symbol&&a&&a.useMemberBalance&&a.memberBalance&&a.memberBalance.balance>0){var f=a.memberBalance.balance,m=Math.min(Math.round(100*i),Math.round(100*f))/100;m>0&&(s-=m,r[b.BILL_TYPE.MBRM_BALANCE_DEDUCTION]={value:m,symbol:c.symbol})}return r[b.BILL_TYPE.PAYMENT]={value:s,symbol:o.symbol},r}return null}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(19),o=r(i),s=a(20),l=r(s),u=a(21),c=r(u),d=a(78),f=r(d),m=a(79),p=r(m),h=a(80),g=r(h),_=a(168),v=r(_),b=a(178),y=r(b),E=a(184),C=r(E),T=a(185),S=r(T),M=a(187),I=r(M),N=a(188),A=r(N),x=!1,k=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return o.default.createElement("div",{className:"wrapper"
},o.default.createElement(f.default,null),o.default.createElement(c.default,null,n),o.default.createElement(p.default,null))},D=function(){var t=document.createEvent("HTMLEvents");t.initEvent("resize",!0,!1),document.dispatchEvent(t)},O=function(t,n){var a=n.token,r="form"+(a||"");if(x!==r)l.default.unmountComponentAtNode(t),x=!1;else if(x===r)return;var i=k(o.default.createElement(y.default,{key:"body"}),o.default.createElement(C.default,{key:"submit"}),o.default.createElement(A.default,null));l.default.render(i,t,function(){x=r,D()})},P=function(t,n,a){var r=a.token,i=a.errorCode,s="error"+(r||"")+(i||"");if(x!==s)l.default.unmountComponentAtNode(t),x=!1;else if(x===s)return;var u=void 0;u=n?o.default.createElement("div",{className:"wrapper"},o.default.createElement(g.default,{key:"huge_err"})):k(o.default.createElement(v.default,{key:"body"})),l.default.render(u,t,function(){x=s,D()})},L=function(t,n){var a=n.token,r="succeed"+(a||"");if(x!==r)l.default.unmountComponentAtNode(t),x=!1;else if(x===r)return;var i=k(o.default.createElement(S.default,{key:"body"}),o.default.createElement(I.default,{key:"tail"}));l.default.render(i,t,function(){x=r,D()})};n.default={renderError:P,renderForm:O,renderSucceed:L},t.exports=n["default"]},function(t,n,a){t.exports=a(2)(315)},function(t,n,a){t.exports=a(2)(467)},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(22),l=r(s),u=a(19),c=r(u),d=a(23),f=r(d),m=a(24),p=r(m),h=a(17),g=a(8),v=a(27),b=r(v),y=a(28),E=r(y),C=a(35),T=r(C),S=a(33),M=r(S),I=a(36),N=a(26),A=r(N),x=a(37),k=r(x),D=a(38),O=a(53),P=r(O),L=a(7),w=a(54),R=r(w),F=a(67),U=r(F),B=a(68),H=r(B),j=a(69),G=r(j),W=a(55),V=a(70),z=r(V),K=(0,E.default)((0,T.default)((0,k.default)(M.default))),q=(0,E.default)((0,k.default)(M.default)),Y=c.default.createClass({displayName:"ShareQRPop",mixins:[f.default],render:function(){var t=this.props,n=t.className,a=t.src,r=t.description,s=t.onError,u=i(t,["className","src","description","onError"]);return c.default.createElement(K,o({className:(0,l.default)("cp-popwin","cp-popwin-blur",n)},u),c.default.createElement("div",{className:"scanner cp-popMiniBox"},c.default.createElement(A.default,{className:"scannerQRCode",src:a,onError:s}),c.default.createElement("div",{className:"scannerGuide"},c.default.createElement("p",{className:"scannerDes"},r))))}}),Q=c.default.createClass({displayName:"WxQRPop",mixins:[f.default],render:function(){var t=this.props,n=t.className,a=t.src,r=t.description,s=t.onError,u=i(t,["className","src","description","onError"]);return c.default.createElement(q,o({className:(0,l.default)("cp-popwin","cp-popwin-blur",n)},u),c.default.createElement("div",{className:"scanner cp-popMiniBox"},c.default.createElement(A.default,{className:"scannerQRCode",src:a,onError:s}),c.default.createElement("div",{className:"scannerGuide"},c.default.createElement(A.default,{className:"scannerWeChatIcon",src:window.rootPath("images/form/icon_weChat.png")}),c.default.createElement("p",{className:"scannerDes"},r))))}}),J=c.default.createClass({displayName:"WxAutoCkiPop",mixins:[f.default],getInitialState:function(){return this.theme=(0,h.getThemeHelper)(),this.store=(0,h.getStore)(),this.btnConfirmStyle=(0,g.styleInject)({default:this.theme.getSysButtonStyle(this.theme.NORMAL),hover:this.theme.getSysButtonStyle(this.theme.HOVER),active:this.theme.getSysButtonStyle(this.theme.ACTIVE)},{backgroundColor:null}),null},handleCancel:function(){this.store.dispatch((0,D.WX_CKI_AUTO_FIN)())},handleConfirm:function(){this.store.dispatch((0,D.WX_AUTH)())},render:function(){var t=this.props,n=t.className,a=(t.src,t.description,t.onError,i(t,["className","src","description","onError"])),r=(0,h.getLang)();return c.default.createElement(K,o({className:(0,l.default)("cp-popwin","cp-popwin-blur","cp-popwin-wxcki",n)},a),c.default.createElement("div",{className:"wx_auto_cki cp-popMiniBox"},c.default.createElement("div",{className:"wac_content"},c.default.createElement("p",{className:"wac_tips"},r.ckiAuthGuide)),c.default.createElement("div",{className:"wac_operate"},c.default.createElement(I.BaseBtn,{className:"fbc_button cki_cancel",style:{default:this.theme.getSysCancelButtonStyle(this.theme.NORMAL),hover:this.theme.getSysCancelButtonStyle(this.theme.HOVER),active:this.theme.getSysCancelButtonStyle(this.theme.ACTIVE)},onClick:this.handleCancel},r.ckiAuthNo),c.default.createElement(I.BaseBtn,{className:"fbc_button cki_confirm",style:this.btnConfirmStyle,onClick:this.handleConfirm},r.ckiAuthYse))))}}),X=(c.default.createClass({displayName:"IframeViewerPop",mixins:[f.default],getInitialState:function(){return this.theme=(0,h.getThemeHelper)(),this.form=(0,h.getFormStructure)(),null},render:function(){var t=this.props,n=t.className,a=t.src,r=(t.description,t.onError),s=i(t,["className","src","description","onError"]),u=(0,h.getLang)();return c.default.createElement(q,o({className:(0,l.default)("cp-popwin",n)},s),c.default.createElement("div",{className:"scanner cp-popMiniBox"},c.default.createElement(A.default,{className:"scannerQRCode",src:a,onError:r}),c.default.createElement("p",{className:"scannerDes"},u.errOnlyInWeChat),c.default.createElement("div",{className:"scannerGuide"},c.default.createElement(I.BaseBtn,{component:"a",className:"fbc_button",style:(0,g.styleInject)({default:this.theme.getSysButtonStyle(this.theme.NORMAL),hover:this.theme.getSysButtonStyle(this.theme.HOVER),active:this.theme.getSysButtonStyle(this.theme.ACTIVE)},{width:"100%"}),target:"_blank",href:location.origin+"/"+this.form.token},u.rToForm))))}}),c.default.createClass({displayName:"CaptchaPop",mixins:[f.default],getInitialState:function(){return this.theme=(0,h.getThemeHelper)(),this.store=(0,h.getStore)(),this.checkCaptcha=_.debounce(this._checkCaptcha,400),{valid:!1,loading:!1,captcha:"",captchaInfo:null}},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.autoSubmitTimer&&clearTimeout(this.autoSubmitTimer),this.autoSubmitTimer=null,this.unsubscribe&&this.unsubscribe()},handleStateChange:function(t){var n=this.store.getState();[D._GEN_CAPTCHA_SUCCEED,D._GEN_CAPTCHA_FAILED].indexOf(t.type)>-1&&this.setState({captchaInfo:n.form.captcha,valid:n.form.captchaValid,captcha:""}),[D._CHECK_CAPTCHA_SUCCEED,D._CHECK_CAPTCHA_FAILED,D._CHECK_SUBMIT_CAPTCHA_FAILED,D._CHECK_SUBMIT_CAPTCHA_SUCCEED].indexOf(t.type)>-1&&this.setState({valid:n.form.captchaValid,loading:!1})},_checkCaptcha:function(){var t=""+this.state.captcha;this.state.loading||4===t.length&&this.store.dispatch((0,D.CHECK_CAPTCHA)({data:t}))},handleChangeCaptcha:function(e){this.setState({captcha:e.target.value}),this.checkCaptcha()},handleChangeCaptchaImage:function(){this.store.dispatch((0,D.GEN_CAPTCHA)())},handleBlur:function(e){var t=this,n=""+this.state.captcha,a=_.trim(e.target.value);n!==a&&this.setState({captcha:a},function(){t.checkCaptcha()})},handleKeyUp:function(e){13===e.keyCode&&this.handleConfirm()},handleConfirm:function(){var t=this,n=_.trim(""+this.state.captcha);return 0===n.length?void this.setState({valid:"error"}):void this.setState({loading:!0},function(){t.store.dispatch((0,D.CHECK_SUBMIT_CAPTCHA)({data:n}))})},render:function(){var t=this.props,n=t.className,a=t.deviceInfo,r=(t.onClose,i(t,["className","deviceInfo","onClose"])),s=this.state,u=s.valid,d=s.captcha,f=s.captchaInfo,m=s.loading,p=(0,h.getLang)();if(!f)return null;var g=u&&"error"===u;return c.default.createElement(q,o({className:(0,l.default)("cp-popwin",n)},r),c.default.createElement("div",{className:"captcha cp-popMiniBox"},c.default.createElement("div",{className:"cpt_content"},c.default.createElement(A.default,{className:"cpt_img",src:f.img,title:p.fCaptchaChangeTips,onClick:this.handleChangeCaptchaImage}),c.default.createElement("p",{className:"cpt_tips"},p.fCaptchaTips),c.default.createElement(P.default,{className:(0,l.default)("fbc_input",{"error":g}),autoComplete:!1,spellCheck:!1,deviceInfo:a,style:{default:this.theme.getSysInputStyle(this.theme.NORMAL),active:this.theme.getSysInputStyle(this.theme.ACTIVE),focus:this.theme.getSysInputStyle(this.theme.ACTIVE),error:this.theme.getSysInputStyle(this.theme.ERROR)},value:d,inValid:g,onChange:this.handleChangeCaptcha,onKeyUp:this.handleKeyUp,onBlur:this.handleBlur},u?c.default.createElement("i",{className:(0,l.default)("iconfont cpt_icon",{error:g,succeed:"checked"===u}),style:this.theme.getSysInputIconStyle(this.theme.NORMAL)},String.fromCharCode("checked"===u?59173:58982)):null)),c.default.createElement("div",{className:"cpt_operate"},c.default.createElement(I.BaseBtn,{className:"fbc_button cpt_confirm",style:{default:this.theme.getSysButtonStyle(this.theme.NORMAL),hover:this.theme.getSysButtonStyle(this.theme.HOVER),active:this.theme.getSysButtonStyle(this.theme.ACTIVE)},onClick:this.handleConfirm,loading:m},p.gConfirm))))}})),Z=c.default.createClass({displayName:"Main",mixins:[f.default,b.default],childContextTypes:{updateEmbedContainer:c.default.PropTypes.func},getChildContext:function(){return{updateEmbedContainer:this.updateEmbedContainer}},getInitialState:function(){this.qrCodeGetter=null,this.form=(0,h.getFormStructure)(),this.theme=(0,h.getThemeHelper)(),this.store=(0,h.getStore)(),this.config=(0,h.getConfig)(),this.renderQueue=Promise.resolve(!0),this.embed=(0,h.getEmbed)(),this.updateEmbedContainer=_.debounce(this._updateEmbedContainer,300);var t=this.store.getState(),n=t.form,a=t.mbrmLogin,r=t.payment,i=t.data,o={hasError:0!==n.formStatus,isMbrmLogin:this.form.extensions.member&&a.authCompleted&&this.form.visitedMember.account,currentPage:n.page,shareQRVisible:!1,captchaVisible:!1,ifpPaymentVisible:!1,afterSubmitJumpVisible:!1,submitQueueVisible:!1,wxOnlyVisible:n.onlyWx,wxAutoCki:n.ckiAuto,updateCount:0,qrCodeVersion:0};return(0,h.getMode)()===W.MODE_FINISH_SUBMIT&&(n.submitFin&&r&&r.cashier?o.ifpPaymentVisible=!0:n.submitFin&&(0,H.default)(i)&&!this.form.isRedirectToMbrmReg()&&(o.afterSubmitJumpVisible=!0)),o},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.handleStateChange),this.unbind=(0,L.onResize)(this.handleResize),this.store.dispatch((0,D.CHECK_STYLE)()),this.embed&&this.embed.inEmbed&&this.embed.contentHeight()},componentWillUnmount:function(){clearTimeout(this.qrCodeGetter),this.updateEmbedContainer&&this.updateEmbedContainer.cancel&&this.updateEmbedContainer.cancel(),this.unsubscribe&&this.unsubscribe(),this.unbind&&this.unbind()},_updateEmbedContainer:function(){this.embed&&this.embed.inEmbed&&this.embed.contentHeight()},handleResize:function(){var t=this;this.inResize||(this.inResize=!0,this.renderQueue=this.renderQueue.then(function(){return new Promise(function(n){t.inResize=!1,t.setState({updateCount:++t.state.updateCount%10},function(){t.updateEmbedContainer()}),n(!0)})}))},handleStateChange:function(t){var n=this,a=this.state,r=a.hasError,i=a.currentPage;this.form=(0,h.getFormStructure)();var o=this.store.getState(),s=o.form,l=o.payment,u=o.data,c=o.mbrmLogin,d={isMbrmLogin:this.form.extensions.member&&c.authCompleted&&this.form.visitedMember.account,hasError:0!==s.formStatus,currentPage:s.page,wxOnlyVisible:s.onlyWx,wxAutoCki:s.ckiAuto};r!==d.hasError||i!==s.page&&(i>s.page?this.pageChange="prev":this.pageChange="next"),t.type===D._GEN_QR_CODE_SUCCEED?d.qrCodeVersion=(this.state.qrCodeVersion||0)+1:t.type===D._GEN_CAPTCHA_SUCCEED?s.captcha&&(d.submitQueueVisible=!1,d.captchaVisible=!0):t.type===D._IFP_PENDING?l&&l.cashier&&(d.submitQueueVisible=!1,d.ifpPaymentVisible=!0):t.type===D._SUBMIT_SUCCEED?s.submitFin&&(0,H.default)(u)&&!this.form.isRedirectToMbrmReg()&&(d.submitQueueVisible=!1,d.afterSubmitJumpVisible=!0):t.type===D._SUBMIT_QUEUE?d.submitQueueVisible=!0:[D._SUBMIT_QUEUE_END,D._SUBMIT_FAILED,D._SUBMIT_ERROR].indexOf(t.type)>-1&&(d.submitQueueVisible=!1,s.captcha&&(d.captchaVisible=!1)),this.setState(d,function(){n.updateEmbedContainer(),n.pageChange=!1})},checkAfterSubmitJump:function(){var t=this.store.getState(),n=t.form,a=t.data,r={};n.submitFin&&(0,H.default)(a)&&!this.form.isRedirectToMbrmReg()&&(r.submitQueueVisible=!1,r.afterSubmitJumpVisible=!0),this.setState(r)},handleShowShareQR:function(){this.setState({shareQRVisible:!0})},handleHideShareQR:function(){this.setState({shareQRVisible:!1})},handleGetQrCode:function(){this.state.qrCodeVersion<5&&this.store.dispatch((0,D.GEN_QR_CODE)())},handleHideCaptcha:function(){this.setState({captchaVisible:!1})},handleHidePayment:function(){var t=this;this.setState({ifpPaymentVisible:!1},function(){t.checkAfterSubmitJump()})},render:function(){var t=this.props.children,n=this.state,a=n.hasError,r=n.isMbrmLogin,i=n.shareQRVisible,o=n.captchaVisible,s=n.ifpPaymentVisible,u=n.afterSubmitJumpVisible,d=n.submitQueueVisible,f=n.qrCodeVersion,m=n.wxOnlyVisible,g=n.wxAutoCki,v=(0,h.getDeviceInfo)(),b=(0,h.getMode)()===W.MODE_IRO,y=(0,h.getMode)()===W.MODE_FILLING,E=0!==this.form.settings.isShowShare&&!this.isMobile()&&y&&!a,C=this.form.extensions.member&&y,T=this.form.style.bodyStyle&&0===this.form.style.bodyStyle.bgOpacityValue&&this.form.style.submitStyle&&0===this.form.style.submitStyle.bgOpacityValue;return c.default.createElement("div",{className:(0,l.default)("main",{"sm-display":this.isMobile(),"readonly":b}),role:"application",style:{maxWidth:this.form.width,width:"auto",boxShadow:T?"0 0 0":null}},b&&!m?c.default.createElement("p",{className:"form_globalTips"},(0,h.getLang)().tFormViewTIps):null,c.default.createElement(p.default,null),t,c.default.createElement("div",{className:"clearB",key:"clear"}),E?c.default.createElement(I.BaseBtn,{className:"f_shareBtn",key:"shareBtn",style:{default:this.theme.getBgBoxStyle(this.theme.NORMAL),hover:this.theme.getBgBoxStyle(this.theme.HOVER)},onClick:this.handleShowShareQR},c.default.createElement(A.default,{src:window.rootPath("images/form/form_shareQr.png")})):null,C?c.default.createElement(z.default,{isLogin:r,memberInfo:_.assign({},this.form.extensions.memberInfo,this.form.visitedMember),deviceInfo:v,hasShareQR:E}):null,c.default.createElement(Y,{src:this.form.qrCode(f),deviceInfo:v,onError:this.handleGetQrCode,description:(0,h.getLang)().sShareFormDis,visible:i,onClickAway:this.handleHideShareQR}),c.default.createElement(Q,{visible:m,src:this.form.qrCode(f),deviceInfo:v,onError:this.handleGetQrCode,description:(0,h.getLang)().errOnlyInWeChat,onClose:_.noop,onClickAway:_.noop}),c.default.createElement(J,{visible:g,deviceInfo:v,onClose:_.noop,onClickAway:_.noop}),c.default.createElement(X,{visible:o,deviceInfo:v,onClose:this.handleHideCaptcha,onClickAway:_.noop}),c.default.createElement(G.default,{visible:d,deviceInfo:v,onClose:_.noop,onClickAway:_.noop}),c.default.createElement(U.default,{visible:u,deviceInfo:v,onClose:_.noop,onClickAway:_.noop}),c.default.createElement(R.default,{visible:s,onClickAway:_.noop,onClose:this.handleHidePayment}))}});n.default=Z,t.exports=n["default"]},function(t,n,a){var r,i;!function(){"use strict";function a(){for(var t=[],n=0;n<arguments.length;n++){var r=arguments[n];if(r){var i=typeof r;if("string"===i||"number"===i)t.push(r);else if(Array.isArray(r)&&r.length){var s=a.apply(null,r);s&&t.push(s)}else if("object"===i)for(var l in r)o.call(r,l)&&r[l]&&t.push(l)}}return t.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof t&&t.exports?(a.default=a,t.exports=a):(r=[],i=function(){return a}.apply(n,r),!(void 0!==i&&(t.exports=i)))}()},function(t,n,a){t.exports=a(2)(468)},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=a(6),s=r(o),l=a(22),u=r(l),c=a(19),d=r(c),f=a(17),m=a(25),p=a(26),h=r(p),g=a(8),_=a(7),v=a(27),b=r(v),y=a(23),E=r(y),C=(0,m.crateTextRender)({entity:{}}),T=function(t){var n=!1;return s.default.isArray(t)?t.join("\n").length>0&&(n=!0):t&&(n=!0),n},S=d.default.createClass({displayName:"Header",mixins:[b.default,E.default],getInitialState:function(){this.store=(0,f.getStore)();var t=this.form=(0,f.getFormStructure)();this.style=t.style.headerStyle,this.header=s.default.assign({},t.header),this.header.baseLayoutStr||(this.header.baseLayoutStr=this.header.layoutStr);var n=this.getRenderData();return this.renderQueue=Promise.resolve(!0),this.needGetLogoSize=!0,s.default.assign({updateCount:0},n)},componentDidMount:function(){var t=this,n=this.state.data,a=[];this.needGetLogoSize&&this.header.logo?(a.push((0,g.getImageSize)(this.header.logo)),this.needGetLogoSize=!1):a.push(Promise.resolve(!1)),this.style.background?a.push((0,g.getImageSize)(this.style.background)):a.push(Promise.resolve(!1)),this.renderQueue=this.renderQueue.then(function(){return Promise.all(a).then(function(a){var r=i(a,2),o=r[0],l=r[1],u={data:s.default.assign({},n)};if(o){var c=s.default.assign({},o);c.width>t.form.width/3&&(c.width=Math.round(t.form.width/3),c.height=Math.round(o.height/o.width*c.width)),c.width===t.header.logoWidth&&c.height===t.header.logoHeight||(t.header.logoWidth=c.width,t.header.logoHeight=c.height,u.data.logoStyle=t._getLogoStyle(n.renderType,n.isMobile))}return l&&(t.header.backgroundWidth=l.width,t.header.backgroundHeight=l.height),s.default.isEmpty(u)||t.setState(u,function(){t.calc()}),!0})}),this.unbind=(0,_.onResize)(this.handleResize)},componentDidUpdate:function(t,n){n.data&&this.state.data.renderType===n.data.renderType||this.handleResize()},componentWillUnmount:function(){this.unbind&&this.unbind()},calc:function(t){this.header.contentDOM||(this.header=s.default.assign({},this.header,{contentDOM:{wrapper:this.wrapper,head:this.headline,header:this.formHeader}})),this.setState({updateCount:++this.state.updateCount%10},t)},handleResize:function(){var t=this;this.inResize||(this.inResize=!0,this.renderQueue=this.renderQueue.then(function(){return new Promise(function(n){t.inResize=!1,t.setState(t.getRenderData(),function(){t.calc(function(){n(!0)})})})}))},getRenderData:function(){var t=this.isMobile();!t&&this.header.baseLayoutStr&&(this.header.layoutStr=this.header.baseLayoutStr);var n={},a=this.header.layoutStr||"";if(t&&a&&this.header.logo){var r=a.split("");r[2]="C",r[3]="",a=r.join(""),this.header.layoutStr=a}if(this.header.logo&&"L"!==this.header.hasValue&&"C"!==a.charAt(2)){if(this.header.logo){var i=a.charAt(2);"L"!==i&&"R"!==i&&(i="L"),"Y"===a.charAt(3)?n.renderType=3:n.renderType=2}}else n.renderType=1;return n.wrapperContentStyle=this._getContentWrapperStyle(n.renderType,t),n.logoStyle=this._getLogoStyle(n.renderType,t),n.headlineStyle=this._getHeadlineStyle(n.renderType,t),n.descriptionStyle=this._getDescriptionStyle(n.renderType,t),"Y"===a.charAt(3)&&(n.headlineStyle=s.default.assign({},n.headlineStyle,n.wrapperContentStyle),n.wrapperContentStyle=null),n.isMobile=t,{data:n}},_getTextAlignByLayout:function(t){var n={};switch(t){case"L":n.textAlign="left";break;case"R":n.textAlign="right";break;case"C":n.textAlign="center"}return n},_getBgStyle:function(){var t=(this.header||{},this.style||{}),n={};if(t.background)if(n.backgroundImage="url("+t.background+")",n.backgroundRepeat="no-repeat",n.backgroundPositionX="center",n.backgroundPositionY="center",t.bgLayoutHorizontal!==t.bgLayoutVertical||3!==t.bgLayoutHorizontal&&4!==t.bgLayoutHorizontal){switch(t.bgLayoutHorizontal){case 3:n.backgroundRepeat="repeat-x";break;case 4:n.backgroundSize="100% auto";break;case 5:n.backgroundPositionX="left";break;case 7:n.backgroundPositionX="right";break;case 6:default:n.backgroundPositionX="center"}switch(t.bgLayoutVertical){case 3:n.backgroundRepeat="repeat-y";break;case 4:n.backgroundSize="auto 100%",n.backgroundPositionY=null;break;case 8:n.backgroundPositionY="top";break;case 9:n.backgroundPositionY="bottom";break;case 6:default:n.backgroundPositionY="center"}}else 3===t.bgLayoutHorizontal&&(n.backgroundRepeat="repeat"),4===t.bgLayoutHorizontal&&(n.backgroundSize="cover");return n},_getContentWrapperStyle:function(t,n){var a=this.header||{},r=a.logo,i={};if(r&&(i.float="L"===(a.layoutStr||"").charAt(2)?"right":"left",a.logoWidth&&a.logoHeight)){var o=(0,f.getStaticData)("H_P_LR"),s=2===a.logoDisplay?-(o/2):0,l=!a.logoBorder||4!==a.logoBorder&&5!==a.logoBorder?0:4;i.width="calc(100% - "+(a.logoWidth+l+s+6)+"px)"}return i},_getLogoStyle:function(t,n){var a=this.header||{},r=a.logo,i=null;if(r){i={},i.style={};var o=(a.layoutStr||"").charAt(2)||"N";if(a.logoHeight&&a.logoWidth){if(i.img={width:a.logoWidth,height:a.logoHeight},n&&Math.min((0,f.getFormDisplayWidth)(),this.form.width)-a.logoWidth<160){var l=(Math.min((0,f.getFormDisplayWidth)(),this.form.width)-160)/a.logoWidth;i.img={width:Math.round(a.logoWidth*l),height:Math.round(a.logoHeight*l)}}if(2===a.logoDisplay)i.style.marginTop=-(0,f.getStaticData)("H_P")/2,"L"===o||"N"===o?i.style.marginLeft=-(0,f.getStaticData)("H_P_LR")/2:"R"===o&&(i.style.marginRight=-(0,f.getStaticData)("H_P_LR")/2);else if(a.contentDOM&&1===a.logoDisplay){var u=!a.logoBorder||4!==a.logoBorder&&5!==a.logoBorder?0:4,c=null;if(2===t){if(a.contentDOM.wrapper){var d=a.contentDOM.wrapper;c=d.getBoundingClientRect()}}else if(3===t&&a.contentDOM.head){var m=a.contentDOM.head;c=m.getBoundingClientRect()}c&&c.height>i.img.height&&(i.style.marginTop=(c.height-i.img.height-u)/2)}else 3===a.logoDisplay&&(i.style.marginTop=-Math.floor(i.img.height/2+(0,f.getStaticData)("H_P")/3),i.style.padding=2)}else this.needGetLogoSize=!0;switch(i.style=s.default.assign(i.style,this._getTextAlignByLayout((a.layoutStr||"").charAt(2))),o){case"L":case"N":i.style.float="left";break;case"R":i.style.float="right"}}return i},_getHeadlineStyle:function(t,n){var a={},r=this.header||{},i=this.style||{};return r.layoutStr?(a=s.default.assign(a,this._getTextAlignByLayout(r.layoutStr.charAt(0))),i.headlineFontSize&&(a.fontSize=i.headlineFontSize),i.headlineColor&&(a.color=i.headlineColor),0===i.headlineFontWeight&&(a.fontWeight="normal"),n&&"C"===r.layoutStr.charAt(2)&&(a.marginTop=5),a):null},_getDescriptionStyle:function(t,n){var a={},r=this.header||{},i=this.style||{};return r.layoutStr?(a=s.default.assign(a,this._getTextAlignByLayout(r.layoutStr.charAt(1))),i.subheadFontSize&&(a.fontSize=i.subheadFontSize),i.subheadColor&&(a.color=i.subheadColor),i.subheadFontWeight&&(a.fontWeight="bold"),a):null},_getContentStyle:function(){var t={};return this.style&&this.style.headerContentOffsetY&&(t.paddingTop=Math.floor(this.style.headerContentOffsetY*((0,f.getFormDisplayWidth)()/this.form.width))),t},_getMainStyle:function(){var t=this.state.data;t=t||{};var n=this.style||{},a=this.header||{},r={},i=n.bgColor||"#669acc";if(null!=n.bgOpacityValue&&n.bgOpacityValue<1&&(i=(0,g.fade)(i,n.bgOpacityValue)),r.backgroundColor=i,r.zoom=1,a.backgroundHeight&&a.backgroundWidth){var o=a.backgroundHeight;if(4===n.bgLayoutHorizontal&&(o=Math.floor(a.backgroundHeight/a.backgroundWidth*(0,f.getFormDisplayWidth)())),4===n.bgLayoutVertical&&(o=null),r.minHeight=o?o-(0,f.getStaticData)("H_P"):o,r=s.default.assign({},r,this._getBgStyle()),this.isMobile()&&n&&4===n.bgLayoutHorizontal&&a.contentDOM&&a.contentDOM.header&&o<a.contentDOM.header.clientHeight&&8!==n.bgLayoutVertical&&9!==n.bgLayoutVertical){var l="center",u=function(t){var n="center";switch(t){case"R":n="right";break;case"C":break;case"L":default:n="left"}return n};T(a.headline)?l=u((a.layoutStr||"").charAt(0)):T(a.description)&&(l=u((a.layoutStr||"").charAt(1))),r.backgroundPositionY="center",r.backgroundPositionX=l,r.backgroundSize="auto 100%"}}return 3===a.logoDisplay&&(t&&t.logoStyle&&t.logoStyle.img?r.marginTop=Math.floor(t.logoStyle.img.height/2):r.marginTop=Math.floor(a.logoHeight/2)),r},refHeader:function(t){this.formHeader=t},refWrapper:function(t){this.wrapper=t},refHeadline:function(t){this.headline=t},_renderLogo:function(){var t=this.state.data;return t=t||{},T(this.header.logo)?d.default.createElement("div",{className:"h_logo",style:t.logoStyle.style},d.default.createElement(h.default,{className:(0,u.default)("logo","style"+this.header.logoBorder),style:t.logoStyle.img,src:this.header.logo})):null},_renderRichContent:function(t,n){return this.form.extensions.renderRichText||(n=null),C.render(t,n)},_renderHeadline:function(){var t=this.state.data;return t=t||{},T(this.header.headline)?d.default.createElement("div",{className:"h_headline",style:t.headlineStyle,ref:this.refHeadline},this._renderRichContent(this.header.headline,this.header.headline_style)):null},_renderDescription:function(){var t=this.state.data;return t=t||{},T(this.header.description)?d.default.createElement("div",{className:"h_description",style:t.descriptionStyle},this._renderRichContent(this.header.description,this.header.description_style)):null},renderA:function(t){var n=t.contentStyle;return d.default.createElement("div",{className:"fb_headerInfo",style:n,tabIndex:0,role:"heading","aria-level":0},this._renderLogo(),this._renderHeadline(),this._renderDescription(),d.default.createElement("div",{className:"clearB",key:"clear"}))},renderB:function(t){var n=t.contentStyle,a=this.state.data;return a=a||{},d.default.createElement("div",{className:"fb_headerInfo",style:n,tabIndex:0,role:"heading","aria-level":0},this._renderLogo(),d.default.createElement("div",{className:"fb_TDWrapper",key:"TDW",ref:this.refWrapper,style:a.wrapperContentStyle},this._renderHeadline(),this._renderDescription()),d.default.createElement("div",{className:"clearB",key:"clear"}))},renderC:function(t){var n=t.contentStyle,a=this.state.data;return a=a||{},d.default.createElement("div",{className:"fb_headerInfo",style:n,tabIndex:0,role:"heading","aria-level":0},d.default.createElement("div",{className:"fb_TLWrapper",key:"TLW",ref:this.refWrapper,style:a.wrapperContentStyle},this._renderLogo(),this._renderHeadline(),d.default.createElement("div",{className:"clearB"})),this._renderDescription(),d.default.createElement("div",{className:"clearB",key:"clear"}))},render:function t(){var n=this.state.data,t=null;1===n.renderType?t=this.renderA:2===n.renderType?t=this.renderB:3===n.renderType&&(t=this.renderC);var a=this._getMainStyle(),r=this._getContentStyle();return d.default.createElement("div",{className:"header",style:a,ref:this.refHeader},t?t({contentStyle:r}):null)}});n.default=S,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){n=n||[];var a={},r={blocks:[]},i=0;return g.default.forEach(t,function(t,o){var s=[],l=0,u=t.replace(T,function(t,n,r,o,u){return a[i]={type:"LINK",mutability:"MUTABLE",data:{"url":o}},s.push({offset:u-l,length:r.length,key:""+i}),i++,l+=12+o.length,r}),c=n[o]||{},d={text:u,type:"unstyled"};c.style&&!g.default.isEmpty(c.style)&&(d.inlineStyleRanges=c.style),g.default.isEmpty(s)||(d.entityRanges=s),r.blocks[o]=d}),r.entityMap=a,r}function s(t,n){var a=[],r=[],i=t.entityMap,o=n?n.entityTag:null;return g.default.forEach(t.blocks,function(t,n){a[n]={type:"unstyled",style:t.inlineStyleRanges};var s=[],l=[],u=0;g.default.forEach(t.entityRanges,function(n){u<n.offset&&s.push(t.text.substr(u,n.offset-u)),s.push(l.length);var a=i[n.key];l.push({text:t.text.substr(n.offset,n.length),type:a.type,data:a.data}),u=n.offset+n.length});var c=t.text.length-u;c>0&&s.push(t.text.substr(u,c)),r[n]=g.default.reduce(s,function(t,n){if(g.default.isNumber(n)){var a=l[n],r="";if("LINK"===a.type){var i=(0,E.linkify)(a.data.url)||a.data.url;r=o?o[0]+"LINK["+a.text+"]("+i+")"+o[1]:"{{LINK["+a.text+"]("+i+")}}"}return t+r}return t+n},"")}),{content:r,style:a}}function l(t,n){return g.default.map(g.default.filter(n,function(n){return t>=n.offset&&t<n.offset+n.length}),function(t){return t.style})}function u(t,n){return g.default.map(g.default.filter(n,function(n){return t>=n.offset&&t<n.offset+n.length},function(t){return{type:t.type,data:t.data,key:t.key}}))}function c(t){if("unstyled"===t)return null;if(M[t]&&t.indexOf("blockFontSize")>-1){var n=+t.replace("blockFontSize","");return{fontSize:n,lineHeight:S[n]}}return null}function d(t){var n={};return g.default.forEach(t,function(t){switch(t){case"BOLD":n.fontWeight="bold";break;case"ITALIC":n.fontStyle="italic";break;case"UNDERLINE":n.textDecoration?n.textDecoration=n.textDecoration+" underline":n.textDecoration="underline";break;case"STRIKETHROUGH":n.textDecoration?n.textDecoration=n.textDecoration+" line-through":n.textDecoration="line-through";break;default:if(0===t.indexOf("color:")&&(n.color=t.replace("color:","")),0===t.indexOf("bgc:")&&(n.backgroundColor=t.replace("bgc:","")),0===t.indexOf("fs:")){var a=+t.replace("fs:","");n.fontSize=isNaN(a)?null:a}if(0===t.indexOf("ff:")){var r=t.replace("ff:","");n.fontFamily=C[r]}}}),n}function f(t){if(!t||g.default.isEmpty(t))return null;var n={};return g.default.forEach(t,function(t,a){(t.t||t.s)&&(n[+a]={type:I[t.t]||"unstyled",style:g.default.map(t.s,function(t){return g.default.zipObject(["offset","length","style"],t)})})}),g.default.isEmpty(n)?null:n}function m(t){if(!t||g.default.isEmpty(t))return null;var n={};return g.default.forEach(t,function(t,a){if(t&&(t.type||t.style)){var r={};"unstyled"!==t.type&&(r.t=M[t.type]),g.default.isEmpty(t.style)||(r.s=g.default.map(t.style,function(t){return[t.offset,t.length,t.style]})),g.default.isEmpty(r)||(n[a]=r)}}),g.default.isEmpty(n)?null:n}Object.defineProperty(n,"__esModule",{value:!0});var p=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),h=a(6),g=r(h),_=a(19),v=r(_),b=a(22),y=r(b),E=a(9),C={1:"Microsoft YaHei",2:"SimSun, ST Song",3:"Wenquanyi Micro Hei, WenQuanYi ZenHei, WenQuanYi Zen Hei Sharp, ST Heiti",4:"KaiTi, KaiTi_GB2312, ST Kaiti",5:"YouYuan",6:"Arial",7:"Georgia",8:"Helvetica, Helvetica Neue",9:"Tahoma",10:"Times New Roman",11:"Verdana",12:"Calibri, Candara, Segoe"},T=/\{\{(LINK\[(.*?)\]\((.*?)\))\}\}/g,S={12:1.1,14:1.12,16:1.14,18:1.2,24:1.24,30:1.3,36:1.5,40:1.6},M={"blockFontSize12":"fs12","blockFontSize14":"fs14","blockFontSize16":"fs16","blockFontSize18":"fs18","blockFontSize24":"fs24","blockFontSize30":"fs30","blockFontSize36":"fs36","blockFontSize40":"fs40"},I=g.default.invert(M),N={},A=[],x=function(){function t(n){i(this,t),this.entity=n.entity,this.decorator=n.decorator}return p(t,[{key:"_entityComponent",value:function(t){return v.default.createElement("span",{key:t.key,className:(0,y.default)("cp-entity","entity-"+t.type.toLowerCase())},t.content)}},{key:"_styleWrapperComponent",value:function(t){var n=t.style,a=t.content,r=t.key;return g.default.isEmpty(n)?a:v.default.createElement("span",{style:d(n),key:"itemOffset"+r},a)}},{key:"renderLine",value:function(t,n,a){var r=[],i=0,o=0,s=t.replace(T,function(t,n,a,s,l){return r.push({type:"LINK",data:{"url":s},key:o,offset:l-i,length:a.length}),o++,i+=12+s.length,a});g.default.forEach(this.decorator,function(t){t.match(s,function(n,a){r.push({type:t.type||"VAR",key:o,offset:n,length:a}),o++})});for(var d=n||N,f=d.style||null,m=d.type||null,p=[],h="",_=0,b=[],y=null,E=[],C=0,S=s.length;C<S;C++){var M=null,I=null;M=f&&!g.default.isEmpty(f)?l(C,f):A,I=g.default.isEmpty(r)?null:u(C,r);var x=null,k=null;M===A?(x=A,
k=p):(x=g.default.difference(M,p),k=g.default.difference(p,M)),I=I&&0!==I.length?I[0]:null;var D=(I?I.key:null)!==y;if(x.length||k.length||D){if(null!==y){if(h&&(b.push(this._styleWrapperComponent({style:p,content:h,key:_})),_++,h=""),D&&b.length>0){var O=g.default.find(r,{key:y}),P=this.entity[O.type];P||(P=g.default.find(this.decorator,{type:O.type}));var L={type:O.type,content:b,data:O.data,key:"entity"+y};P?E.push(P.component(L)):E.push(this._entityComponent(L)),b=[]}}else h&&(E.push(this._styleWrapperComponent({style:p,content:h,key:_})),_++,h="");y=I?I.key:null,k.length>0&&(p=g.default.difference(p,k)),x.length>0&&g.default.forEach(x,function(t){return p.push(t)})}h+=s.substr(C,1)}if(h)if(null!==y){b.push(this._styleWrapperComponent({style:p,content:h,key:_}));var w=g.default.find(r,{key:y}),R=this.entity[w.type];R||(R=g.default.find(this.decorator,{type:w.type}));var F={type:w.type,content:b,data:w.data,key:"entity"+y};R?E.push(R.component(F)):E.push(this._entityComponent(F))}else E.push(this._styleWrapperComponent({style:p,content:h,key:_}));return g.default.isEmpty(E)&&(E=String.fromCharCode(160)),v.default.createElement("span",{key:"block"+a,style:m?c(m):null},E)}},{key:"render",value:function(t,n){var a=this,r=[];t=t?[].concat(t):[];var i=t.length;return g.default.forEach(t,function(t,o){var s=(n||N)[o],l=a.renderLine(t,s,o);r=r.concat(l,i-1===o?null:v.default.createElement("br",{key:"wrapKey"+o}))}),r}}]),t}();n.default={convertRawToDraftRaw:o,convertDraftRawToRaw:s,convertTextStyle:m,convertRawTextStyle:f,FONT_FAMILY_MAPPING:C,crateTextRender:function(t){return new x(t)}},t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},l=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),u=a(6),c=r(u),d=a(22),f=r(d),m=a(19),p=r(m),h=a(23),g=r(h),_=a(8),v=function(){return(+new Date+Math.ceil(3e3*Math.random())).toString(36)},b=function(){function t(){var n=this;o(this,t),this.lazyLoad=function(e){window.setTimeout(function(){n.inActive===!1&&(n.inActive=!0,c.default.forEach(n.imageList,function(t,n){var a=t.elem;a.getBoundingClientRect().top<=window.innerHeight&&a.getBoundingClientRect().bottom>=0&&"none"!==getComputedStyle(a).display&&t.callback&&t.callback()}),n.inActive=!1)},200)},this.imageList={},this.inActive=!1;var a="IntersectionObserverEntry"in window&&!("isIntersecting"in IntersectionObserverEntry.prototype);if("IntersectionObserver"in window&&!a)this.observable=!0,this.lazyImageObserver=function(t,n,a){var r=new IntersectionObserver(function(t,i){t[0].isIntersecting&&(a&&a(),r.unobserve(n))});return r};else{this.observable=!1;var r=c.default.debounce(this.lazyLoad,300);document.addEventListener("scroll",r),window.addEventListener("resize",r),window.addEventListener("orientationchange",r),window.addEventListener("lazyImageChecker",r)}}return l(t,[{key:"set",value:function(t,n){for(var a=v();this.imageList.hasOwnProperty(a);)a=v();return this.imageList[a]={elem:t,callback:n},this.observable?this.lazyImageObserver(a,t,n).observe(t):this.lazyLoad(),a}},{key:"unset",value:function(t){this.imageList.hasOwnProperty(t)&&delete this.imageList[t]}}]),t}(),y=null,E=p.default.createClass({displayName:"LazyImage",mixins:[g.default],getDefaultProps:function(){return{placeholder:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"}},getInitialState:function(){return y||(y=new b),{loaded:!1,url:this.props.placeholder}},componentWillReceiveProps:function(t){var n=this;t.src!==this.props.src&&this.setState({loaded:!1,url:this.props.placeholder},function(){n.bindLazyChecker()})},componentDidMount:function(){this.bindLazyChecker()},bindLazyChecker:function(){this.hash=y.set(this.image,this.handleLoad);var t=null;try{t=new Event("lazyImageChecker")}catch(n){t=document.createEvent("HTMLEvents"),t.initEvent("lazyImageChecker",!0,!0)}this.image.dispatchEvent(t)},componentWillUnmount:function(){this.hash&&(y.unset(this.hash),this.hash=null)},handleLoad:function(){var t=this;if(y.unset(this.hash),this.hash=null,this.isMounted()){if(this.props.noLazy)return void(this.isMounted()&&this.setState({loaded:!0,url:this.props.src}));(0,_.getImageSize)(this.props.src).then(function(){t.isMounted()&&t.setState({loaded:!0,url:t.props.src},function(){t.props.onLoad&&t.props.onLoad()})})}},onLoad:function(){this.props.noLazy&&this.props.onLoad&&this.props.onLoad()},refImage:function(t){this.image=t},render:function(){var t=this.props,n=(t.onLoad,t.className),a=(t.src,t.placeholder,t.alt),r=t.onError,o=i(t,["onLoad","className","src","placeholder","alt","onError"]);return p.default.createElement("img",s({className:(0,f.default)("lazy-img",n,{"placeholder":!this.state.loaded})},o,{ref:this.refImage,onError:r,onLoad:this.onLoad,src:this.state.url,alt:a||""}))}});n.default=E,t.exports=n["default"]},function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(17),i=a(8),o=1,s=2,l=490;n.default={isMobile:function(){var t=(0,r.getDeviceInfo)(),n=((0,r.getFormStructure)(),t.getClientWidth()),a=o;return(t.isMobile||n<l)&&(a=s),s===a},contentEntity:function(t){var n=t,a="&nbsp;",r=new RegExp("^(\t)+",""),o=new RegExp("(\t){2,}","g"),s=new RegExp("^("+a+")+",""),l=new RegExp("("+a+"){2,}","g"),u=new RegExp("^( |\\s)+",""),c=new RegExp("( |\\s){2,}","g"),d=new RegExp("^( )+",""),f=new RegExp("( ){2,}","g"),m=new RegExp("\r","g"),p=new RegExp("&#13;?","g"),h=new RegExp("&#8203;?","g"),g=new RegExp("\u2028","g"),_=new RegExp("\u2029","g"),v=String.fromCharCode(9),b=String.fromCharCode(160);return n=[].concat(n||"").map(function(t){return(""+(t||"")).replace(r,function(t){return(0,i.leftPad)("",v,t.length)}).replace(o,function(t){return(0,i.leftPad)("",v,t.length)}).replace(u,function(t){return(0,i.leftPad)("",b,t.length)}).replace(c,function(t){return(0,i.leftPad)("",b,t.length)}).replace(s,function(t){return(0,i.leftPad)("",b,t.length)}).replace(l,function(t){return(0,i.leftPad)("",b,t.length)}).replace(d,function(t){return(0,i.leftPad)("",b,t.length)}).replace(f,function(t){return(0,i.leftPad)("",b,t.length)}).replace(m,"").replace(g,"").replace(_,"").replace(p,"").replace(h,"")})}},t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function s(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function l(t){var n,a,r,l="popSupportRef";return a=n=function(n){function a(t){i(this,a);var n=o(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,t));return r.call(n),n.id=h.default.uniqueId(t.prefix+"-portal-popover-internal-id-"),n.descendants=[],n.isUnmounted=!1,n}return s(a,n),c(a,[{key:"getChildContext",value:function(){return{_mg_Popover:{close:this.close,open:this.open,getContentNode:this.getPopoverNode,getTriggerNode:this.getTriggerNode,registerDescendant:this.registerDescendant,unregisterDescendant:this.unregisterDescendant}}}},{key:"render",value:function(){return f.default.createElement(t,u({},this.props,{id:this.id,ref:l,onClickAway:this.handleClickAway}))}}]),a}(_.default),n.defaultProps={prefix:"mg",selector:"body"},n.contextTypes=m.PopoverContextType,n.childContextTypes=m.PopoverContextType,r=function(){var t=this;this.registerDescendant=function(n){t.descendants.push(n)},this.unregisterDescendant=function(n){var a=t.descendants.indexOf(n);t.descendants.splice(a,1)},this.getPopoverNode=function(){return document.querySelector("."+t.id).firstChild},this.getTriggerNode=function(){return null},this.close=function(){},this.open=function(){},this.isOutsideSelf=function(n){var a=t.getPopoverNode(),r=t.getTriggerNode();return(!r||!r.contains(n))&&!(a&&a.contains(n))},this.isOutsideStacked=function(n){return!(t.isOutsideSelf&&!t.isOutsideSelf(n))&&!t.descendants.some(function(t){return!t.isOutsideStacked(n)})},this.handleClickAway=function(n){var a=t.props,r=h.default.noop,i=function(){return t.pendingOnBeforeHook?h.default.noop:(t.pendingOnBeforeHook=!0,r.apply(void 0,arguments))},o=function(){t.pendingOnBeforeHook=!1};(0,m.handleBeforeHook)(i,r.length,function(){t.isOutsideStacked(n.target)&&a.onClickAway(n),t.pendingOnBeforeHook=!1},o)}},a}Object.defineProperty(n,"__esModule",{value:!0});var u=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},c=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}();n.default=l;var d=a(19),f=r(d),m=a(29),p=a(6),h=r(p),g=a(31),_=r(g);t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n,a,r){if(1===n)return t(a);if(n>=2)return t(a,r);var i=t();return C(i)||i===M?void i.then(a,r):a()}Object.defineProperty(n,"__esModule",{value:!0}),n.PopoverContextType=void 0;var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n.handleBeforeHook=i;var l=a(6),u=r(l),c=a(22),d=r(c),f=a(19),m=r(f),p=a(20),h=r(p),g=a(23),_=r(g),v=a(30),b=r(v),y=a(32),E=r(y),C=function(t){return!!t&&("object"===("undefined"==typeof t?"undefined":s(t))||"function"==typeof t)&&"function"==typeof t.then},T=function(t,n){return t===n||t&&t.prototype instanceof n},S=function(t){return u.default.isString(t)||u.default.isNumber(t)?{width:t}:{}},M=function(){},I=n.PopoverContextType={_mg_Popover:f.PropTypes.shape({close:f.PropTypes.func.isRequired,open:f.PropTypes.func.isRequired,getContentNode:f.PropTypes.func.isRequired,getTriggerNode:f.PropTypes.func.isRequired,registerDescendant:f.PropTypes.func,unregisterDescendant:f.PropTypes.func})},N=m.default.createClass({displayName:"Popover",mixins:[_.default],getDefaultProps:function(){return{prefix:"mg",className:"",wrapperClassName:"",display:"block",onBeforeClose:u.default.noop,onBeforeShow:u.default.noop,onClose:u.default.noop,onShow:u.default.noop,cushion:0,selector:"body",onPositionUpdated:u.default.noop,onPositionReady:u.default.noop}},getInitialState:function(){return this.id=u.default.uniqueId(this.props.prefix+"-popover-internal-id-"),this.descendants=[],this.isVisibilityControlled(this.props)?(this.isUnmounted=!1,{}):{visible:!1}},contextTypes:I,childContextTypes:I,getChildContext:function(){return{_mg_Popover:{close:this.close,open:this.open,getContentNode:this.getPopoverNode,getTriggerNode:this.getTriggerNode,registerDescendant:this.registerDescendant,unregisterDescendant:this.unregisterDescendant}}},safeSetState:function(t,n){if(!this.isUnmounted)return this.setState(t,n)},componentDidMount:function(){var t=this.context||{},n=t._mg_Popover;n&&n.registerDescendant&&n.registerDescendant(this),this.isVisibilityControlled()&&this.props.visible&&this.props.onShow()},componentDidUpdate:function(t,n){var a=this.getVisible();if(a!==this.getVisible(t,n)){var r=a?this.props.onShow:this.props.onClose;r()}},componentWillUnmount:function(){var t=this.context||{},n=t._mg_Popover;n&&n.unregisterDescendant&&n.unregisterDescendant(this),this.isUnmounted=!0},registerDescendant:function(t){this.descendants.push(t)},unregisterDescendant:function(t){var n=this.descendants.indexOf(t);this.descendants.splice(n,1)},isVisibilityControlled:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props,n=t.visible,a=t.onVisibleChange,r=u.default.isFunction(a),i=u.default.isBoolean(n);if(i&&!r||r&&!i)throw new Error("visible and onVisibleChange must be used together");return i&&r},getVisible:function(t,n){return this.isVisibilityControlled(t)?(t=t||this.props,t.visible):(n=n||this.state,n.visible)},setVisible:function(t,n,a){var r=this;n=n||this.props,a=a||this.state;var o=t?n.onBeforeShow:n.onBeforeClose,s=function(){return r.pendingOnBeforeHook?M:(r.pendingOnBeforeHook=!0,o.apply(void 0,arguments))},l=function(){r.pendingOnBeforeHook=!1};if(this.isVisibilityControlled(n)){if(this.pendingOnBeforeHook||n.visible===t)return;i(s,o.length,function(){n.onVisibleChange(t),r.pendingOnBeforeHook=!1},l)}else{if(this.pendingOnBeforeHook||a.visible===t)return;i(s,o.length,function(){r.safeSetState({visible:t}),r.pendingOnBeforeHook=!1},l)}},getPopoverNode:function(){return document.querySelector("."+this.id)},onTriggerRefChange:function(t,n){var a=t?h.default.findDOMNode(t):void 0;this.triggerNode=u.default.isFunction(n)?n(a):a,this.triggerInstance=t},onContentRefChange:function(t){this.contentInstance=t},getTriggerNode:function(){return this.triggerNode},adjustPosition:function(){this.contentInstance&&this.contentInstance.adjustPosition&&this.contentInstance.adjustPosition()},open:function(){this.setVisible(!0)},close:function(){this.setVisible(!1)},injectIsOutsideSelf:function(t){this.isOutsideSelf=t},isOutsideStacked:function(t){return!(this.isOutsideSelf&&!this.isOutsideSelf(t))&&!this.descendants.some(function(n){return!n.isOutsideStacked(t)})},validateChildren:function(){var t=this.props.children,n=f.Children.toArray(t);if(2!==n.length)throw new Error("There must be one and only one trigger and content in Popover");var a=n.reduce(function(t,n){var a=n.type;return T(a,b.default)?t.trigger=n:T(a,E.default)&&(t.content=n),t},{trigger:null,content:null}),r=a.trigger,i=a.content;if(!r)throw new Error("Missing trigger in Popover");if(!i)throw new Error("Missing content in Popover");return{trigger:r,content:i}},render:function(){var t=this.validateChildren(),n=t.trigger,a=t.content,r=this.props,i=r.display,s=r.style,l=r.prefix,u=r.className,c=r.wrapperClassName,f=r.selector,p=r.position,h=r.cushion,g=r.width,_=r.onPositionUpdated,v=r.onPositionReady,b=this.getVisible();return m.default.createElement("div",{style:o({display:i},s,S(g)),className:(0,d.default)(l+"-popover-wrapper",c,{"visible":this.getVisible()})},m.default.cloneElement(n,{prefix:l,contentVisible:b,onTriggerRefChange:this.onTriggerRefChange,getTriggerNode:this.getTriggerNode,getContentNode:this.getPopoverNode,open:this.open,close:this.close,isOutsideStacked:this.isOutsideStacked,injectIsOutsideSelf:this.injectIsOutsideSelf}),m.default.cloneElement(a,{prefix:l,className:u,id:this.id,getContentNode:this.getPopoverNode,getAnchor:this.getTriggerNode,ref:this.onContentRefChange,visible:b,cushion:h,selector:f,placement:p,onPositionUpdated:_,onPositionReady:v}))}});n.default=N},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function s(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0}),n.Click=void 0;var l=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),d=a(6),f=r(d),m=a(19),p=r(m),h=a(31),g=r(h),_=function(t){function n(t){i(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return a.isOutsideSelf=function(t){var n=a.props,r=n.isOutside,i=n.getContentNode,o=n.getTriggerNode,s=i(),l=o();return r?r(t,{contentNode:s,triggerNode:l}):(!l||!l.contains(t))&&!(s&&s.contains(t))},a.getTriggerProps=function(){return{}},a.triggerEvent=function(t,n,a){var r=t.props[n];r&&r(a)},a.validateChildren=function(){var t=a.props.children,n=m.Children.count(t);if(0===n)throw new Error("Popover trigger requires a child");var r="undefined"==typeof t?"undefined":u(t);if(1===n&&"string"===r||"number"===r)return p.default.createElement("span",null,t);if(n>1)throw new Error("Popover trigger requires only one child, but found "+n);var i=m.Children.only(a.props.children);if(i.ref&&!f.default.isFunction(i.ref))throw new Error("String ref is not allowed on Popover trigger");return i},a.onRefChange=function(t){var n=a.props,r=n.onTriggerRefChange,i=n.getNodeForTriggerRefChange;r(t,i);var o=a.validateChildren();f.default.isFunction(o.ref)&&o.ref(t)},t.injectIsOutsideSelf(a.isOutsideSelf),a}return s(n,t),c(n,[{key:"render",value:function(){var t=this.validateChildren();return p.default.cloneElement(t,l({ref:this.onRefChange},this.props.disabled?null:this.getTriggerProps(t)))}}]),n}(g.default),v=function(t){function n(){var t,a,r,s;i(this,n);for(var l=arguments.length,u=Array(l),c=0;c<l;c++)u[c]=arguments[c];return a=r=o(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(u))),r.onClickOutside=function(t){var n=r.props,a=n.contentVisible,i=n.isOutsideStacked,o=n.close;if(a){var s=t.target;i(s)&&o()}},r.getTriggerProps=function(t){return{onClick:function(n){r.props.contentVisible?r.props.close():(r.triggerEvent(t,"onClick",n),r.props.open())}}},r.bindEventHandler=function(t){var n=t||r.props,a=n.contentVisible,i=n.autoClose;return i&&a?(window.addEventListener("touchStart",r.onClickOutside,!0),window.addEventListener("click",r.onClickOutside,!0)):a?void 0:(window.removeEventListener("touchStart",r.onClickOutside,!0),window.removeEventListener("click",r.onClickOutside,!0))},s=a,o(r,s)}return s(n,t),c(n,[{key:"componentWillUnmount",value:function(){window.removeEventListener("click",this.onClickOutside,!0)}},{key:"componentDidMount",value:function(){this.bindEventHandler()}},{key:"componentWillReceiveProps",value:function(t){var n=t.contentVisible;n!==this.props.contentVisible&&this.bindEventHandler(t)}}]),n}(_);v.defaultProps={autoClose:!0},n.default=_;n.Click=v},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function s(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}Object.defineProperty(n,"__esModule",{value:!0});var l=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),u=a(19),c=(r(u),a(23)),d=r(c),f=d.default.shouldComponentUpdate,m=function(t){function n(){return i(this,n),o(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),l(n,[{key:"shouldComponentUpdate",value:function(t,n,a){return f.call(this,t,n)}}]),n}(u.Component);n.default=m,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function s(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function l(t,n){var a=t.left,r=t.top;return{width:Math.round(n.width),height:Math.round(n.height),top:Math.round(n.top-r),left:Math.round(n.left-a),bottom:Math.round(n.bottom-r),right:Math.round(n.right-a)}}Object.defineProperty(n,"__esModule",{value:!0});var u=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),c=a(6),d=r(c),f=a(22),m=r(f),p=a(19),h=r(p),g=a(31),_=r(g),v=a(33),b=r(v),y=a(7),E=a(34),C=function(t){return t?window.getComputedStyle(t,null):null},T=function(t,n){var a=t.getPropertyValue(n);return"none"!==a&&a?a:null},S=function(t){function n(t){var n=C(t),a=T(n,"position");return a&&"static"!==a}var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;if(a&&n(t))return t;for(var r=t.parentElement;null!==r;r=r.parentElement)if(n(r))return r;return document.documentElement},M=function(t,n){for(var a=n.parentNode;null!==a;){if(a===t)return!0;a=a.parentNode}return!1},I=function(t){function n(t){i(this,n);var a=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return a.getAnchor=function(){return a.props.getAnchor()},a.getPositionedParent=function(){if(void 0!==a.positionedParent)return a.positionedParent;var t=a.props.selector,n=document.querySelector(t),r=S(n,!0);return a.positionedParent=r,r},a.adjustPosition=function(){var t=a.props,n=t.visible,r=t.getContentNode,i=t.prefix,o=t.placement,s=t.cushion,u=t.onPositionUpdated,c=t.onPositionReady;if(n){var d=r();if(!d)return a.setState({position:(0,E.invisiblePlacement)(i)}),void setTimeout(a.adjustPosition,0);var f=d.getBoundingClientRect(),m=a.getAnchor();if(m){var p=m.getBoundingClientRect(),h=a.getPositionedParent();if(h){var g=h.getBoundingClientRect(),_=l(g,p),v=l(g,g),b=o(i,_,v,{width:f.width,height:f.height},{cushion:s,anchor:m,container:h,anchorBoundingBoxViewport:p,containerBoundingBoxViewport:g});(0,E.isEqualPlacement)(a.state.position,b)||a.setState({position:b},function(){u({position:b}),a.positionReady||(a.positionReady=!0,c())})}}}},a.handleResize=d.default.throttle(function(){a.adjustPosition()},16),a.handlePageScroll=d.default.throttle(function(e){var t=e.detail,n=a.props.visible;n&&M(t.container,a.getAnchor())&&a.adjustPosition()},32),a.state={position:null},a.positionReady=!1,a}return s(n,t),u(n,[{key:"componentDidMount",value:function(){var t=this.props.visible;t&&this.adjustPosition(),this.unbindResizeTrigger=(0,y.onResize)(this.handleResize)}},{key:"componentDidUpdate",value:function(t){this.props.visible&&t.visible!==this.props.visible&&(this.positionReady=!1,this.adjustPosition())}},{key:"componentWillUnmount",value:function(){this.unbindResizeTrigger()}},{key:"render",value:function(){var t=this.props,n=t.prefix,a=t.className,r=t.id,i=t.visible,o=t.children,s=t.selector,l=this.state.position;return l?h.default.createElement(b.default,{prefix:n,className:(0,m.default)(a,n+"-popover",r,l.toString()),visible:i,selector:s,quickRemove:!1,style:l.getCSSStyle(),onMount:this.adjustPosition},h.default.createElement("div",{className:n+"-popover-content"},o)):null}}]),n}(_.default);n.default=I,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(6),l=r(s),u=a(22),c=r(u),d=a(19),f=r(d),m=a(20),p=r(m),h=a(23),g=r(h),_=function(t){var n="string"==typeof t?document.querySelector(t):t;return n||document.body},v=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"div",a=document.createElement(n);return t.appendChild(a)},b=function(t){if(t){var n=t.parentNode;n&&n.removeChild(t)}},y=function(t,n){for(var a=n.parentNode;null!==a;){if(a===t)return!0;a=a.parentNode}return!1},E=function(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t&&setTimeout(function(){p.default.unmountComponentAtNode(t),l.default.isFunction(n)&&n(),l.default.isFunction(a)&&a()},r?0:300)},C=f.default.createClass({displayName:"PortalBox",mixins:[g.default],getDefaultProps:function(){return{visible:!0,selector:"body",box:"div",className:"",mask:!1,quickRemove:!1}},getInitialState:function(){return this.node=null,this.parent=null,{}},componentWillReceiveProps:function(t){this.props.selector!==t.selector&&(this.destroyPending=!0)},componentDidMount:function(){this.renderBox()},componentDidUpdate:function(){var t=this;this.destroyPending?this.destroyBox(function(){t.destroyPending=!1,t.renderBox()}):this.renderBox()},componentWillUnmount:function(){this.destroyBox()},handleClickAway:function(t){!t.defaultPrevented&&this.props.onClickAway&&this.props.visible&&(!(t.target instanceof Node)||t.target!==this.node&&t.target===window||document.documentElement.contains(t.target)&&!y(this.node,t.target))&&this.props.onClickAway(t)},decorate:function(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,r=a.onReady,i=a.className,o=a.style,s=a.mask,l=a.onClickAway;t.className=i,Object.keys(o||{}).forEach(function(n){t.style[n]=o[n]}),s?(t.addEventListener("touchstart",this.handleClickAway),t.addEventListener("click",this.handleClickAway),t.style.position=this.parent===document.body?"fixed":"absolute",t.style.top=0,t.style.bottom=0,t.style.left=0,t.style.right=0):l&&setTimeout(function(){window.addEventListener("touchstart",n.handleClickAway),window.addEventListener("click",n.handleClickAway)},0),r&&r(t)},undecorate:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props,a=(n.prefix,n.className);t.className=(0,c.default)(a,"a-portal-destroy"),n.useLayerForClickAway?(t.style.position="relative",t.removeEventListener("touchstart",this.handleClickAway),t.removeEventListener("click",this.handleClickAway)):(window.removeEventListener("touchstart",this.handleClickAway),window.removeEventListener("click",this.handleClickAway))},renderBox:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;if(t.visible){this.parent||(this.parent=_(t.selector)),t.box&&(!t.box||"string"!=typeof t.box)||this.node||(this.node=v(this.parent,t.box));var n=t.children,a=t.render,r=t.onMount;this.decorate(this.node);var i=a?a():n;p.default.unstable_renderSubtreeIntoContainer(this,i,this.node,r)}else this.destroyBox()},destroyBox:function(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.props;this.node&&(this.destroy=!0,this.undecorate(this.node),E.call(this,this.node,function(){n.destroy=!1,b(n.node),n.node=null,n.parent=null,l.default.isFunction(t)&&t()},a.onUnmount,a.quickRemove))},render:function(){return null}}),T=f.default.createClass({displayName:"Portal",mixins:[g.default],getDefaultProps:function(){return{prefix:"mg",visible:!0}},node:function(){return this.portalBox.node},refPortalBox:function(t){this.portalBox=t},render:function(){var t=this.props,n=t.prefix,a=t.className,r=t.id,s=i(t,["prefix","className","id"]);return f.default.createElement(C,o({className:(0,c.default)(n+"-portal",r,a)},s,{ref:this.refPortalBox}))}});n.default=T,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){var t=-1e5,n=-1e5;return{getCSSStyle:function(){return{position:"fixed",left:t+"px",top:n+"px",zIndex:-10,opacity:0}},name:"position-invisible"}}Object.defineProperty(n,"__esModule",{value:!0}),n.invisiblePlacement=n.createPlacement=n.isEqualPlacement=void 0;var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(6),l=r(s),u=(n.isEqualPlacement=function(t,n){return t&&n&&t.name===n.name&&l.default.isEqual(t.getCSSStyle(),n.getCSSStyle())},n.createPlacement=function(t){var n=function(n){for(var a=arguments.length,r=Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];var s=t.apply(void 0,r);if(!s||!s.name||!s.getCSSStyle)throw new Error("name and getCSSStyle is required for a placement");var l=n+"-popover-"+s.name;return o({},s,{toString:function(){return l}})};return n.locate=t,n});n.invisiblePlacement=u(i)},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return s.default.createClass({mixins:[d.default],getDefaultProps:function(){return{mask:!0}},componentWillReceiveProps:function(t){t.visible!==this.props.visible&&(t.visible?this.on():this.off())},componentDidMount:function(){this.props.visible&&this.on()},componentWillUnmount:function(){this.props.visible&&this.off()},on:function(){document.body.addEventListener("keyup",this.onKeyUp,!0)},off:function(){document.body.removeEventListener("keyup",this.onKeyUp,!0)},onKeyUp:function(t){27===t.keyCode&&this.props.onClose&&this.props.onClose()},render:function(){var n=u.default.omit(this.props,"onClose");return s.default.createElement(t,n)}})}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=a(19),s=r(o),l=a(6),u=r(l),c=a(23),d=r(c);t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function o(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0}),n.BaseCutDown=n.BaseBtn=void 0;var s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},l=a(22),u=r(l),c=a(19),d=r(c),f=a(23),m=r(f),p=a(8),h=d.default.createClass({displayName:"BaseBtn",mixins:[m.default],getInitialState:function(){return this.touchEventStart=!1,{hover:!1,active:!1,focus:!1}},componentWillUnmount:function(){clearTimeout(this.touchActive),this.touchActive=null},blur:function(){this.btn.focus(),this.btn.blur()},focus:function(){this.btn.focus()},isFocus:function(){return this.state.focus},handleMouseEnter:function(e){var t=this;this.touchEventStart||(this.props.onMouseEnter&&this.props.onMouseEnter(e),
this.setState({hover:!0},function(){t.props.onStateChange&&t.props.onStateChange(t.state)}),e.currentState=_.assign({},this.state,{hover:!0}))},handleMouseLeave:function(e){var t=this;this.touchEventStart||(this.props.onMouseLeave&&this.props.onMouseLeave(e),this.setState({hover:!1,active:!1},function(){t.props.onStateChange&&t.props.onStateChange(t.state),t.state.focus&&t.blur()}),e.currentState=_.assign({},this.state,{hover:!1,active:!1}))},handleMouseDown:function(e){var t=this;this.touchEventStart||(this.props.onMouseDown&&this.props.onMouseDown(e),this.setState({active:!0},function(){t.props.onStateChange&&t.props.onStateChange(t.state)}),e.currentState=_.assign({},this.state,{active:!0}))},handleMouseUp:function(e){var t=this;return this.touchEventStart?void(this.touchEventStart=!1):(this.props.onMouseUp&&this.props.onMouseUp(e),this.setState({active:!1},function(){t.props.onStateChange&&t.props.onStateChange(t.state)}),void(e.currentState=_.assign({},this.state,{active:!1})))},handleTouchStart:function(e){var t=this;this.touchEventStart=!0,this.setState({hover:!0,active:!0},function(){t.props.onStateChange&&t.props.onStateChange(t.state)}),this.props.onTouchStart&&this.props.onTouchStart(e),e.currentState=_.assign({},this.state,{active:!0,hover:!0})},handleTouchEnd:function(e){var t=this;clearTimeout(this.touchActive),this.touchActive=null,this.props.onTouchEnd&&this.props.onTouchEnd(e),this.setState({active:!1,hover:!1},function(){t.props.onStateChange&&t.props.onStateChange(t.state)}),e.currentState=_.assign({},this.state,{active:!1,hover:!1})},handleFocus:function(e){var t=this;this.props.onFocus&&this.props.onFocus(e),this.setState({focus:!0},function(){t.props.onStateChange&&t.props.onStateChange(t.state)}),e.currentState=this.state},handleBlur:function(e){var t=this;this.props.onBlur&&this.props.onBlur(e),this.setState({focus:!1},function(){t.props.onStateChange&&t.props.onStateChange(t.state)}),e.currentState=this.state},handleClick:function(e){e.stopPropagation();var t=this.props,n=t.disabled,a=t.loading;n||a||(e.currentState=this.state,this.props.onClick&&this.props.onClick(e))},getStyle:function(){var t=this.state,n=t.hover,a=t.active,r=t.focus,i=this.props,o=i.style,s=i.disabled,l=i.loading,u=i.inValid;if(o&&o.default){var c=o.default;return l&&(o.loading||o.active)?c=_.assign({},c,o.loading||o.active):s&&o.disabled?c=_.assign({},c,o.disabled):u&&o.error?c=_.assign({},c,o.error):(o.hover&&n&&(c=_.assign({},c,o.hover)),o.focus&&r&&(c=_.assign({},c,o.hover,o.focus)),o.active&&a&&(c=_.assign({},c,o.active))),c}return o},btnRef:function(t){this.btn=t},render:function(){var t,n=this.props,a=n.className,r=(n.style,n.children),l=n.component,c=(n.onMouseDown,n.onMouseUp,n.onTouchStart,n.onTouchEnd,n.onBlur,n.onFocus,n.onMouseEnter,n.onMouseLeave,n.onClick,n.disabled),f=n.loading,m=n.unuseLoadingDom,p=n.prefix,h=o(n,["className","style","children","component","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","onBlur","onFocus","onMouseEnter","onMouseLeave","onClick","disabled","loading","unuseLoadingDom","prefix"]),g=!c&&!f,v=this.state,b=v.hover,y=v.active,E=v.focus,C=p?p:"bb-btn-",T=r;f&&!m&&(T=_.isBoolean(f)?d.default.createElement("span",{className:"bbLoading"}):f);var S=l||"a";return d.default.createElement(S,s({ref:this.btnRef,style:this.getStyle(),className:(0,u.default)(a,(t={},i(t,C+"hover",b&&g),i(t,C+"active",y&&g),i(t,C+"focus",E&&g),i(t,C+"loading",f),i(t,C+"disabled",c),t)),onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchEnd,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick},h),T)}});n.BaseBtn=h;n.BaseCutDown=d.default.createClass({displayName:"BaseCutDown",getDefaultProps:function(){return{duration:3e3,component:"span"}},getInitialState:function(){var t=+new Date;return this.start=t,{now:t}},componentDidMount:function(){var t=this,n=this.props,a=n.duration,r=n.onFinishCutDown,i=function n(){var i=+new Date;i-t.start>=a?r&&r():t.isMounted()&&t.setState({now:i},function(){(0,p.rAF)(n)})};i()},componentWillUnmount:function(){},render:function(){var t=this.props,n=t.onRender,a=t.duration,r=t.component,i=this.state.now;return d.default.createElement(r,null,n(s({},this.state,{start:this.start,passed:i-this.start,remain:Math.max(0,a-(i-this.start))})))}})},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var n=0,a=void 0,r=null;return s.default.createClass({mixins:[u.default],getDefaultProps:function(){return{selector:"body"}},getInitialState:function(){return null==f&&(f=d()),null},componentWillReceiveProps:function(t){this.props.visible!==t.visible&&(t.visible===!1?this.restoreStyle():this.saveStyle())},componentDidMount:function(){this.props.visible&&this.saveStyle()},componentWillUnmount:function(){this.props.visible&&this.restoreStyle()},saveStyle:function(){if(n++,1===n){var t=this.props.selector;if("body"===t)if(0===f){var i=c(t);r=window.scrollY,i.style.position="fixed",i.style.top=-r+"px",i.style.height="auto"}else{var o=document.documentElement,s=c(t);r=window.scrollY,a=o.style.overflow,o.style.overflow="hidden",s.scrollTop=r}else{var l=c(t),u=l.style;a=u.overflow,u.overflow="hidden"}}},restoreStyle:function(){if(n--,n<=0){var t=this.props.selector;if("body"===t){if(0===f){var i=c(t);i.style.position="",i.style.top="",i.style.height="",window.scrollTo(0,r)}else{var o=document.documentElement;o.style.overflow=a,window.scrollTo(0,r)}r=null}else{var s=c(t);s.style.overflow=a}}},render:function(){return s.default.createElement(t,this.props)}})}Object.defineProperty(n,"__esModule",{value:!0}),n.default=i;var o=a(19),s=r(o),l=a(23),u=r(l),c=function(t){var n="string"==typeof t?document.querySelector(t):t;return n||document.body},d=function(){var t=document.createElement("div");t.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),n},f=null;t.exports=n["default"]},function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.BLUR_CTCF_CURRENCY=n.SET_CTCF_CURRENCY=n.BLUR_CTCF_CNVEHICLE_VALUE=n.SET_CTCF_CNVEHICLE_VALUE=n.CHECK_CNID_LOCATION_FAILED=n.CHECK_CNID_LOCATION_SUCCEED=n.CHECK_CNID_LOCATION=n.BLUR_CTCF_CNID_VALUE=n.SET_CTCF_CNID_VALUE=n.SET_SIGN_VALUE=n.SET_MULTILEVEL_VALUE=n.SET_LOCATION_CONTENT_STRUCTURE=n.SET_LOCATION_VALUE=n.SET_COMMODITY_VALUE=n.BLUR_DATE_TIME_VALUE=n.SET_DATE_TIME_VALUE=n.REMOVE_FILE=n.SET_FILE_DONE=n.SET_FILE=n.CHECK_AUTH_CODE_FAILED=n.CHECK_AUTH_CODE_SUCCEED=n.CHECK_AUTH_CODE=n.SET_AUTH_CODE_VALUE=n.CLEAN_REQUIRE_AUTH_FAIL_ERR=n.REQUIRE_AUTH_MESSAGE_FAILED=n.REQUIRE_AUTH_MESSAGE_SUCCEED=n.REQUIRE_AUTH_MESSAGE=n.BLUR_AUTH_MOBILE=n.SET_AUTH_MOBILE_VALUE=n.SET_TABULAR_VALUE=n.SET_GROUP_VALUE=n.BLUR_GROUP_INPUT=n.REMOVE_GROUP_ITEM=n.ADD_GROUP_ITEM=n.SET_MULTI_INPUT_VALUE=n.BLUR_MULTI_INPUT=n.REMOVE_MULTI_INPUT_ITEM=n.ADD_MULTI_INPUT_ITEM=n.REMOVE_RANK=n.SET_NEXT_RANK=n.SET_RANK=n.SET_RATE=n.CHECK_COMMODITY_QUOTA_FAILED=n.CHECK_OPTION_QUOTA_FAILED=n.CHECK_INDEPENDENT_DATA_FAILED=n.CHECK_COMMODITY_LIMIT=n.SET_OPT_EXT_VALUE=n.SELECT_OPT=n.BLUR_NUMBER=n.BLUR_INPUT=n.SET_VALUE=n._BLUR_CTCF_CURRENCY=n._SET_CTCF_CURRENCY=n._SET_SIGN_VALUE=n._BLUR_CTCF_CNVEHICLE_VALUE=void 0,n._SET_CTCF_CNVEHICLE_VALUE=n._CHECK_CNID_LOCATION_FAILED=n._CHECK_CNID_LOCATION_SUCCEED=n._CHECK_CNID_LOCATION=n._BLUR_CTCF_CNID_VALUE=n._SET_CTCF_CNID_VALUE=n._SET_MULTILEVEL_VALUE=n._SET_LOCATION_CONTENT_STRUCTURE=n._SET_LOCATION_VALUE=n._SET_COMMODITY_VALUE=n._BLUR_DATE_TIME_VALUE=n._SET_DATE_TIME_VALUE=n._REMOVE_FILE=n._SET_FILE_DONE=n._SET_FILE=n._CHECK_AUTH_CODE_FAILED=n._CHECK_AUTH_CODE_SUCCEED=n._CHECK_AUTH_CODE=n._SET_AUTH_CODE_VALUE=n._CLEAN_REQUIRE_AUTH_MSG_FAILED_ERR=n._REQUIRE_AUTH_MSG_FAILED=n._REQUIRE_AUTH_MSG_SUCCEED=n._REQUIRE_AUTH_MSG=n._BLUR_AUTH_MOBILE=n._SET_AUTH_MOBILE_VALUE=n._SET_TABULAR_VALUE=n._SET_GROUP_VALUE=n._BLUR_GROUP_INPUT=n._REMOVE_GROUP_ITEM=n._ADD_GROUP_ITEM=n._SET_MULTI_INPUT_VALUE=n._BLUR_MULTI_INPUT=n._REMOVE_MULTI_INPUT_ITEM=n._ADD_MULTI_INPUT_ITEM=n._REMOVE_RANK=n._SET_NEXT_RANK=n._SET_RANK=n._SET_RATE=n._CHECK_COMMODITY_QUOTA_FAILED=n._CHECK_OPTION_QUOTA_FAILED=n._CHECK_INDEPENDENT_DATA_FAILED=n._CHECK_COMMODITY_LIMIT=n._SET_OPT_EXT_VALUE=n._SELECT_OPT=n._BLUR_NUMBER=n._BLUR_INPUT=n._SET_VALUE=n.MBRM_AUTH_MEMBER_FAILED=n.MBRM_AUTH_MEMBER_SUCCEED=n.MBRM_AUTH_MEMBER=n.MBRM_CHECK_MEMBER_FAILED=n.MBRM_CHECK_MEMBER_SUCCEED=n.MBRM_CHECK_MEMBER=n.MBRM_GET_AUTH_CODE_FAILED=n.MBRM_GET_AUTH_CODE_SUCCEED=n.MBRM_GET_AUTH_CODE=n.MBRM_VALID_ACC=n.MBRM_BLUR_ACC=n.MBRM_CHANGE_AUTH_CONTENT=n.MBRM_CHANGE_AUTH_TYPE=n._MBRM_AUTH_MEMBER_FAILED=n._MBRM_AUTH_MEMBER_SUCCEED=n._MBRM_AUTH_MEMBER=n._MBRM_CHECK_MEMBER_FAILED=n._MBRM_CHECK_MEMBER_SUCCEED=n._MBRM_CHECK_MEMBER=n._MBRM_GET_AUTH_CODE_FAILED=n._MBRM_GET_AUTH_CODE_SUCCEED=n._MBRM_GET_AUTH_CODE=n._MRBM_VALID_ACC=n._MBRM_BLUR_ACC=n._MBRM_CHANGE_AUTH_CONTENT=n._MBRM_CHANGE_AUTH_TYPE=n.WX_AUTH_FAILED=n.WX_AUTH_SUCCEED=n.WX_AUTH=n._WX_AUTH_FAILED=n._WX_AUTH_SUCCEED=n._WX_AUTH=n.CHECK_SUBMIT_CAPTCHA_FAILED=n.CHECK_SUBMIT_CAPTCHA_SUCCEED=n.CHECK_SUBMIT_CAPTCHA=n.CHECK_CAPTCHA_FAILED=n.CHECK_CAPTCHA_SUCCEED=n.CHECK_CAPTCHA=n.GEN_CAPTCHA_FAILED=n.GEN_CAPTCHA_SUCCEED=n.GEN_CAPTCHA=n.GEN_QR_CODE_FAILED=n.GEN_QR_CODE_SUCCEED=n.GEN_QR_CODE=n._CHECK_SUBMIT_CAPTCHA_FAILED=n._CHECK_SUBMIT_CAPTCHA_SUCCEED=n._CHECK_SUBMIT_CAPTCHA=n._CHECK_CAPTCHA_FAILED=n._CHECK_CAPTCHA_SUCCEED=n._CHECK_CAPTCHA=n._GEN_CAPTCHA_FAILED=n._GEN_CAPTCHA_SUCCEED=n._GEN_CAPTCHA=void 0,n._GEN_QR_CODE_FAILED=n._GEN_QR_CODE_SUCCEED=n._GEN_QR_CODE=n.CHECK_SOUL_FIN=n.CHECK_SOUL=n.FORM_START_FILLING_FIN=n.FORM_START_FILLING=n.CHECK_FORM_START=n.CHECK_SUBMIT_ONCE=n.CHECK_CKI_WX=n.CHECK_ONLY_WX=n._CHECK_SOUL_FIN=n._CHECK_SOUL=n._FORM_START_FILLING_FIN=n._FORM_START_FILLING=n._CHECK_FORM_START=n._CHECK_SUBMIT_ONCE=n._CHECK_CKI_WX=n._CHECK_ONLY_WX=n.CHECK_IN_ERROR=n.CHECK_IN_FAILED=n.CHECK_IN_SUCCEED=n.CHECK_IN_PROGRESS=n.CHECK_IN=n.CHECK_CKI_ONCE=n.WX_CKI_AUTO_FIN=n.WX_CKI_AUTO=n.FINISH_SUBMIT_DIRECT=n.IFP_CHECK=n.IFP_CONFIRM=n.IFP_CANCEL=n.IFP_FINISH_PAY=n.IFP_PAY=n.IFP_PENDING=n.SUBMIT_QUEUE_FIN=n.SUBMIT_QUEUE_END=n.SUBMIT_QUEUE=n.SUBMIT_ERROR=n.SUBMIT_FAILED=n.SUBMIT_SUCCEED=n.SUBMIT_PROGRESS=n.SUBMIT=n.PRE_SUBMIT=n.START_SUBMIT=n._CHECK_IN_ERROR=n._CHECK_IN_FAILED=n._CHECK_IN_SUCCEED=n._CHECK_IN_PROGRESS=n._CHECK_IN=n._CHECK_CKI_ONCE=n._WX_CKI_AUTO_FIN=n._WX_CKI_AUTO=n._FINISH_SUBMIT_DIRECT=n._IFP_CHECK=n._IFP_CONFIRM=n._IFP_CANCEL=n._IFP_FINISH_PAY=n._IFP_PAY=n._IFP_PENDING=n._SUBMIT_QUEUE_FIN=n._SUBMIT_QUEUE_END=n._SUBMIT_QUEUE=n._SUBMIT_ERROR=n._SUBMIT_FAILED=n._SUBMIT_SUCCEED=n._SUBMIT_PROGRESS=n._SUBMIT=n._PRE_SUBMIT=n._START_SUBMIT=n.CHANGE_USE_MBRM_BALANCE=n._CHANGE_USE_MBRM_BALANCE=n.CHECK_MBRM_BALANCE_FAILED=n.CHECK_MBRM_BALANCE_SUCCEED=n.CHECK_MBRM_BALANCE=n._CHECK_MBRM_BALANCE_FAILED=n._CHECK_MBRM_BALANCE_SUCCEED=n._CHECK_MBRM_BALANCE=n.CHANGE_PAYMENT_METHOD=n._CHANGE_PAYMENT_METHOD=n.PAGING_CHANGE_END=n.GOTO_PAGE=n.START_GOTO_PAGE=n._PAGING_CHANGE_END=n._GOTO_PAGE=n._START_GOTO_PAGE=n.VERIFY_PASSWORD_FAILED=n.VERIFY_PASSWORD_SUCCEED=n.VERIFY_PASSWORD=n._VERIFY_PASSWORD_FAILED=n._VERIFY_PASSWORD_SUCCEED=n._VERIFY_PASSWORD=n.CHUNK_LOADED=n.CHUNK_MEASURE=n._CHUNK_LOADED=n._CHUNK_MEASURE=n.CHECK_STYLE=n._CHECK_STYLE=n.FORCE_UPDATE=n._FORCE_UPDATE_ALL=n.ACTION_CATEGORY=void 0;var r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},i=a(39),o=a(17),s=n.ACTION_CATEGORY="FORM_RUNTIME",l=function(t){return"FR_"+t},u=function(t){return(0,i.handleAction)(t,s)},c="_succeed",d="_failed",f="_fin",m=function(t){return function(n){return u(r({type:t},n,{__MODE__:(0,o.getMode)()}))}},p=n._FORCE_UPDATE_ALL=l("update"),h=(n.FORCE_UPDATE=m(p),n._CHECK_STYLE=l("checkStyle")),g=(n.CHECK_STYLE=m(h),n._CHUNK_MEASURE=l("cMeasure")),_=n._CHUNK_LOADED=g+"_loaded",v=(n.CHUNK_MEASURE=m(g),n.CHUNK_LOADED=m(_),n._VERIFY_PASSWORD=l("verify_pwd")),b=n._VERIFY_PASSWORD_SUCCEED=v+c,y=n._VERIFY_PASSWORD_FAILED=v+d,E=(n.VERIFY_PASSWORD=m(v),n.VERIFY_PASSWORD_SUCCEED=m(b),n.VERIFY_PASSWORD_FAILED=m(y),n._START_GOTO_PAGE=l("s_page")),C=n._GOTO_PAGE=l("page"),T=n._PAGING_CHANGE_END=C+f,S=(n.START_GOTO_PAGE=m(E),n.GOTO_PAGE=m(C),n.PAGING_CHANGE_END=m(T),n._CHANGE_PAYMENT_METHOD=l("paymentMethod")),M=(n.CHANGE_PAYMENT_METHOD=m(S),n._CHECK_MBRM_BALANCE=l("check_mbrm_balance")),I=n._CHECK_MBRM_BALANCE_SUCCEED=M+c,N=n._CHECK_MBRM_BALANCE_FAILED=M+d,A=(n.CHECK_MBRM_BALANCE=m(M),n.CHECK_MBRM_BALANCE_SUCCEED=m(I),n.CHECK_MBRM_BALANCE_FAILED=m(N),n._CHANGE_USE_MBRM_BALANCE=l("useMbrmBalance")),x=(n.CHANGE_USE_MBRM_BALANCE=m(A),n._START_SUBMIT=l("s_submit")),k=n._PRE_SUBMIT=l("p_submit"),D=n._SUBMIT=l("submit"),O=n._SUBMIT_PROGRESS=D+"_progress",P=n._SUBMIT_SUCCEED=D+c,L=n._SUBMIT_FAILED=D+d,w=n._SUBMIT_ERROR=D+"_err",R=n._SUBMIT_QUEUE=D+"_queue",F=n._SUBMIT_QUEUE_END=R+"_end",U=n._SUBMIT_QUEUE_FIN=R+f,B=n._IFP_PENDING=l("ifp_pending"),H=n._IFP_PAY=l("ifp_pay"),j=n._IFP_FINISH_PAY=l("ifp_finish_pay"),G=n._IFP_CANCEL=l("ifp_cancel"),W=n._IFP_CONFIRM=l("ifp_confirm"),V=n._IFP_CHECK=l("ifp_check"),z=n._FINISH_SUBMIT_DIRECT=l("f_submit_direct"),K=n._WX_CKI_AUTO=l("wx_cki_auto"),q=n._WX_CKI_AUTO_FIN=l("wx_cki_a_fin"),Y=n._CHECK_CKI_ONCE=l("check_cki_once"),Q=n._CHECK_IN=l("check_in"),J=n._CHECK_IN_PROGRESS=Q+"_progress",X=n._CHECK_IN_SUCCEED=Q+c,Z=n._CHECK_IN_FAILED=Q+d,ee=n._CHECK_IN_ERROR=Q+"_err",te=(n.START_SUBMIT=m(x),n.PRE_SUBMIT=m(k),n.SUBMIT=m(D),n.SUBMIT_PROGRESS=m(O),n.SUBMIT_SUCCEED=m(P),n.SUBMIT_FAILED=m(L),n.SUBMIT_ERROR=m(w),n.SUBMIT_QUEUE=m(R),n.SUBMIT_QUEUE_END=m(F),n.SUBMIT_QUEUE_FIN=m(U),n.IFP_PENDING=m(B),n.IFP_PAY=m(H),n.IFP_FINISH_PAY=m(j),n.IFP_CANCEL=m(G),n.IFP_CONFIRM=m(W),n.IFP_CHECK=m(V),n.FINISH_SUBMIT_DIRECT=m(z),n.WX_CKI_AUTO=m(K),n.WX_CKI_AUTO_FIN=m(q),n.CHECK_CKI_ONCE=m(Y),n.CHECK_IN=m(Q),n.CHECK_IN_PROGRESS=m(J),n.CHECK_IN_SUCCEED=m(X),n.CHECK_IN_FAILED=m(Z),n.CHECK_IN_ERROR=m(ee),n._CHECK_ONLY_WX=l("check_only_wx")),ne=n._CHECK_CKI_WX=l("check_cki_wx"),ae=n._CHECK_SUBMIT_ONCE=l("check_submit_once"),re=n._CHECK_FORM_START=l("check_form_start"),ie=n._FORM_START_FILLING=l("form_start_filling"),oe=n._FORM_START_FILLING_FIN=ie+f,se=n._CHECK_SOUL=l("ck_soul"),le=n._CHECK_SOUL_FIN=se+f,ue=(n.CHECK_ONLY_WX=m(te),n.CHECK_CKI_WX=m(ne),n.CHECK_SUBMIT_ONCE=m(ae),n.CHECK_FORM_START=m(re),n.FORM_START_FILLING=m(ie),n.FORM_START_FILLING_FIN=m(oe),n.CHECK_SOUL=m(se),n.CHECK_SOUL_FIN=m(le),n._GEN_QR_CODE=l("qrCode")),ce=n._GEN_QR_CODE_SUCCEED=ue+c,de=n._GEN_QR_CODE_FAILED=ue+d,fe=n._GEN_CAPTCHA=l("captcha"),me=n._GEN_CAPTCHA_SUCCEED=fe+c,pe=n._GEN_CAPTCHA_FAILED=fe+d,he=n._CHECK_CAPTCHA=l("check_captcha"),ge=n._CHECK_CAPTCHA_SUCCEED=he+c,_e=n._CHECK_CAPTCHA_FAILED=he+d,ve=n._CHECK_SUBMIT_CAPTCHA=l("check&submit_captcha"),be=n._CHECK_SUBMIT_CAPTCHA_SUCCEED=ve+c,ye=n._CHECK_SUBMIT_CAPTCHA_FAILED=ve+d,Ee=(n.GEN_QR_CODE=m(ue),n.GEN_QR_CODE_SUCCEED=m(ce),n.GEN_QR_CODE_FAILED=m(de),n.GEN_CAPTCHA=m(fe),n.GEN_CAPTCHA_SUCCEED=m(me),n.GEN_CAPTCHA_FAILED=m(pe),n.CHECK_CAPTCHA=m(he),n.CHECK_CAPTCHA_SUCCEED=m(ge),n.CHECK_CAPTCHA_FAILED=m(_e),n.CHECK_SUBMIT_CAPTCHA=m(ve),n.CHECK_SUBMIT_CAPTCHA_SUCCEED=m(be),n.CHECK_SUBMIT_CAPTCHA_FAILED=m(ye),n._WX_AUTH=l("wx_auth")),Ce=n._WX_AUTH_SUCCEED=Ee+c,Te=n._WX_AUTH_FAILED=Ee+d,Se=(n.WX_AUTH=m(Ee),n.WX_AUTH_SUCCEED=m(Ce),n.WX_AUTH_FAILED=m(Te),n._MBRM_CHANGE_AUTH_TYPE=l("mbrm_c_aType")),Me=n._MBRM_CHANGE_AUTH_CONTENT=l("mbrm_c_aContent"),Ie=n._MBRM_BLUR_ACC=l("mbrm_blur_acc"),Ne=n._MRBM_VALID_ACC=l("mbrm_valid_acc"),Ae=n._MBRM_GET_AUTH_CODE=l("mbrm_get_ac"),xe=n._MBRM_GET_AUTH_CODE_SUCCEED=Ae+c,ke=n._MBRM_GET_AUTH_CODE_FAILED=Ae+d,De=n._MBRM_CHECK_MEMBER=l("mbrm_check_member"),Oe=n._MBRM_CHECK_MEMBER_SUCCEED=De+c,Pe=n._MBRM_CHECK_MEMBER_FAILED=De+d,Le=n._MBRM_AUTH_MEMBER=l("mbrm_auth"),we=n._MBRM_AUTH_MEMBER_SUCCEED=Le+c,Re=n._MBRM_AUTH_MEMBER_FAILED=Le+d,Fe=(n.MBRM_CHANGE_AUTH_TYPE=m(Se),n.MBRM_CHANGE_AUTH_CONTENT=m(Me),n.MBRM_BLUR_ACC=m(Ie),n.MBRM_VALID_ACC=m(Ne),n.MBRM_GET_AUTH_CODE=m(Ae),n.MBRM_GET_AUTH_CODE_SUCCEED=m(xe),n.MBRM_GET_AUTH_CODE_FAILED=m(ke),n.MBRM_CHECK_MEMBER=m(De),n.MBRM_CHECK_MEMBER_SUCCEED=m(Oe),n.MBRM_CHECK_MEMBER_FAILED=m(Pe),n.MBRM_AUTH_MEMBER=m(Le),n.MBRM_AUTH_MEMBER_SUCCEED=m(we),n.MBRM_AUTH_MEMBER_FAILED=m(Re),n._SET_VALUE=l("set_value")),Ue=n._BLUR_INPUT=l("blur_input"),Be=n._BLUR_NUMBER=l("blur_num"),He=n._SELECT_OPT=l("set_opt"),je=n._SET_OPT_EXT_VALUE=l("set_opt_content"),Ge=n._CHECK_COMMODITY_LIMIT=l("check_commodity_limit"),We=n._CHECK_INDEPENDENT_DATA_FAILED=l("check_independent_data_failed"),Ve=n._CHECK_OPTION_QUOTA_FAILED=l("check_opt_quota_failed"),ze=n._CHECK_COMMODITY_QUOTA_FAILED=l("check_commodity_quota_failed"),Ke=n._SET_RATE=l("set_rate"),qe=n._SET_RANK=l("set_rank"),Ye=n._SET_NEXT_RANK=l("set_next_rank"),Qe=n._REMOVE_RANK=l("remove_rank"),Je=n._ADD_MULTI_INPUT_ITEM=l("add_mInput"),Xe=n._REMOVE_MULTI_INPUT_ITEM=l("remove_mInput"),$e=n._BLUR_MULTI_INPUT=l("blur_mInput"),Ze=n._SET_MULTI_INPUT_VALUE=l("set_v_mInput"),et=n._ADD_GROUP_ITEM=l("add_grItem"),tt=n._REMOVE_GROUP_ITEM=l("remove_grItem"),nt=n._BLUR_GROUP_INPUT=l("blur_grInput"),at=n._SET_GROUP_VALUE=l("set_v_grValue"),rt=n._SET_TABULAR_VALUE=l("set_v_tabular"),it=n._SET_AUTH_MOBILE_VALUE=l("set_v_authMb"),ot=n._BLUR_AUTH_MOBILE=l("blur_authMb"),st=n._REQUIRE_AUTH_MSG=l("require_authMb"),lt=n._REQUIRE_AUTH_MSG_SUCCEED=st+c,ut=n._REQUIRE_AUTH_MSG_FAILED=st+d,ct=n._CLEAN_REQUIRE_AUTH_MSG_FAILED_ERR=l("r_authMb_f_clean"),dt=n._SET_AUTH_CODE_VALUE=l("set_v_authCode"),ft=n._CHECK_AUTH_CODE=l("check_authCode"),mt=n._CHECK_AUTH_CODE_SUCCEED=ft+c,pt=n._CHECK_AUTH_CODE_FAILED=ft+d,ht=n._SET_FILE=l("set_file"),gt=n._SET_FILE_DONE=ht+f,_t=n._REMOVE_FILE=l("remove_file"),vt=n._SET_DATE_TIME_VALUE=l("set_dateTime"),bt=n._BLUR_DATE_TIME_VALUE=l("blur_dateTime"),yt=n._SET_COMMODITY_VALUE=l("set_v_commodity"),Et=n._SET_LOCATION_VALUE=l("set_v_location"),Ct=n._SET_LOCATION_CONTENT_STRUCTURE=l("set_location_content_structure"),Tt=n._SET_MULTILEVEL_VALUE=l("set_v_multiLevel"),St=n._SET_CTCF_CNID_VALUE=l("set_v_CTCF_cnID"),Mt=n._BLUR_CTCF_CNID_VALUE=l("blur_CTCF_cnID"),It=n._CHECK_CNID_LOCATION=l("check_cnID_location"),Nt=n._CHECK_CNID_LOCATION_SUCCEED=It+c,At=n._CHECK_CNID_LOCATION_FAILED=It+d,xt=n._SET_CTCF_CNVEHICLE_VALUE=l("set_v_CTCF_cnVehicle"),kt=n._BLUR_CTCF_CNVEHICLE_VALUE=l("blur_CTCF_cnVehicle"),Dt=n._SET_SIGN_VALUE=l("set_sign_value"),Ot=n._SET_CTCF_CURRENCY=l("set_CTCF_currency"),Pt=n._BLUR_CTCF_CURRENCY=l("blur_CTCF_currency");n.SET_VALUE=m(Fe),n.BLUR_INPUT=m(Ue),n.BLUR_NUMBER=m(Be),n.SELECT_OPT=m(He),n.SET_OPT_EXT_VALUE=m(je),n.CHECK_COMMODITY_LIMIT=m(Ge),n.CHECK_INDEPENDENT_DATA_FAILED=m(We),n.CHECK_OPTION_QUOTA_FAILED=m(Ve),n.CHECK_COMMODITY_QUOTA_FAILED=m(ze),n.SET_RATE=m(Ke),n.SET_RANK=m(qe),n.SET_NEXT_RANK=m(Ye),n.REMOVE_RANK=m(Qe),n.ADD_MULTI_INPUT_ITEM=m(Je),n.REMOVE_MULTI_INPUT_ITEM=m(Xe),n.BLUR_MULTI_INPUT=m($e),n.SET_MULTI_INPUT_VALUE=m(Ze),n.ADD_GROUP_ITEM=m(et),n.REMOVE_GROUP_ITEM=m(tt),n.BLUR_GROUP_INPUT=m(nt),n.SET_GROUP_VALUE=m(at),n.SET_TABULAR_VALUE=m(rt),n.SET_AUTH_MOBILE_VALUE=m(it),n.BLUR_AUTH_MOBILE=m(ot),n.REQUIRE_AUTH_MESSAGE=m(st),n.REQUIRE_AUTH_MESSAGE_SUCCEED=m(lt),n.REQUIRE_AUTH_MESSAGE_FAILED=m(ut),n.CLEAN_REQUIRE_AUTH_FAIL_ERR=m(ct),n.SET_AUTH_CODE_VALUE=m(dt),n.CHECK_AUTH_CODE=m(ft),n.CHECK_AUTH_CODE_SUCCEED=m(mt),n.CHECK_AUTH_CODE_FAILED=m(pt),n.SET_FILE=m(ht),n.SET_FILE_DONE=m(gt),n.REMOVE_FILE=m(_t),n.SET_DATE_TIME_VALUE=m(vt),n.BLUR_DATE_TIME_VALUE=m(bt),n.SET_COMMODITY_VALUE=m(yt),n.SET_LOCATION_VALUE=m(Et),n.SET_LOCATION_CONTENT_STRUCTURE=m(Ct),n.SET_MULTILEVEL_VALUE=m(Tt),n.SET_SIGN_VALUE=m(Dt),n.SET_CTCF_CNID_VALUE=m(St),n.BLUR_CTCF_CNID_VALUE=m(Mt),n.CHECK_CNID_LOCATION=m(It),n.CHECK_CNID_LOCATION_SUCCEED=m(Nt),n.CHECK_CNID_LOCATION_FAILED=m(At),n.SET_CTCF_CNVEHICLE_VALUE=m(xt),n.BLUR_CTCF_CNVEHICLE_VALUE=m(kt),n.SET_CTCF_CURRENCY=m(Ot),n.BLUR_CTCF_CURRENCY=m(Pt)},function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.combineProcessor=n.dispatchAll=n.createStore=n.handleAction=n.createAction=void 0;var r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},i=a(40),o=a(41),s=function(t){return t};n.createAction=function(t){return function(n){for(var a=arguments.length,r=Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];var o=t.dispatch,l=t.createAction||s;return o(l(n.apply(void 0,r)))}},n.handleAction=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=t;return n&&(a=r({},a,{category:n})),a};n.createStore=i.createStore,n.dispatchAll=i.dispatchAll,n.combineProcessor=o.combineProcessor},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.createStore=n.dispatchAll=void 0;var i=a(41),o=r(i),s=a(42),l=r(s),u=a(6),c=[],d=(n.dispatchAll=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];c.forEach(function(t){return t.apply(void 0,n)})},function(t,n){var a=t.indexOf(n);a>-1&&t.splice(a,1)}),f=function(t,n){var a=t.indexOf(n);a===-1&&t.push(n)},m=(0,l.default)();n.createStore=function(t,n,a){var r=(0,u.assign)({},{LEGAL_CATEGORIES:[]},a),i=function(t){return function(t){return function(n){var a=n.category,i=r.LEGAL_CATEGORIES,o=!0;if(i&&i.length>0&&(o=(0,u.isArray)(a)?(0,u.intersection)(i,a).length>1:i.indexOf(a)>-1),o)return t(n)}}},l=(0,o.default)(n,t,[i,m]);return f(c,l.dispatch),l.runSaga=m.run,l.close=function(){d(c,l.dispatch),l.dispatch(s.END)},l}},function(t,n,a){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,a=Array(t.length);n<t.length;n++)a[n]=t[n];return a}return Array.from(t)}function i(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t,o=n,s=a?[].concat(a):null,u=[],d=u,f=!1;if(s)return c(i,s)(t,n);var m=function(){d===u&&(d=u.slice())},p=function(t){if(!(0,l.isFunction)(t))throw new Error("INVALID listener",t);var n=!0;return m(),d.push(t),function(){if(n){n=!1,m();var a=d.indexOf(t);d.splice(a,1)}}},h=function(){return o},g=function(t){if(!(0,l.isPlainObject)(t))throw new Error("[ActionErr]");if("undefined"==typeof t.type)throw new Error("[ActionTypeErr]");if(f)throw new Error("[DispatchingErr]");try{f=!0,o=r(o,t)}finally{f=!1}for(var n=u=d,a=0;a<n.length;a++)n[a](t);return t};return g({type:"_INIT_"}),{dispatch:g,addChangeListener:p,getState:h}}function o(t){var n=(0,l.pickBy)(t,l.isFunction),a=Object.keys(n);return function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],i=!1,o={},s=0;s<a.length;s++){var u=a[s],c=n[u],d=t[u],f=c(d,r);if("undefined"==typeof f)throw new Error("[PErr]"+JSON.stringify(r));o[u]=f,i=i||f!==d}return i?(0,l.assign)({},t,o):t}}Object.defineProperty(n,"__esModule",{value:!0}),n.combineProcessor=void 0;var s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},l=a(6),u=function(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return 0===n.length?function(t){return t}:1===n.length?n[0]:(0,l.reduce)(n,function(t,n){return function(){return t(n.apply(void 0,arguments))}})},c=function(t,n){return function(a,i){var o=t(a,i),l=function(){throw new Error("FAIL ENHANCE store & processor")},c={getState:o.getState,dispatch:function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return l.apply(void 0,[t].concat(a))}};return n=n.map(function(t){return t(c)}),l=u.apply(void 0,r(n))(o.dispatch),s({},o,{dispatch:l})}};n.default=i,n.combineProcessor=o},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var n=0,a=Array(t.length);n<t.length;n++)a[n]=t[n];return a}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.cancelled=n.cancel=n.delay=n.get=n.putResolve=n.put=n.takeEvery=n.take=n.fork=n.call=n.all=n.END=void 0;var o=a(43),s=r(o),l=a(44),u=a(51),c=function(t,n){for(var a=arguments.length,r=Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];return(0,u.fork)(regeneratorRuntime.mark(function a(){var o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,(0,u.take)(t);case 3:return o=a.sent,a.next=6,u.fork.apply(void 0,[n].concat(i(r.concat(o))));case 6:a.next=0;break;case 8:case"end":return a.stop()}},a,this)}))};n.default=s.default,n.END=l.END,n.all=u.all,n.call=u.call,n.fork=u.fork,n.take=u.take,n.takeEvery=c,n.put=u.put,n.putResolve=u.putResolve,n.get=u.get,n.delay=u.delay,n.cancel=u.cancel,n.cancelled=u.cancelled},function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=a(44),i=a(47),o=(0,r.stdChannel)(),s=function(){var t=void 0,n=function(n){var a=n.getState,r=n.dispatch;return t=i.runSaga.bind(null,{getState:a,dispatch:r,channel:o}),function(t){return function(n){var a=t(n);return o.put(n),a}}};return n.run=function(){t.apply(void 0,arguments)},n};n.default=s,t.exports=n["default"]},function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.stdChannel=n.isEnd=n.END=void 0;var r=a(45),i=a(46),o=a(6),s=n.END={type:r.CHANNEL_END},l=n.isEnd=function(t){return t&&t.type===r.CHANNEL_END},u=function(){var t=!1,n=[],a=n,i=function(){t=!0;var r=n=a;a=[],r.forEach(function(t){t(s)})},u=function(){a===n&&(a=n.slice())};return{multiChannel:!0,put:function(o){if(!t){if(l(o))return void i();for(var s=n=a,u=0,c=s.length;u<c;u++){var d=s[u];d[r.MATCH](o)&&(d.cancel(),d(o))}}},take:function(n,i){return t?void n(s):(n[r.MATCH]=i,u(),n.cancel=(0,o.once)(function(){u();var t=a.indexOf(n);t>-1&&a.splice(t,1)}),void a.push(n))},close:i}};n.stdChannel=function(){var t=u(),n=t.put;return t.put=function(t){return t[r.SAGA_ACTION]?void n(t):void(0,i.asap)(function(){return n(t)})},t}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=function(t){return"@MGX_SAGA/"+t};n.CHANNEL_END=a("END"),n.SIGNAL=a("PROC-IO"),n.MATCH=a("MATCH"),n.CANCEL=a("CANCEL"),n.SAGA_ACTION=a("SAGA_ACTION"),n.SAGA_LOCATION=a("SAGA_LOCATION"),n.TASK=a("TASK"),n.TASK_CANCEL=a("TASK_CANCEL"),n.TERMINATE=a("TERMINATE"),n.SELF_CANCELLATION=a("SELF_CANCELLATION")},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=[],r=0,i=function(){r++},o=function(){r--},s=function(t){try{i(),t()}finally{o()}},l=function(){o();for(var t=void 0;!r&&void 0!==(t=a.shift());)s(t)};n.asap=function(t){a.push(t),r||(i(),l())},n.immediately=function(t){try{return i(),t()}finally{l()}}},function(t,n,a){"use strict";function r(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a]);return n.default=t,n}function i(t){return t&&t.__esModule?t:{default:t}}function o(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function s(t){if(Array.isArray(t)){for(var n=0,a=Array(t.length);n<t.length;n++)a[n]=t[n];return a}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.runSaga=n.taskProcessor=void 0;var l=a(46),u=a(6),c=a(44),d=a(48),f=a(49),m=a(45),p=a(50),h=i(p),g=a(52),_=r(g),v=function(t,n,a,r){function i(){g===f.RUNNING&&(g=f.CANCELLED,C.cancelAll(),l(m.TASK_CANCEL,!1))}function l(n,r){if(r){if(g=f.ABORTED,_.push({meta:a,cancelledTasks:E}),T.isRoot){var i=_.toString();_.clear(),t.onError(n,{sagaStack:i})}b=n,y&&y.reject(n)}else n===m.TASK_CANCEL?g=f.CANCELLED:g===f.CANCELLED&&(g=f.DONE),v=n,y&&y.resolve(n);T.cont(n,r)}function c(){return y?y.promise:(y=(0,d.deferred)(),g===f.ABORTED?y.reject(b):g!==f.RUNNING&&y.resolve(v),y.promise)}var p,h=arguments.length>4&&void 0!==arguments[4]?arguments[4]:u.noop,g=f.RUNNING,v=void 0,b=void 0,y=null,E=[],C=(0,d.forkQueue)(n,function(){E.push.apply(E,s(C.getTasks().map(function(t){return t.meta.name})))},l),T=(p={},o(p,m.TASK,!0),o(p,"meta",a),o(p,"isRoot",r),o(p,"cont",h),o(p,"queue",C),o(p,"end",l),o(p,"cancel",i),o(p,"toPromise",c),o(p,"isRunning",function(){return g===f.RUNNING}),o(p,"isCancelled",function(){return g===f.CANCELLED||g===f.RUNNING&&n.status===f.CANCELLED}),o(p,"isAborted",function(){return g===f.ABORTED}),o(p,"result",function(){return v}),o(p,"error",function(){return b}),p);return T},b=n.taskProcessor=function t(n,a,r,i,o){function s(t,n){try{var r=void 0;n?(r=a.throw(t),_.clear()):t===m.TASK_CANCEL?(p.status=f.CANCELLED,s.cancel(),r=(0,u.isFunction)(a.return)?a.return(m.TASK_CANCEL):{done:!0,value:m.TASK_CANCEL}):r=t===m.TERMINATE?(0,u.isFunction)(a.return)?a.return():{done:!0}:a.next(t),r.done?(p.status!==f.CANCELLED&&(p.status=f.DONE),p.cont(r.value)):l(r.value,s)}catch(t){if(p.status===f.CANCELLED)throw t;console.error(t),p.status=f.ABORTED,p.cont(t,!0)}}function l(t,n){function a(a,i){r||(r=!0,n.cancel=u.noop,i&&_.setCrashedEffect(t),n(a,i))}var r=void 0;a.cancel=u.noop,n.cancel=function(){r||(r=!0,a.cancel(),a.cancel=u.noop)},c(t,a)}function c(a,i){if((0,d.isPromise)(a))(0,d.resolvePromise)(a,i);else if((0,d.isIterator)(a))t(n,a,r,!1,i);else if(a&&a[m.SIGNAL]){var o=h.default[a.type];o(n,a.payload,i,b)}else i(a)}s.cancel=u.noop;var p={status:f.RUNNING,meta:r,cancel:function(){p.status===f.RUNNING&&(p.status=f.CANCELLED,s(m.TASK_CANCEL))}},g=v(n,p,r,i,o),b={task:g,digestEffect:l};return o&&(o.cancel=g.cancel),s(),g},y=function(t,n){var a=n.sagaStack;console.error(a)};n.runSaga=function(t,n){for(var a=arguments.length,r=Array(a>2?a-2:0),i=2;i<a;i++)r[i-2]=arguments[i];var o=t.channel,s=void 0===o?(0,c.stdChannel)():o,u=t.dispatch,f=t.getState,m=n.apply(void 0,r),p={channel:s,dispatch:(0,d.wrapSagaDispatch)(u),getState:f,onError:y};return(0,l.immediately)(function(){return b(p,m,(0,d.getMetaInfo)(n),!0,void 0)})}},function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.forkQueue=n.resolvePromise=n.isPromise=n.deferred=n.isIterator=n.getMetaInfo=n.wrapSagaDispatch=void 0;var r=a(45),i=a(6),o=(n.wrapSagaDispatch=function(t){return function(n){return n[r.SAGA_ACTION]=!0,t(n)}},n.getMetaInfo=function(t){return{name:t.name||"anonymous"}},n.isIterator=function(t){return t&&(0,i.isFunction)(t.next)&&(0,i.isFunction)(t.throw)},n.deferred=function(){var t={};return t.promise=new Promise(function(n,a){t.resolve=n,t.reject=a}),t},n.isPromise=function(t){return t&&(0,i.isFunction)(t.then)},n.resolvePromise=function(t,n){var a=t[r.CANCEL];(0,i.isFunction)(a)&&(n.cancel=a),t.then(n,function(t){n(t,!0)})},function(t,n){var a=t.indexOf(n);a>-1&&t.splice(a,1)});n.forkQueue=function(t,n,a){function r(n){u.push(n),n.cont=function(r,l){d||(o(u,n),n.cont=i.noop,l?s(r):(n===t&&(c=r),u.length||(d=!0,a(c))))}}function s(t){n(),l(),a(t,!0)}function l(){d||(d=!0,u.forEach(function(t){t.cont=i.noop,t.cancel()}),u=[])}var u=[],c=void 0,d=!1;r(t);var f=function(){return u};return{addTask:r,cancelAll:l,abort:s,getTasks:f}}},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.RUNNING=0,n.CANCELLED=1,n.ABORTED=2,n.DONE=3},function(t,n,a){"use strict";function r(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function i(t){if(Array.isArray(t)){for(var n=0,a=Array(t.length);n<t.length;n++)a[n]=t[n];return a}return Array.from(t)}function o(t,n){return t&&t.isSagaIterator?{name:t.meta.name}:(0,h.getMetaInfo)(n)}function s(t){var n=t.context,a=t.fn,r=t.args;try{var i=a.apply(n,r);if((0,h.isIterator)(i))return i;var o=!1,s=function(t){return o?{value:t,done:!0}:(o=!0,{value:i,done:!(0,h.isPromise)(i)})};return E(s)}catch(t){return E(function(){throw t})}}function l(t){t.isRunning()&&t.cancel()}Object.defineProperty(n,"__esModule",{value:!0});var u,c=a(51),d=a(45),f=a(44),m=a(6),p=a(46),h=a(48),g=a(47),_=function(t){
return"*"===t?function(){return!0}:(0,m.isFunction)(t)?function(n){return t(n)}:(0,m.isString)(t)?function(n){return n.type===String(t)}:(0,m.isArray)(t)?function(n){return t.indexOf(n.type)>-1}:void 0},v=function(t,n,a){var r=n.channel,i=void 0===r?t.channel:r,o=n.pattern,s=function(t){return t instanceof Error?void a(t,!0):(0,f.isEnd)(t)?void a(d.TERMINATE):void a(t)};try{i.take(s,void 0!==o?_(o):null)}catch(t){return void a(t,!0)}a.cancel=s.cancel},b=function(t,n,a){var r=n.action,i=n.resolve;(0,p.asap)(function(){var n=void 0;try{n=t.dispatch(r)}catch(t){return void a(t,!0)}i&&(0,h.isPromise)(n)?(0,h.resolvePromise)(n,a):a(n)})},y=function(t,n,a){var r=n.context,o=n.fn,s=n.args;try{var l=null;if(l=r?o.apply(r,s):o.apply(void 0,i(s)),(0,h.isPromise)(l))return void(0,h.resolvePromise)(l,a);if((0,h.isIterator)(l))return void(0,g.taskProcessor)(t,l,(0,h.getMetaInfo)(o),!1,a);a(l)}catch(t){a(t,!0)}},E=function(t){var n={meta:{name:"iterator"},next:t,throw:function(t){throw t},return:function(t){return{value:t,done:!0}},isSagaIterator:!0};return"undefined"!=typeof Symbol&&(n[Symbol.iterator]=function(){return n}),n},C=function(t,n,a,r){var i=n.context,l=n.fn,u=n.args,c=n.detached,d=r.task,f=s({context:i,fn:l,args:u}),m=o(f,l);(0,p.immediately)(function(){var n=(0,g.taskProcessor)(t,f,m,c,void 0);c?a(n):n.isRunning()?(d.queue.addTask(n),a(n)):n.isAborted()?d.queue.abort(n.error()):a(n)})},T=function(t,n,a){var r=n.selector,o=n.args;try{var s=r.apply(void 0,[t.getState()].concat(i(o)));a(s)}catch(t){a(t,!0)}},S=function(t,n,a,r){var i=r.task;n===d.SELF_CANCELLATION?l(i):(0,m.isArray)(n)?n.forEach(l):l(n),a()},M=function(t,n,a,r){var i=r.task;a(i.isCancelled())},I=function(t,n){var a=Object.keys(t),r=a.length,i=0,o=void 0,s=(0,m.isArray)(t)?[]:{},l={},u=function(){r===i&&(o=!0,n(s))};return a.forEach(function(t){var r=function(a,r){o||(r||a===d.TERMINATE||a===d.TASK_CANCEL?(n.cancel&&n.cancel(),n(a,r)):(s[t]=a,i++,u()))};r.cancel=function(){o||(o=!0,a.forEach(function(t){return l[t].cancel()}))},l[t]=r}),l},N=function(t,n,a,r){var i=r.digestEffect,o=Object.keys(n);if(0===o.length)return void a((0,m.isArray)(n)?[]:{});var s=I(n,a);o.forEach(function(t){i(n[t],s[t])})};n.default=(u={},r(u,c.EFFECT.TAKE,v),r(u,c.EFFECT.PUT,b),r(u,c.EFFECT.CALL,y),r(u,c.EFFECT.FORK,C),r(u,c.EFFECT.SELECT,T),r(u,c.EFFECT.CANCEL,S),r(u,c.EFFECT.CANCELLED,M),r(u,c.EFFECT.ALL,N),u),t.exports=n["default"]},function(t,n,a){"use strict";function r(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}Object.defineProperty(n,"__esModule",{value:!0}),n.delay=n.get=n.cancelled=n.cancel=n.fork=n.call=n.all=n.putResolve=n.put=n.take=n.EFFECT=void 0;var i=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=a(45),s=a(6),l=n.EFFECT={PUT:"PUT",TAKE:"TAKE",ALL:"ALL",RACE:"RACE",CALL:"CALL",FORK:"FORK",CANCEL:"CANCEL",CANCELLED:"CANCELLED",SELECT:"GET"},u=function(t,n){var a;return a={},r(a,o.SIGNAL,!0),r(a,"combinator",!1),r(a,"type",t),r(a,"payload",n),a},c=(n.take=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"*";return u(l.TAKE,{pattern:t})},n.put=function(t){return u(l.PUT,{action:t})}),d=(n.putResolve=function(){var t=c.apply(void 0,arguments);return t.payload.resolve=!0,t},n.all=function(t){var n=u(l.ALL,t);return n.combinator=!0,n},function(t,n){var a=null,r=void 0;if((0,s.isFunction)(t))r=t;else{if((0,s.isArray)(t)){var o=i(t,2);a=o[0],r=o[1]}else(0,s.isPlainObject)(t)&&(a=t.context,r=t.fn);a&&(0,s.isString)(r)&&(0,s.isFunction)(a[r])&&(r=a[r])}return{context:a,fn:r,args:n}}),f=n.call=function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return u(l.CALL,d(t,a))},m=(n.fork=function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];return u(l.FORK,d(t,a))},n.cancel=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.SELF_CANCELLATION;return u(l.CANCEL,t)},n.cancelled=function(){return u(l.CANCELLED,{})},function(t){return t}),p=(n.get=function(){for(var t=arguments.length,n=Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;return u(l.SELECT,{selector:r,args:n})},function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=void 0,r=new Promise(function(r){a=setTimeout(r,t,n)});return r[o.CANCEL]=function(){clearTimeout(a)},r});n.delay=f.bind(null,p)},function(t,n,a){"use strict";function r(t){if(Array.isArray(t)){for(var n=0,a=Array(t.length);n<t.length;n++)a[n]=t[n];return a}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.toString=n.setCrashedEffect=n.clear=n.push=void 0;var i=(a(45),null),o=[],s=(n.push=function(t){t.crashedEffect=i,o.push(t)},n.clear=function(){i=null,o.length=0},n.setCrashedEffect=function(t){i=t},function(t){var n=t.meta;return"fn ["+n.name+"]"}),l=function(t){var n,a=(n=[]).concat.apply(n,r(t.map(function(e){return e.cancelledTasks})));return a.length?["!!Tasks cancelled due to error:"].concat(r(a)).join("\n"):""},u=function(t){return"**["+t.type.toUpperCase()+"]["+(t.payload&&t.payload.action?t.payload.action.type:"--UNKNOWN--")+"]**"};n.toString=function(){var t=o[0],n=o.slice(1),a=t.crashedEffect?u(t.crashedEffect):null,i="ERROR occurred in task "+s(t)+(a?" \n when executing effect "+a:"");return[i,s(t)].concat(r(n.map(function(t){return"    > "+s(t)})),[l(o)]).join("\n")}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function o(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},l=a(19),u=r(l),c=a(22),d=r(c),f=a(23),m=r(f),p=u.default.createClass({displayName:"BaseTextBox",mixins:[m.default],getDefaultProps:function(){return this.touchEventStart=!1,{component:"input"}},getInitialState:function(){return{focus:!1,active:!1,hover:!1}},componentWillUnmount:function(){clearTimeout(this.touchActive),this.touchActive=null},handleMouseEnter:function(e){this.touchEventStart||(this.setState({hover:!0}),e.currentState=_.assign({},this.state,{hover:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e))},handleMouseLeave:function(e){this.touchEventStart||(this.setState({hover:!1,active:!1}),e.currentState=_.assign({},this.state,{hover:!1,active:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e))},handleMouseDown:function(e){this.touchEventStart||(this.setState({active:!0}),e.currentState=_.assign({},this.state,{active:!0}),this.props.onMouseDown&&this.props.onMouseDown(e))},handleMouseUp:function(e){return this.touchEventStart?void(this.touchEventStart=!1):(this.setState({active:!1}),e.currentState=_.assign({},this.state,{active:!1}),void(this.props.onMouseUp&&this.props.onMouseUp(e)))},handleTouchStart:function(e){var t=this;this.touchEventStart=!0,this.setState({hover:!0}),clearTimeout(this.touchActive),this.touchActive=setTimeout(function(){t.isMounted()&&t.setState({active:!0})},200),e.currentState=_.assign({},this.state,{active:!0,hover:!0}),this.props.onTouchStart&&this.props.onTouchStart(e)},handleTouchEnd:function(e){clearTimeout(this.touchActive),this.touchActive=null,this.setState({active:!1,hover:!1}),e.currentState=_.assign({},this.state,{active:!1,hover:!1}),this.props.onTouchEnd&&this.props.onTouchEnd(e)},handleFocus:function(e){this.setState({focus:!0}),e.currentState=this.state,this.props.onFocus&&this.props.onFocus(e)},handleBlur:function(e){this.setState({focus:!1}),e.currentState=this.state,this.props.onBlur&&this.props.onBlur(e);var t=this.props.deviceInfo,n=t.os,a=t.isWx;if(n.ios&&a){var r=void 0,i=void 0,o=1;i=setInterval(function(){r=document.documentElement.scrollTop||document.body.scrollTop,r-=o,window.scrollTo(0,Math.max(r,0)),clearInterval(i)},100)}},handlePlaceholderClick:function(e){e.preventDefault(),this.input.focus()},handlePlaceholderTouch:function(e){e.stopPropagation(),e.preventDefault(),this.input.focus()},getStyle:function(t){var n=this.state,a=n.hover,r=n.active,i=n.focus,o=this.props,s=o.disabled,l=o.inValid;if(t&&t.default){var u=t.default;return s&&t.disabled?u=_.assign({},u,t.disabled):l&&t.error?u=_.assign({},u,t.error):(t.hover&&a&&(u=_.assign({},u,t.hover)),t.focus&&i&&(u=_.assign({},u,t.hover,t.focus)),t.active&&r&&(u=_.assign({},u,t.active))),u}return t},inputRef:function(t){this.input=t},getInputRef:function(){return this.input},renderPrefix:function(){var t=this.props,n=t.icon,a=t.iconStyle,r=t.onRenderPrefix;return n?u.default.createElement("i",{key:"tbIcon",className:"iconfont fbi_icon",style:this.getStyle(a)},n):r?r(this.props):null},renderPlaceholder:function(){var t=this.props,n=t.value,a=t.placeholder,r=t.inputStyle;if((""===_.trim(n)||null==n)&&a){var i=_.omit(this.getStyle(r),"color","opacity");return u.default.createElement("span",{className:"fbi_placeholder",style:i,onMouseDown:this.handlePlaceholderClick,onTouchStart:this.handlePlaceholderTouch},a)}return null},render:function(){var t,n=this.props,a=n.className,r=n.style,l=(n.iconStyle,n.inputStyle),c=n.icon,f=(n.placeholder,n.component),m=(n.onMouseDown,n.onMouseUp,n.onTouchStart,n.onTouchEnd,n.onBlur,n.onFocus,n.onMouseEnter,n.onMouseLeave,n.valid,n.disabled),p=n.children,h=o(n,["className","style","iconStyle","inputStyle","icon","placeholder","component","onMouseDown","onMouseUp","onTouchStart","onTouchEnd","onBlur","onFocus","onMouseEnter","onMouseLeave","valid","disabled","children"]),g=this.state,_=g.hover,v=g.active,b=g.focus,y=!m,E="bb-input",C=f;return u.default.createElement("div",{className:(0,d.default)(a,(t={},i(t,E+"hover",_&&y),i(t,E+"active",v&&y),i(t,E+"focus",b&&y),i(t,E+"disabled",m),i(t,"is_focus",b&&y),i(t,"has-icon",c),t)),style:this.getStyle(r)},this.renderPrefix(),this.renderPlaceholder(),u.default.createElement(C,s({className:"fbi_input aria-content",tabIndex:0,ref:this.inputRef,type:"input",style:this.getStyle(l),autoComplete:"off",spellCheck:!1,disabled:m,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onTouchCancel:this.handleTouchEnd,onFocus:this.handleFocus,onBlur:this.handleBlur},h)),p)}});n.default=p,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(19),l=r(s),u=a(22),c=r(u),d=a(17),f=a(33),m=r(f),p=a(28),h=r(p),g=a(37),_=r(g),v=a(55),b=a(36),y=a(60),E=r(y),C=a(23),T=r(C),S=a(62),M=r(S),I=a(38),N=a(66),A=r(N),x=(0,h.default)((0,_.default)(m.default)),k=l.default.createClass({displayName:"IFPOffline",mixins:[T.default],handleClose:function(){var t=(0,d.getStore)();t.dispatch((0,I.IFP_CONFIRM)()),this.props.onClose&&this.props.onClose(!0)},render:function(){var t=this.props,n=t.bill,a=t.cashier,r=(0,d.getLang)(),i=null;return n&&n[v.BILL_TYPE.PAYMENT]&&(i=n[v.BILL_TYPE.PAYMENT]),l.default.createElement("div",{className:"pay_offline"},l.default.createElement("p",{className:"pay_guide"},l.default.createElement("i",{className:"iconfont pay_gIcon"},String.fromCharCode(58988)),l.default.createElement("span",null,r.cPayOfflineGuide)),l.default.createElement("div",{className:"pay_tradeInfo"},l.default.createElement("p",{className:"pay_orderNo"},l.default.createElement("span",null,r.cPayOrderNo),l.default.createElement("span",{className:"orderNo"},a.ordiNo)),l.default.createElement("p",{className:"pay_needPay"},l.default.createElement("span",null,r.cPayNeedPay),i?l.default.createElement(E.default,{className:"needPay",symbol:i.symbol,price:i.value}):null)),l.default.createElement("div",{className:"pay_operate"},l.default.createElement(b.BaseBtn,{className:"fbc_button sys_button",onClick:this.handleClose},r.cPayKnowIt)))}}),D=l.default.createClass({displayName:"IFPOnline",mixins:[T.default],componentDidMount:function(){var t=(0,d.getStore)();t.dispatch((0,I.IFP_CHECK)())},handleClose:function(e){this.props.onClose&&this.props.onClose(e)},handleForgoPayment:function(e){this.props.onCancel&&this.props.onCancel(e)},renderPaymentContent:function(){var t=this.props,n=t.cashier,a=t.type;return l.default.createElement(M.default,{type:a,onForgoPayment:this.handleForgoPayment,cashier:n})},render:function(){var t=this.props,n=t.bill,a=t.cashier,r=(0,d.getLang)(),i=null;return n&&n[v.BILL_TYPE.PAYMENT]&&(i=n[v.BILL_TYPE.PAYMENT]),l.default.createElement("div",{className:"pay_online"},l.default.createElement("div",{className:"pay_orderInfo"},l.default.createElement("p",{className:"pay_oNo"},l.default.createElement("span",{className:"title"},r.cPayOrderNo),l.default.createElement("span",{className:"orderNo"},a.ordiNo)),i?l.default.createElement("p",{className:"pay_oPrice"},l.default.createElement("span",{className:"title"},r.cPayNeedPay),l.default.createElement(E.default,{className:"price",symbol:i.symbol,price:i.value})):null),this.renderPaymentContent(),l.default.createElement("p",{className:"pay_operate"},l.default.createElement(b.BaseBtn,{className:"pay_oOtherMode",onClick:this.handleForgoPayment},r.cPayChooseOtherMethod),l.default.createElement(b.BaseBtn,{className:"pay_oAlterOrder",onClick:this.handleForgoPayment},r.cPayAlterOrder)))}}),O=l.default.createClass({displayName:"PopInFormPay",getInitialState:function(){return this.store=(0,d.getStore)(),o({bill:(0,d.getBill)(),type:null,cashier:null},this.store.getState().payment)},shouldComponentUpdate:function(t,n){return t.visible!==this.props.visible||(n!==t?T.default.shouldComponentUpdate.call(this,t,n):void 0)},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()},handleStateChange:function(t){this.setState(o({bill:(0,d.getBill)()},this.store.getState().payment))},handleClose:function(e){this.props.onClose&&this.props.onClose(e)},handleCancel:function(e){this.store.dispatch((0,I.IFP_CANCEL)()),this.handleClose(e)},render:function(){var t=this.props,n=t.className,a=(t.onClose,i(t,["className","onClose"])),r=this.state,s=r.type,u=r.cashier,f=r.paymentRes;if(!u)return null;var m=(0,d.getLang)(),p=o({},this.state,{onClose:this.handleClose,onCancel:this.handleCancel}),h=null,g=null,_=null;return f&&f.isFin?(h=A.default,_="pp_mms"):4===s?(g=m.cPayOfflineTitle,h=k):(g=m.cPayOnlineTitle,h=D),l.default.createElement(x,o({className:(0,c.default)("cp-popwin","sys-popwin",n,_)},a),l.default.createElement("div",{className:"cp-popBox ifp"},g?l.default.createElement("div",{className:"pop-header"},l.default.createElement("p",{className:"pop-title"},g)):null,h?l.default.createElement(h,p):null))}});n.default=O,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.MBRM_LOGIN=n.MBRM_AUTH=n.BILL_TYPE=n.SUPPORT_PAYMENT_METHOD=n.getComponentType=n.isFillingComponent=n.COMPONENT_NUM=n.OPTION_NUM=n.TABULAR_CHECKBOX=n.TABULAR_RADIO=n.TABULAR_RATE=n.TABULAR_TEXT=n.L_SQUEEZEBOX=n.L_NORMAL=n.MODE_IFRAME=n.MODE_FINISH_SUBMIT=n.MODE_IRO=n.MODE_READONLY=n.MODE_PREVIEW=n.MODE_FILLING=n.MODE_UNKNOW=n.caniuse_sticky=n.getLang=void 0;var i=a(56),o=a(57),s=a(58),l=r(s),u=n.getLang=function(){return l.default.lang},c=(n.caniuse_sticky=function(){var t=["","-webkit-","-ms-","-moz-","-o-"],n=t.length,a=document.createElement("div");if(a&&a.style)try{for(var r=0;r<n;r++)if(a.style.position=t[r]+"sticky",""!==a.style.position)return!0}catch(t){}return!1}(),n.MODE_UNKNOW=-1,n.MODE_FILLING=1,n.MODE_PREVIEW=2,n.MODE_READONLY=3,n.MODE_IRO=4,n.MODE_FINISH_SUBMIT=5,n.MODE_IFRAME=6,n.L_NORMAL="normal",n.L_SQUEEZEBOX="squeezeBox",n.TABULAR_TEXT=3,n.TABULAR_RATE=4,n.TABULAR_RADIO=1,n.TABULAR_CHECKBOX=2,{1:i.serialNumberGenerator.alphaNumberUpper,2:i.serialNumberGenerator.alphaNumberLower,3:i.serialNumberGenerator.numberSimple,4:i.serialNumberGenerator.romanNumberUpper}),d=(n.OPTION_NUM=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=c[n];return a?a(t):null},{1:i.serialNumberGenerator.numberSimple,2:i.serialNumberGenerator.numberRightBrackets,3:i.serialNumberGenerator.numberAllBrackets,4:i.serialNumberGenerator.numberAllMiddleBrackets,5:i.serialNumberGenerator.numberWithBar,6:i.serialNumberGenerator.cnNumberSimple,7:i.serialNumberGenerator.cnNumberAllBrackets,8:i.serialNumberGenerator.romanNumberUpper,9:i.serialNumberGenerator.romanNumberLower,10:i.serialNumberGenerator.numberWithQ}),f=(n.COMPONENT_NUM=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=d[n];return a?a(t):null},n.isFillingComponent=function(t){var n=t.isCustomField,a=t.type;return o.FORM_FILLING_COMPONENT_LIST.indexOf(a)>-1||n},n.getComponentType=function(t){var n=t.type;return t.isCustomField&&(n="ctcf_"+n),n},n.SUPPORT_PAYMENT_METHOD=function(){var t=u(),n=t.gSupportPayMode;return[{id:1,type:"alipay",name:n[0]},{id:2,type:"wechatpay",name:n[1]},{id:4,type:"offline",name:n[3]}]},n.BILL_TYPE={PAYMENT:1,MBRM_BALANCE_DEDUCTION:2},1),m=2,p=3,h=4,g=5,_=1,v=2;n.MBRM_AUTH={AT_RANDOM_CODE:_,AT_PASSWORD:v},n.MBRM_LOGIN={UNI_MOBILE_AUTH:f,UNI_MOBILE_AUTH_ALLOW_PASSWORD:m,UNI_EMAIL_AUTH:p,UNI_EMAIL_AUTH_ALLOW_PASSWORD:h,UNI_ID_PASSWORD:g}},function(t,n){"use strict";function a(t){t=""+t;var n=["〇","一","二","三","四","五","六","七","八","九"];return t.split("").map(function(t){return n[t]}).join("")}function r(t){for(var n="",a=["ↂ","Mↂ","ↁ","Mↁ","M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],r=[1e4,9e3,5e3,4e3,1e3,900,500,400,100,90,50,40,10,9,5,4,1],i=0;0!=t;++i)for(;t>=r[i];)t-=r[i],n+=a[i];return n}function i(t){var n="",a=Math.floor(Math.round(10*t/27)/10),r=t-26*a;return a>0&&(n=String.fromCharCode(a+64)),r>0&&(n+=String.fromCharCode(r+64)),n}Object.defineProperty(n,"__esModule",{value:!0});n.serialNumberGenerator={numberSimple:function(t){return t+". "},numberRightBrackets:function(t){return t+") "},numberAllBrackets:function(t){return"("+t+") "},numberAllMiddleBrackets:function(t){return"["+t+"] "},numberWithBar:function(t){return"-"+t+"- "},cnNumberSimple:function(t){return a(t)+"、"},cnNumberAllBrackets:function(t){return"（"+a(t)+"）"},romanNumberLower:function(t){return r(t).toLowerCase()+". "},romanNumberUpper:function(t){return r(t).toUpperCase()+". "},alphaNumberLower:function(t){return i(t).toLowerCase()+". "},alphaNumberUpper:function(t){return" "+i(t).toUpperCase()+" . "},numberWithQ:function(t){return"Q"+t+".  "}}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.FORM_SETTINGS_BTN_ICON=n.FIELD_INFO_MAPPING=n.invert_propsMapping=n.propsMapping=n.FORM_COMPONENTS_NAME_DETAILS=n.DT_CONTACT_MAPPING=n.METAID_COMPONENT_MAPPING=n.COMPONENT_METAID_MAPPING=n.FORM_HEADER_LAYOUT_MAPPING=n.FORM_CKI_OPEN_COMPONENT_LIST=n.FORM_CKI_COMPONENT_LIST=n.FORM_CAN_JUMP_COMPONENT_LIST=n.FORM_STATISTICS_COMPONENT_LIST=n.FORM_CONTACT_INFO_COMPONENT_LIST=n.FORM_EVALUATION_COMPONENT_LIST=n.FORM_LOGIC_COMPONENT_LIST=n.FORM_FILLING_COMPONENT_LIST=void 0;var i=a(6),o=r(i),s=(n.FORM_FILLING_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","attachment","rate","tabular","rank","currency","city","commodity","recording","picRadio","picCheckbox","picAttachment","signature","name","mobile","email","company","department","position","avatar","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],n.FORM_LOGIC_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","attachment","rate","tabular","rank","currency","city","commodity","button","signature","recording","picRadio","picCheckbox","picAttachment","staticPic","picCarousel","staticText","separator","authCode","staticMap","staticVideo","name","mobile","email","company","department","position","avatar","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],n.FORM_EVALUATION_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","attachment","rate","tabular","rank","currency","city","commodity","button","recording","picRadio","picCheckbox","picAttachment","staticPic","picCarousel","staticText","separator","authCode","staticMap","staticVideo","name","mobile","email","company","department","position","avatar","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],n.FORM_CONTACT_INFO_COMPONENT_LIST=["name","mobile","email","company","department","position","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],n.FORM_STATISTICS_COMPONENT_LIST=["radio","checkbox","dropDown","multiLevel","picRadio","picCheckbox","rate","number","currency","tabular","rank","gender","title","company","department","position"],n.FORM_CAN_JUMP_COMPONENT_LIST=["radio","dropDown","picRadio","gender","title","company","department","position"],n.FORM_CKI_COMPONENT_LIST=["name","mobile","email","tel","fax","company","wechat","qq","skype","messenger","whatsApp","line","viber","telegram","input"],n.FORM_CKI_OPEN_COMPONENT_LIST=["input","select","radio","checkbox","dropDown","multiLevel","dateTime_date","dateTime_time","dateTime_both","number","rate","tabular","rank","currency","city","picRadio","picCheckbox","name","mobile","email","company","department","position","title","gender","birthDate","location","address","website","tel","fax","remark","IM","wechat","qq","skype","whatsApp","messenger","viber","line","telegram","SNS","weibo","linkedIn","twitter","facebook","instagram","mkGooglePlus"],n.FORM_HEADER_LAYOUT_MAPPING=["NNN","LNN","CNN","RNN","LLN","LCN","LRN","CLN","CCN","CRN","RLN","RCN","RRN","LNL","CNL","RNL","LNC","CNC","RNC","LNR","CNR","RNR","LLL","CLL","RLL","LCL","CCL","RCL","LRL","CRL","RRL","LLR","CLR","RLR","LCR","CCR","RCR","LRR","CRR","RRR","LLC","LCC","LRC","CLC","CCC","CRC","RLC","RCC","RRC","LLLY","LCLY","LRLY","CLLY","CCLY","CRLY","RLLY","RCLY","RRLY","LLRY","LCRY","LRRY","CLRY","CCRY","CRRY","RLRY","RCRY","RRRY","NLN","NCN","NRN","NNL","NNC","NNR","NLL","NCL","NRL","NLC","NCC","NRC","NLR","NCR","NRR"],n.COMPONENT_METAID_MAPPING={"input":6,"textarea":7,"radio":1,"checkbox":2,"dropDown":3,"multiLevel":15,"dateTime_date":9,"dateTime_time":57,"dateTime_both":59,"number":8,"attachment":10,"rate":11,"tabular":12,"rank":14,"currency":13,"city":16,"commodity":60,"button":63,"signature":65,"recording":64,"picRadio":4,"picCheckbox":5,"picAttachment":56,"picCarousel":62,"staticPic":20,"staticText":19,"separator":17,"paging":18,"authCode":55,"staticMap":21,"staticVideo":22,"name":23,"avatar":53,"email":25,"company":31,"department":61,"position":32,"mobile":24,"website":34,"title":29,"gender":28,"birthDate":54,"location":30,"address":33,"tel":26,"fax":27,"remark":51,"IM":43,"wechat":36,"qq":35,"skype":41,"whatsApp":38,"messenger":39,"viber":42,"line":37,"telegram":40,"SNS":50,"weibo":49,"linkedIn":47,"twitter":48,"facebook":44,"instagram":46,"mkGooglePlus":45}),l=(n.METAID_COMPONENT_MAPPING=o.default.invert(s),n.DT_CONTACT_MAPPING={n:"name",em:"email",c:"company",d:"department",p:"position",mb:"mobile",ws:"website",t:"title",g:"gender",b:"birthDate",l:"location",ad:"address",tl:"tel",fx:"fax",wc:"wechat",qq:"qq",sk:"skype",wa:"whatsApp",msg:"messenger",vb:"viber",ln:"line",tgr:"telegram",wb:"weibo",lk:"linkedIn",tw:"twitter",fb:"facebook",is:"instagram",gp:"mkGooglePlus"},n.FORM_COMPONENTS_NAME_DETAILS=function(t){return[{id:1,name:"np",title:t.np},{id:2,name:"nf",title:t.nf},{id:3,name:"nm",title:t.nm},{id:4,name:"nl",title:t.nl},{id:5,name:"ns",title:t.ns},{id:6,name:"nn",title:t.nn}]},{"isOnlySingle":"os","placeholder":"ph","isUseWeChatScan":"wcs","isRepetition":"da","isWordLimit":"ll","wordLimitFrom":"llb","wordLimitTo":"llt","isUseRegEx":"ire","regExType":"irt","regEx":"irp","cpLayout":"cpl","cpWidth":"wd"}),u={"isAddOtherOption":"al","otherOptionTitle":"alt","otherOptionIsRequired":"alr","isAfterInput":"ai","afterInputIsRequired":"air","isLimitOptions":"oq","setOptionLimitNum":"oql","isShowOptionLimit":"oqs","isHideFullOption":"ohf","isRandomOptions":"ro","optionsLayout":"cn","isAutoNo":"an","autoNo":"ant","isLimitChooseNum":"all","chooseNumFrom":"allb","chooseNumTo":"allt","defaultTips":"adt","cpWidth":"wd"},c={"isAllowPartEmpty":"ic"},d={"dateFormat":"f","dayDefault":"d","defaultDay":"dd","isLimitAfterDays":"adl","limitAfterDays":"adll","isLimitDayInterval":"dl","dayIntervalFrom":"dlf","dayIntervalTo":"dlt","isLimitDays":"wl","limitDays":"wll","cpWidth":"wd","timePrecision":"a","timeDefault":"dt","defaultTime":"dtt","isLimitTimeInterval":"tl","timeIntervalFrom":"tlf","timeIntervalTo":"tlt","dayTimeDefault":"ddt","defaultDayTime":"ddtt"},f={"unit":"u","isNumRange":"l","numRangeFrom":"lb","numRangeTo":"lt","isAcceptDecimals":"adc","isLimitDecDigits":"ld","decDigits":"ldl","isAcceptNegative":"na","cpWidth":"wd"},m={"isLimitFileType":"ftl","fileTypes":"ftll","isLimitFileSize":"sl","fileSize":"slft","isAcceptMultipleFile":"fm","isLimitFileNumber":"ml","fileNumber":"mll","cpWidth":"wd"},p={"rateMax":"ms","rateDefault":"ds","rateIcon":"ric","isAllowHalf":"ha","isShowTips":"ps","tipsPosition":"pp","rateTipsLeft":"pl","rateTipsMiddle":"pm","rateTipsRight":"pr","heatBarColorForm":"hbcl","heatBarColorTo":"hbcr"},h={"tabularType":"tp","questionWidth":"qw","isAllowMulti":"mln","rateIcon":"ric","rateMax":"ms","rateDefault":"ds","isAllowHalf":"ha","isShowTips":"ps","tipsPosition":"pp","rateTipsLeft":"pl","rateTipsMiddle":"pm","rateTipsRight":"pr","heatBarColorForm":"hbcl","heatBarColorTo":"hbcr"},g={"isLimitDigit":"jn","rankDigits":"rn","trueDigits":"rwh"},_={"symbol":"s","symbolDefined":"sc","isNumRange":"l","numRangeFrom":"lb","numRangeTo":"lt","isAcceptDecimals":"adc","isLimitDecDigits":"ld","decDigits":"ldt","isAcceptNegative":"na","cpWidth":"wd","isHidePrice":"hp"},v={"componentType":"t","minLevel":"lv","isLimitCountry":"ilc","limitCountry":"lc"},b={"isLimitStock":"mbn","setMaxBuyNum":"mbnl"},y={"btnText":"bt","btnAction":"bat","btnJumpTo":"bjt","btnTelTo":"btt","btnSmsTo":"bst","btnSmsContent":"bsc","btnMailTo":"bmt","btnQqTo":"bqt","btnStyle":"bs","isShowBtnIcon":"bsi","btnIcon":"bi","btnWidthType":"bwt","btnWidth":"bw","btnHeight":"bh","btnColor":"bc","btnFontColor":"bfc","btnFontSize":"bfs","btnFontWeight":"bfw","btnAlign":"ba"},E={"isLimitPicResolution":"rl","picMinWidth":"rwb","picMaxWidth":"rwt","picMinHeight":"rhb","picMaxHeight":"rht"},C={"picNumber":"n","picLayout":"ly","pictures":null,"picPadding":"p","picPaddingTB":"cp","picPaddingLRNone":"cpw","isAddDescribe":"idt","picDescribe":"dtc","picDescribe_style":"dtcst","picSubTitleAlign":"dtl","isDescribeTextFold":"dtf","describeFoldText":"dtft","describeFoldText_style":"dtftst"},T={"picCarouselType":"pct","carouselPictures":null,"picHeight":"h","speed":"sp","animation":"ani"},S={"borderType":"slt","isNoPadding":"mw","titleAlign":"ta","subTitleAlign":"dal"},M={"isFoldText":"fd","foldContent":"fdt","foldContent_style":"fdtst"},I={"mapLocation":"mpl","mapScale":"mps","isShowInfoBox":"mpi","mapInfoContent":"mpic","coordinate":"co"},N={"staticVideoUrl":"vl","videoInfo":"vi","paddingTBNone":"cph"},A={"isAcceptMulti":"m","isValidate":"fe","isOpenDetails":"od","detailsItem":"odi","componentType":"t","searchComponentType":"cpt","acceptArea":"fer","isSendMsgAuth":"cm","infoTypes":"it"},x={"defaultVpLocation":"vpdl","cfDateTimeType":"cfDt","cfRadioType":"cfRt","cfDefaultSymbol":"cfDs","cfIsLimitLocation":"iidlc","cfLimitLocation":"idlc"},k={"isAux":null,"auxType":null},D=n.propsMapping=o.default.assign({},l,u,c,d,f,m,p,h,g,_,I,v,b,y,E,C,T,S,N,M,A,x,k);n.invert_propsMapping=o.default.invert(D),n.FIELD_INFO_MAPPING={submitAt:{fbIcon:String.fromCharCode(59222)},input:{icon:String.fromCharCode(59137),fbIcon:String.fromCharCode(59223)},textarea:{fbIcon:String.fromCharCode(59223)},radio:{icon:String.fromCharCode(59138),fbIcon:String.fromCharCode(59219)},checkbox:{fbIcon:String.fromCharCode(59217)},dropDown:{icon:String.fromCharCode(59139),fbIcon:String.fromCharCode(59218)},multiLevel:{icon:String.fromCharCode(59140),fbIcon:String.fromCharCode(59226)},dateTime_date:{icon:String.fromCharCode(59141)},dateTime_both:{icon:String.fromCharCode(59141)},dateTime_time:{icon:String.fromCharCode(59160)},number:{icon:String.fromCharCode(59142),fbIcon:String.fromCharCode(59224)},attachment:{icon:String.fromCharCode(59143)},rate:{icon:String.fromCharCode(59144)},tabular:{icon:String.fromCharCode(59145)},rank:{icon:String.fromCharCode(59146)},currency:{icon:String.fromCharCode(59147),fbIcon:String.fromCharCode(59225)},city:{icon:String.fromCharCode(59148)},commodity:{icon:String.fromCharCode(59149)},button:{icon:String.fromCharCode(59149)},signature:{icon:String.fromCharCode(59162)},picRadio:{icon:String.fromCharCode(59150),fbIcon:String.fromCharCode(59219)},picCheckbox:{fbIcon:String.fromCharCode(59217)},picAttachment:{icon:String.fromCharCode(59151)},staticPic:{icon:String.fromCharCode(59153)},picCarousel:{icon:String.fromCharCode(59153)},staticText:{icon:String.fromCharCode(59154)},separator:{icon:String.fromCharCode(59155)},paging:{icon:String.fromCharCode(59156)},authCode:{icon:String.fromCharCode(59157)},staticMap:{icon:String.fromCharCode(59158)},staticVideo:{icon:String.fromCharCode(59159)},name:{category:"CONTACT",icon:String.fromCharCode(59073)},avatar:{category:"CONTACT",icon:String.fromCharCode(59078)},email:{category:"CONTACT",icon:String.fromCharCode(59075)},company:{category:"CONTACT",icon:String.fromCharCode(59076)},department:{category:"CONTACT",icon:String.fromCharCode(59072)},position:{category:"CONTACT",icon:String.fromCharCode(59077)},mobile:{category:"CONTACT",icon:String.fromCharCode(59074)},website:{category:"CONTACT",icon:String.fromCharCode(59086)},title:{category:"CONTACT",icon:String.fromCharCode(59079)},gender:{category:"CONTACT",icon:String.fromCharCode(59080)},birthDate:{category:"CONTACT",icon:String.fromCharCode(59081)},location:{category:"CONTACT",icon:String.fromCharCode(59082)},address:{category:"CONTACT",icon:String.fromCharCode(59083)},tel:{category:"CONTACT",icon:String.fromCharCode(59087)},fax:{category:"CONTACT",icon:String.fromCharCode(59089)},note:{category:"CONTACT",icon:String.fromCharCode(59079)},IM:{category:"IM",icon:String.fromCharCode(59093)},wechat:{category:"IM",icon:String.fromCharCode(59094)
},qq:{category:"IM",icon:String.fromCharCode(59095)},skype:{category:"IM",icon:String.fromCharCode(59096)},whatsApp:{category:"IM",icon:String.fromCharCode(59097)},messenger:{category:"IM",icon:String.fromCharCode(59099)},viber:{category:"IM",icon:String.fromCharCode(59098)},line:{category:"IM",icon:String.fromCharCode(59100)},telegram:{category:"IM",icon:String.fromCharCode(59101)},SNS:{category:"SNS",icon:String.fromCharCode(59121)},weibo:{category:"SNS",icon:String.fromCharCode(59123)},linkedIn:{category:"SNS",icon:String.fromCharCode(59124)},twitter:{category:"SNS",icon:String.fromCharCode(59122)},facebook:{category:"SNS",icon:String.fromCharCode(59125)},instagram:{category:"SNS",icon:String.fromCharCode(59126)},mkGooglePlus:{category:"SNS",icon:String.fromCharCode(59127)}},n.FORM_SETTINGS_BTN_ICON=[{id:1,icon:String.fromCharCode(59457)},{id:2,icon:String.fromCharCode(59458)},{id:3,icon:String.fromCharCode(59087)},{id:4,icon:String.fromCharCode(59174)},{id:15,icon:String.fromCharCode(58900)},{id:5,icon:String.fromCharCode(59459)},{id:6,icon:String.fromCharCode(59095)},{id:7,icon:String.fromCharCode(59460)},{id:8,icon:String.fromCharCode(59461)},{id:9,icon:String.fromCharCode(58986)},{id:10,icon:String.fromCharCode(59073)},{id:11,icon:String.fromCharCode(59462)},{id:12,icon:String.fromCharCode(59463)},{id:13,icon:String.fromCharCode(59464)},{id:14,icon:String.fromCharCode(59465)},{id:16,icon:String.fromCharCode(59466)}]},function(t,n,a){t.exports=a(59)(1)},function(t,n){t.exports=formLang},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=a(6),s=r(o),l=a(19),u=r(l),c=a(22),d=r(c),f=a(23),m=r(f),p=a(61),h=r(p),g=u.default.createClass({displayName:"BasePrice",mixins:[m.default],getDefaultProps:function(){return{symbol:"$",price:0,lowerDisplayDecimal:!0,lowerDisplaySymbol:!0,decimalDigits:2,invalidPrice:!1}},render:function(){var t=this.props,n=t.className,a=t.symbol,r=t.invalidPrice,o=t.price,l=t.decimalDigits,c=t.lowerDisplayDecimal,f=t.lowerDisplaySymbol,m=Math.max(0,l),p=0;!isNaN(+o)&&s.default.isNumber(+o)&&isFinite(+o)&&(p=+o);var g=p<0,_=h.default.localeNumberFormatter(Math.abs(o),m,m),v=_.split(/\,|\./),b=i(v,2),y=b[0],E=b[1],C=_.substr(y.length,1);return u.default.createElement("span",{className:(0,d.default)("bb-price",n,{"bb-price-invalid":r,"bb-price-lower-decimal":c,"bb-price-lower-symbol":f}),role:"money","aria-label":" "+(g?"-":"")+a+" "+y+(C+E)+" "},u.default.createElement("span",{className:"bb-pr-symbol","aria-hidden":!0},(g?"-":"")+a),u.default.createElement("span",{className:"bb-pr-inpart","aria-hidden":!0},y),m>0?u.default.createElement("span",{className:"bb-pr-depart","aria-hidden":!0},C+E):null)}});n.default=g,t.exports=n["default"]},function(t,n){"use strict";function a(t,n,a){var r="";if(t=""+t,n=""+n,!a)return t;var i=a-t.length;if(i<=0)return t;for(;;){if(1===(1&i)&&(r+=n),i>>>=1,0===i)break;n+=n}return r+t}function r(t){try{return p&&!M?g===1.1.toLocaleString(t).substring(1,2)?b:y:h.indexOf(t)===-1?b:y}catch(t){return b}}function i(t){return t.match(/[\.,]/g)||[]}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u={"fr":"fr-FR","de":"de-DE","ja":"ja","cn":"zh","tw":"zh","en":"en-US","ru":"ru-Latn","it":"it"},c={"fr":"EUR","de":"EUR","ja":"JPY","cn":"CNY","tw":"TWD","en":"USD","ru":"RUB","it":"EUR"},d={"fr":-1,"de":-1,"ja":1,"cn":1,"tw":1,"en":1,"ru":-1,"it":-1},f={"EUR":["€","€"],"JPY":["¥","JP¥"],"TWD":["NT$","NT$"],"CNY":["￥","CNY"],"RUB":["₽","RUB"],"USD":["$","$"]},m=navigator.language?navigator.language:navigator.userLanguage,p=!("object"!==("undefined"==typeof Intl?"undefined":l(Intl))||!Intl||"function"!=typeof Intl.NumberFormat),h=["fr","fr-FR","fr-BE","fr-CA","fr-CH","fr-LU","it","it-CH","ru","ru-Latn","ru-MI","de","de-DE","de-CH","de-AT","de-LU","de-LI"],g=".",v=",",b={decimal:g,group:v},y={decimal:v,group:g},E=window.navigator.userAgent,C=E.match(/(Android);?[\s\/]+([\d.]+)?/),T=/micromessenger/i.test(E),S=/MQQBrowser/i.test(E)||/ QQ/i.test(E),M=C&&(T||S),I=u[m],N=m,A=s({decimal:".",group:","},r(I),{currency:c[I]||"USD"});n.default={preferCulture:function(t){N=t,I=u[t]?u[t]:t,A=s({},A,r(I),{currency:c[t]||"USD"})},getProperties:function(){return s({},A,{isPrefix:d[N]>0})},localeNumberFormatter:function(t,n,r){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n=isNaN(+n)?null:n,r=isNaN(+r)?null:r;var s=(""+t).indexOf(".")>-1,l=parseFloat(""+t,10);if(s||(l=Math.round(l)),isNaN(l))return t;if(!isFinite(t))return""+t;var u=l,c=""+(l||0);if(/e\+/.test(c)){var d=c.split("e+"),f=o(d,2),m=f[0],p=f[1],h=m.indexOf("."),g="";if(+m<0&&(g="-"),h>-1){var _=m.length-1-h;c=g+_.replace(".","")+a("",0,p-_)}}else if(/e-/.test(c)){var v=c.split("e-"),b=o(v,2),y=b[0],E=b[1],C="";+y<0&&(C="-"),c=C+"0."+a("",0,E-1)+y.replace(".","")}u="";var T=c.split("."),S=o(T,2),M=S[0],I=void 0===M?"":M,N=S[1],x=void 0===N?"":N;if(x){var k=parseFloat("0."+x),D=Math.pow(10,r),O=null,P=null;r?(k*=D,O=Math.floor(k),P=k-O):(O=0,P=k),P<=1e-6?P=0:P>=.999999&&(O+=1,P=0);var L=(""+(O+P)/D).split(".");x=L[1],+L[0]>0&&(I=""+Math.round(+I+ +L[0]))}for(var w=I.length;w>3;)u=A.group+I.slice(-3)+u,I=I.slice(0,w-3),w=I.length;return I&&(u=I+u),r&&!isNaN(+r)&&(x=(x||"").slice(0,+r)),n&&!isNaN(+n)&&+n>x.length&&(x+=a("",0,+n-x.length)),0===r&&0===n&&(x=""),u+=x?A.decimal+x:"",u.replace(new RegExp("\\"+A.group,"g"),i?" ":"")},localeCurrencyFormatter:function(t,n,a,r){r||(r=A.currency);var i=+t;if(isNaN(i))return t;if(!isFinite(i))return""+i;if(p){var o={currency:r,style:"currency"};_.isNumber(n)&&(o.minimumFractionDigits=n),_.isNumber(a)&&(o.maximumFractionDigits=a),_.isEmpty(o)&&(o=void 0);var s=new Intl.NumberFormat(I,o);return s.format(i).replace(new RegExp("\\"+A.group,"g")," ")}var l="",u="";if(r){var m=c[N]!==r?1:0;d[N]>0?l=f[r][m]:u=" "+f[r][m]}return l+this.localeNumberFormatter(t,n,a)+u},localeStringToNumber:function(t){t=""+t;var n=t.indexOf(".")>-1,a=n?t.split(".")[1].length:0,r=0;if(h.indexOf(I)>-1||A.decimal===v)if(i(t).length>1){var o=t.replace(/\s/g,"").replace(new RegExp("\\"+A.group,"g"),"").replace(new RegExp("\\"+A.decimal,"g"),g);r=+o}else{var s=t.replace(/\s/g,"").replace(/[\.,]/g,g);r=+s}else r=+t.replace(/\s|,/g,"");if(isNaN(r)||!isFinite(r))return NaN;var l=n?Math.pow(10,a):1;return r=Math.round(r*l)/l}},t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=a(22),s=r(o),l=a(19),u=r(l),c=a(23),d=r(c),f=a(63),m=r(f),p=a(65),h=r(p),g={1:"alipay",2:"wechat_pay"},_={1:m.default,2:h.default},v=u.default.createClass({displayName:"PaymentWorker",mixins:[d.default],render:function(){var t=this.props,n=t.type,a=i(t,["type"]),r=_[n]||"div";return u.default.createElement("div",{className:(0,s.default)("pay_worker",g[n])},u.default.createElement(r,a))}});n.default=v,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=r(i),s=a(19),l=r(s),u=a(23),c=r(u),d=a(17),f=a(8),m=a(64),p=navigator.userAgent.match(/QQ\//i),h=l.default.createClass({displayName:"Alipay",mixins:[c.default],getInitialState:function(){return this.form=(0,d.getFormStructure)(),this.extensions=this.form.extensions,this.config=(0,d.getConfig)(),this.ifp={},this.extensions.inFormPay&&!this.props.prdMode&&(this.ifp=this.extensions.inFormPayInfo),{}},renderAliPay:function(){var t=this.props.cashier,n=(0,d.getLang)(),a=f.deviceInfo.isFuzzyMobile,r=this.ifp.pvt;if(!a){if(r){var i=null;if(this.ifp.isKuaiQian)i=(t.rKq_qrPath||{}).rKq_qrPath;else if(this.ifp.isQianFang)i=t.rQf_qrPath;else if(this.ifp.isMikeMerchant)return i=t.rData_qr,l.default.createElement(m.AliMixPayment,{qrCode:i,title:n.cPayAliPayQrCode,url:t.rData_jump});return i?l.default.createElement(m.QrCodePayment,{qrCode:i,title:n.cPayAliPayQrCode}):null}return l.default.createElement(m.AliMixPayment,{qrCode:t.rData_host+t.rData_qr,title:n.cPayAliPayQrCode,url:t.rData_host+t.rData_jump})}if(!r){if(p||this.config.isWx()){var s=o.default.omit(t,["rData_qr","inWechat","type"]);return l.default.createElement(m.MiddlewarePayment,{params:s})}return l.default.createElement(m.DirectPayment,{url:t.rData_host+t.rData_jump})}if(this.ifp.isKuaiQian){var u=o.default.omit(t,["rData_qr","inWechat","type"]);return u.isKuaiQian=1,l.default.createElement(m.MiddlewarePayment,{params:u})}if(this.ifp.isQianFang){if(t.rQf_jump){if(p||this.config.isWx()){var c=o.default.omit(t,["rData_qr","inWechat","type"]);return c.isQianFang=1,l.default.createElement(m.MiddlewarePayment,{params:c})}return l.default.createElement(m.DirectPayment,{url:t.rQf_jump})}return l.default.createElement(m.QrCodePayment,{qrCode:t.rQf_qrPath,title:n.cPayAliPayQrCode})}if(this.ifp.isMikeMerchant){if(p||this.config.isWx()){var h=o.default.omit(t,["rData_qr","inWechat","type"]);h.isMMS=1;var g=(0,f.parseUrl)(location.href);return g.params&&g.params.m&&16===g.params.m.length&&(h.m=g.params.m),l.default.createElement(m.MiddlewarePayment,{params:h})}return l.default.createElement(m.DirectPayment,{url:t.rData_jump})}},render:function(){return l.default.createElement("div",{className:"pay_content alipay"},this.renderAliPay())}});n.default=h,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.AliMixPayment=n.QrCodePayment=n.DirectPayment=n.MiddlewarePayment=void 0;var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=a(23),u=r(l),c=a(17),d=a(36),f=s.default.createClass({displayName:"MiddlewarePayment",mixins:[u.default],render:function(){var t=this.props.params,n="pg_wc/alipayInWc.php?d="+encodeURIComponent(JSON.stringify(i({t:(0,c.getFormStructure)().token},t)));return s.default.createElement(m,{url:n})}}),m=s.default.createClass({displayName:"DirectPayment",mixins:[u.default],render:function(){var t=this.props.url,n=(0,c.getLang)();return s.default.createElement("div",{className:"pay_method"},s.default.createElement(d.BaseBtn,{className:"fbc_button orange btn_goToPay",target:"_blank",href:t,rel:"noreferrer"},n.cPayGoToPay))}}),p=s.default.createClass({displayName:"QrCodePayment",mixins:[u.default],render:function(){var t=this.props,n=t.qrCode,a=t.title;return s.default.createElement("div",{className:"pay_method onlyQRCode"},s.default.createElement("div",{className:"pay_qrCode"},s.default.createElement("p",{className:"pay_mTitle"},a),s.default.createElement("img",{className:"pay_mQRCode",src:n,style:{maxWidth:"100%"}})),s.default.createElement("div",{className:"clearB"}))}}),h=s.default.createClass({displayName:"AliMixPayment",mixins:[u.default],render:function(){var t=this.props,n=t.qrCode,a=t.url,r=t.title,i=(0,c.getLang)();return s.default.createElement("div",{className:"pay_method aliPay"},s.default.createElement("div",{className:"pay_aliWeb"},s.default.createElement("p",{className:"pay_mTitle"},i.cPayWebPay),s.default.createElement("div",{className:"pay_mImg"}),s.default.createElement(d.BaseBtn,{className:"btn_normal orange btn_goToPay",target:"_blank",href:a,rel:"noreferrer"},i.cPayGoToPay)),s.default.createElement("div",{className:"pay_aliQRCode"},s.default.createElement("p",{className:"pay_mTitle"},r),s.default.createElement("iframe",{className:"pay_mQRCode",scrolling:"no",frameBorder:"0",src:n})),s.default.createElement("div",{className:"clearB"}))}});n.MiddlewarePayment=f,n.DirectPayment=m,n.QrCodePayment=p,n.AliMixPayment=h},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=a(23),u=r(l),c=a(17),d=a(64),f=a(8),m=s.default.createClass({displayName:"WeChatPay",mixins:[u.default],getInitialState:function(){return this.form=(0,c.getFormStructure)(),this.extensions=this.form.extensions,this.config=(0,c.getConfig)(),this.ifp={},this.extensions.inFormPay&&!this.props.prdMode&&(this.ifp=this.extensions.inFormPayInfo),{}},renderWeChatPay:function(){var t=this.props.cashier,n=(0,c.getLang)(),a=this.ifp.pvt;if(a&&this.ifp.isMikeMerchant&&t.rWx_jump){var r={},o=(0,f.parseUrl)(location.href);if(o.params&&o.params.m&&16===o.params.m.length&&(r.m=o.params.m),t.tkvQrUrl||t.tkvCode||t.redirectUrl||r.m){var l=(0,f.parseUrl)(t.rWx_jump),u=(0,f.addUrlParams)(l.params.redirect_uri,i({},r,{rc:t.randomCode,rdu:t.redirectUrl,tkvc:t.tkvCode,tkvqr:t.tkvQrUrl}));return location.href=(0,f.addUrlParams)(t.rWx_jump,{redirect_uri:u}),null}return location.href=(0,f.addUrlParams)(t.rWx_jump),null}if(a&&this.ifp.isQianFang&&t.rQf_jump)return s.default.createElement(d.DirectPayment,{url:t.rQf_jump});if(a&&this.ifp.isKuaiQian&&t.rKq_jump)return s.default.createElement(d.DirectPayment,{url:t.rKq_jump});if(t.rWx_jump)return s.default.createElement(d.DirectPayment,{url:t.rWx_jump});var m=null;return a?this.ifp.isKuaiQian?m=(t.rKq_qrPath||{}).rKq_qrPath:this.ifp.isQianFang?m=t.rQf_qrPath:this.ifp.isMikeMerchant&&(m=t.rWx_qrPath):m=t.rWx_qrPath,m?s.default.createElement(d.QrCodePayment,{qrCode:m,title:n.cPayWxPayQrCode}):null},render:function(){return s.default.createElement("div",{className:"pay_content wechat-pay"},this.renderWeChatPay())}});n.default=m,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.IFPSNormal=void 0;var i=a(22),o=r(i),s=a(19),l=r(s),u=a(23),c=r(u),d=a(17),f=a(38),m="800180039",p=l.default.createClass({displayName:"ContactUs",mixins:[c.default],handleOpenQQ:function(){window.open("http://q.url.cn/ab78yP?_type=wpa&qidian=true")},render:function(){var t=(0,d.getLang)();return l.default.createElement("div",{className:"pay_contactUs"},l.default.createElement("p",{className:"pay_cuTitle"},t.cContactUs),l.default.createElement("div",{className:"pay_cuInfo"},l.default.createElement("div",{className:"pay_cuInfoTr"},l.default.createElement("p",{className:"pay_cuItem"},l.default.createElement("i",{className:"iconfont pay_cuiIcon"},String.fromCharCode(59095)),l.default.createElement("a",{className:"pay_cuiVal",onClick:this.handleOpenQQ},m))),l.default.createElement("div",{className:"pay_cuInfoTr"},l.default.createElement("p",{className:"pay_cuItem"},l.default.createElement("i",{className:"iconfont pay_cuiIcon"},String.fromCharCode(59075)),l.default.createElement("a",{className:"pay_cuiVal",target:"_blank",rel:"noreferrer",href:"mailTo:service@mikecrm.com"},"service@mikecrm.com"))),l.default.createElement("div",{className:"clearB"})))}}),h=n.IFPSNormal=l.default.createClass({displayName:"IFPSNormal",mixins:[c.default],render:function(){var t=(0,d.getLang)(),n=this.props,a=n.isPrd,r=n.payment,i=n.onClose;return l.default.createElement("div",{className:(0,o.default)("pay_succeed",{"is-prd":a})},l.default.createElement("i",{className:"pay_sImg"}),l.default.createElement("p",{className:"pay_sTips"},t.cPaySucceedTips),l.default.createElement("div",{className:"pay_sDes"},t.cPaySucceedDes({strong:{className:"strong"}})),l.default.createElement("div",{className:"pay_tradeInfo"},l.default.createElement("div",{className:"pay_orderNo"},l.default.createElement("span",null,t.cPayOrderNo),l.default.createElement("span",{className:"orderNo"},a?r._DNT:r.cashier.ordiNo))),l.default.createElement(p,null),l.default.createElement("div",{className:"pay_sLogoWrapper"},l.default.createElement("div",{className:"pay_sLogo"})),l.default.createElement("p",{className:"pay_sDetermination"},t.cPaySucceedDetermination),l.default.createElement("div",{className:"pay_operate"},l.default.createElement("a",{className:"btn_normal btn_finish",onClick:i},t.cPayFinish)))}}),g=l.default.createClass({displayName:"FollowWx",mixins:[c.default],render:function(){var t=(0,d.getLang)();return l.default.createElement("div",{className:"pay_followWx"},l.default.createElement("img",{src:window.rootPath("/images/mikeMerchant/wechatQrCode@3x.png")}),l.default.createElement("div",{className:"pfw_content"},t.cPaySucceed_wxFollow))}}),_=l.default.createClass({displayName:"FindOrder",mixins:[c.default],render:function(){var t=(0,d.getLang)();return l.default.createElement("div",{className:"pay_contactUs pay_findOrder"},l.default.createElement("div",{className:"pfo_content"},t.cPaySucceedDetail_normal(this.props.contentExtProps)),l.default.createElement("img",{src:window.rootPath("/images/mikeMerchant/wechatQrCode@3x.png")}),l.default.createElement("div",{className:"clearB"}))}}),v=l.default.createClass({displayName:"IFPSMMS",mixins:[c.default],gotoSearchOrder:function(){var t=this.props.payment,n=t.ordiNo;window.open("https://mikecrm.com/mms/orderQuery.php?no="+encodeURIComponent(n))},render:function(){var t=(0,d.getLang)(),n=(0,d.getDeviceInfo)(),a=(n.os,n.isWx),r=this.props,i=(r.isPrd,r.payment),s=r.onClose,u={strong:{className:"strong"},order:{className:"order",onClick:this.gotoSearchOrder}};return l.default.createElement("div",{className:(0,o.default)("pay_succeed","pay_in_mikeMerchant")},l.default.createElement("div",{className:"mms_brand"},l.default.createElement("img",{className:"mms_logo",src:window.rootPath("/images/mikeMerchant/"+("cn"===(0,d.getCurrentLang)()?"logo@3x.png":"logo_en@3x.png"))})),l.default.createElement("div",{className:"mms_succeed_border"}),l.default.createElement("div",{className:"ps_content"},l.default.createElement("div",{className:"mms_succeed_ball"}),l.default.createElement("div",{className:"mms_succeed"}),l.default.createElement("p",{className:"pay_sTips"},t.cPaySucceedTips),l.default.createElement("div",{className:"pay_sDes"},a?t.cPaySucceedDes_inWx(u):t.cPaySucceedDes_normal(u)),a?l.default.createElement(g,{no:i.cashier.ordiNo,contentExtProps:u}):null,l.default.createElement("div",{className:"pay_tradeInfo pay_ordInfo"},i.cashier.pubName?l.default.createElement("div",{className:"pay_pubName"},l.default.createElement("span",{className:"po_title"},t.cMerchantPubName),l.default.createElement("span",{className:"pubName"},i.cashier.pubName)):null,l.default.createElement("div",{className:"pay_orderNo"},l.default.createElement("span",{className:"po_title"},t.cPayOrderNo),l.default.createElement("span",{className:"orderNo"},i.cashier.ordiNo))),a?null:l.default.createElement(_,{no:i.cashier.ordiNo,contentExtProps:u}),l.default.createElement("div",{className:"pay_operate"},l.default.createElement("a",{className:"btn_mms",onClick:s},t.cPayFinish)),l.default.createElement("div",{className:"pay_sLogoWrapper"},l.default.createElement("div",{className:"pay_sLogo"})),l.default.createElement("p",{className:"pay_sDetermination"},t.cPaySucceedDetermination)))}}),b=l.default.createClass({displayName:"IFPSucceed",mixins:[c.default],getInitialState:function(){return this.store=(0,d.getStore)(),this.form=(0,d.getFormStructure)(),null},handleClose:function(){this.store.dispatch((0,f.IFP_CONFIRM)()),this.props.onClose&&this.props.onClose(!0)},renderNormal:function(){var t=this.props.isPrd,n=this.store.getState(),a=n.payment;return l.default.createElement(h,{isPrd:t,payment:a,onClose:this.handleClose})},renderMikeMerchant:function(){var t=this.props.isPrd,n=this.store.getState(),a=n.payment;return l.default.createElement(v,{isPrd:t,payment:a,onClose:this.handleClose})},render:function(){var t=this.form.extensions,n=this.props.isPrd;t.inFormPayInfo;return n?this.renderNormal():this.renderMikeMerchant()}});n.default=b},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(19),l=r(s),u=a(22),c=r(u),d=a(28),f=r(d),m=a(37),p=r(m),h=a(33),g=r(h),v=a(23),b=r(v),y=a(17),E=a(36),C=a(68),T=r(C),S=(0,f.default)((0,p.default)(g.default)),M=l.default.createClass({displayName:"PopSubmitJump",mixins:[b.default],getInitialState:function(){return this.form=(0,y.getFormStructure)(),this.store=(0,y.getStore)(),this.embed=(0,y.getEmbed)(),{}},handleFinishCountdown:function(){var t=this.store.getState(),n=t.data;if(this.embed&&this.embed.inEmbed&&this.embed.topFrameLocationHref)try{return void(window.top.location.href=(0,T.default)(n))}catch(t){}location.href=(0,T.default)(n)},renderContent:function(){var t=this.form.settings,n=(0,y.getLang)(),a=[].concat(t.asTextTitle?t.asTextTitle:n.asSubmitSucceed);return _.reduce(a,function(t,n,a){return t.length>0&&t.push(l.default.createElement("br",{key:"br_"+a})),t.push(l.default.createElement("span",{key:"c_"+a},n)),t},[])},render:function(){var t=this.props,n=t.className,a=(t.onClose,i(t,["className","onClose"])),r=this.store.getState(),s=r.data,u=(this.form.settings,(0,y.getCurrentLang)()),d=(0,y.getLang)();return l.default.createElement(S,o({className:(0,c.default)("cp-popwin","sys-popwin",n)},a),l.default.createElement("div",{className:"cp-popBox submitJump"},l.default.createElement("div",{className:"mj_img"}),l.default.createElement("p",{className:"mj_succeedTips"},this.renderContent()),l.default.createElement("div",{className:"mj_jumpTips"},l.default.createElement("p",{className:"mj_jtTitle mj_jtBLink"},l.default.createElement(E.BaseCutDown,{duration:3e3,key:"authCountdown",onRender:function(t){return d.succeedJumpTips({sec:Math.floor(t.remain/1e3)})},onFinishCutDown:this.handleFinishCountdown})),l.default.createElement("p",{className:"mj_jtInfo"},(0,T.default)(s)),"ja"===u?l.default.createElement("p",{className:"mj_jtTitle mj_jtALink"},"へ移動する"):null)))}});n.default=M,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){var n=(0,o.getFormStructure)(),a=n.settings,r=(0,o.getStore)().getState(),i=null;return r.form&&r.form.submitFin&&r.form.extData&&r.form.extData.force_redirectUrl&&(i=r.form.extData.force_redirectUrl),2!==a.afterSubmitPage||i||(a.asIsJumpToLuxury&&l.default.forEach(a.asJumpToLuxury,function(a,r){if(t&&t[r]){var o=n.getComponent(r),s=l.default.find(o.options,{sId:t[r][0]});s&&(i=a[s.pid||s.id])}}),i||(i=a.asJumpTo||null)),i?(0,u.autoMbrmLinkify)(i):null}Object.defineProperty(n,"__esModule",{value:!0});var o=a(17),s=a(6),l=r(s),u=a(8);n.default=i,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(28),l=r(s),u=a(37),c=r(u),d=a(33),f=r(d),m=a(19),p=r(m),h=a(23),g=r(h),v=a(22),b=r(v),y=a(17),E=a(36),C=a(38),T=(0,l.default)((0,c.default)(f.default)),S=p.default.createClass({displayName:"PopSubmitQueue",mixins:[g.default],getInitialState:function(){return this.store=(0,y.getStore)(),o({saving:!1},this.store.getState().form)},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.onStateChange)},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()},onStateChange:function(t){var n=o({},this.store.getState().form);t.type===C._SUBMIT_QUEUE&&(n.saving=!1),this.setState(n)},onFinishCutDown:function(){var t=this;this.state.saving||this.setState({saving:this.state.pending},function(){t.state.pending?(t.store.dispatch((0,C.SUBMIT_QUEUE_FIN)()),t.store.dispatch((0,C.START_SUBMIT)())):t.store.dispatch((0,C.SUBMIT_QUEUE_END)())})},renderQueueInfo:function(t){var n=this.state.saving,a=(0,y.getLang)();return n?a.gQueueSaving:_.map(a.gQueue,function(n,a){return _.isFunction(n)?p.default.createElement("p",{className:"fbsq_line",key:"line"+a},n({countdown:Math.round(t.remain/1e3),countdownClassName:{className:"strong"}})):p.default.createElement("p",{className:"fbsq_line",key:"line"+a},n)})},render:function(){var t=this.state,n=t.saving,a=t.pending,r=t.queue,s=this.props,l=s.className,u=(s.onError,i(s,["className","onError"])),c=(0,y.getLang)();return p.default.createElement(T,o({className:(0,b.default)("cp-popwin","cp-popwin-blur",l)},u),p.default.createElement("div",{className:"cp-popBox submitQueue"},p.default.createElement("div",{className:"sq_Container"},p.default.createElement("div",{className:(0,b.default)("sq_img",{"sq_queue":!n,"sq_submit":n})}),p.default.createElement("div",{className:(0,b.default)("sq_content",{"sq_submit":n})},p.default.createElement(E.BaseCutDown,{onRender:this.renderQueueInfo,key:"cutdown"+n+a+r,duration:r?1e3*r:0,onFinishCutDown:this.onFinishCutDown})),n?null:p.default.createElement("div",{className:(0,b.default)("sq_hint")},p.default.createElement("i",{className:"iconfont"},String.fromCharCode(58938)),c.gQueueHint))))}});n.default=S,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(22),s=r(o),l=a(19),u=r(l),c=a(71),d=r(c),f=a(23),m=r(f),p=a(72),h=r(p),g=a(8),_=a(17),v=function(t){var n=(0,g.parseUrl)(location.href),a=(0,g.addUrlParams)(location.origin+"/mbrm/"+t,{_cpv:n.params._cpv});window.open(a)},b=u.default.createClass({displayName:"MemberBaseInfo",mixins:[m.default],onClose:function(e){this.props.onClose&&this.props.onClose(e)},handleGotoMemberCenter:function(){var t=this.props.memberInfo;v(t.mbrmToken)},render:function(){var t=this.props.memberInfo,n=(0,_.getLang)();return u.default.createElement("div",{className:"cm_info",style:{width:(0,_.getDeviceInfo)().getClientWidth()-10}},u.default.createElement("div",{className:"cm_name"},t.name),t.isLevel?u.default.createElement("div",{className:"cm_lvlIcon"},u.default.createElement("img",{src:t.levelIcon||t.defaultLevelIcon})):null,u.default.createElement("div",{className:"cm_mbrm_center"},u.default.createElement("span",{className:"cmbc_btn",onClick:this.handleGotoMemberCenter},u.default.createElement("i",{className:"iconfont"},String.fromCharCode(59504)),n.gMyMemberCenter({platformName:t&&t.mbrmCustomText&&t.mbrmCustomText.mbrmn||n.fMemberCenter}))),u.default.createElement("div",{className:"close",onClick:this.onClose},u.default.createElement("i",{className:"iconfont"},String.fromCharCode(58982))))}}),y=u.default.createClass({displayName:"MemberBaseInfoBox",mixins:[m.default],handleGotoMemberCenter:function(){var t=this.props.memberInfo;v(t.mbrmToken)},render:function(){var t=this.props.memberInfo,n=(0,_.getLang)();return u.default.createElement("div",{className:"cm_infoBox"},u.default.createElement("div",{className:"cmi_name"},u.default.createElement("span",{className:"cmin_name"},t.mbrmName),u.default.createElement("span",{className:"cmin_member"},t&&t.mbrmCustomText&&t.mbrmCustomText.mbrmmlit||n.fMember)),u.default.createElement("div",{className:"cmi_card"},u.default.createElement("div",{className:(0,s.default)("cmc_lvl",{"has-level":t.isLevel})},u.default.createElement("img",{src:t.levelIcon||t.defaultLevelIcon})),u.default.createElement("div",{className:"cmc_info"},u.default.createElement("div",{className:"cmci_name"},t.name),u.default.createElement("div",{className:"cmci_lvl"},t.account))),u.default.createElement("div",{className:"cmi_mbrm_center"},u.default.createElement("span",{className:"cmim_btn",onClick:this.handleGotoMemberCenter},u.default.createElement("i",{className:"iconfont"},String.fromCharCode(59504)),n.gMyMemberCenter({platformName:t&&t.mbrmCustomText&&t.mbrmCustomText.mbrmn||n.fMemberCenter}))))}}),E=u.default.createClass({displayName:"MemberInfo",mixins:[m.default],getInitialState:function(){return this.displayTimer=null,{showMemberInfo:!1}},componentWillUnmount:function(){clearTimeout(this.displayTimer)},onMouseEnter:function(){clearTimeout(this.displayTimer),this.state.showMemberInfo||this.setState({showMemberInfo:!0})},onMouseLeave:function(){var t=this;clearTimeout(this.displayTimer),this.displayTimer=setTimeout(function(){t.setState({showMemberInfo:!1})},400)},onClick:function(){clearTimeout(this.displayTimer),this.setState({showMemberInfo:!0})},onClose:function(e){e.stopPropagation(),this.setState({showMemberInfo:!1})},render:function(){var t=this.state.showMemberInfo,n=this.props,a=n.isLogin,r=n.memberInfo,o=n.hasShareQR,l=(0,_.getDeviceInfo)().isMobile,c={};return a&&r&&r.account&&(c=l?{onClick:this.onClick}:{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),u.default.createElement(h.default,i({component:"div",className:(0,s.default)("c_member",{"expand":l&&t,"is-mobile":l,"has_share_btn":o}),leaveTimeout:300,enterTimeout:240,transitionName:"info_box"},c),u.default.createElement(d.default,{key:"identify",memberLogged:a,style:{transform:t&&l?"translateX("+(-Math.min(610,(0,_.getDeviceInfo)().getClientWidth())+30+20)+"px)":null}}),t&&!l?u.default.createElement(y,{key:"box",memberInfo:r}):null,t&&l?u.default.createElement(b,{key:"line",onClose:this.onClose,memberInfo:r}):null)}});n.default=E,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(19),o=r(i),s=a(22),l=r(s),u=a(72),c=r(u),d=a(76),f=r(d),m=a(77),p=r(m),h=a(23),g=r(h),_=o.default.createClass({displayName:"MemberIdentify",mixins:[g.default],render:function(){var t=this.props,n=t.className,a=t.memberLogged,r=t.style;return o.default.createElement("div",{className:(0,l.default)("memberIdentify",n,{"memberLogged":a}),style:r},o.default.createElement("div",{className:"mi_exCircle"},o.default.createElement(c.default,{component:"div",className:"mi_innerCircle",transitionName:"memberLogged",enterTimeout:1100,leaveTimeout:1e3},a?o.default.createElement(p.default,{key:"contact",className:"mi_contact"}):o.default.createElement(f.default,{key:"key",className:"mi_key"}))))}});n.default=_,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0
});var o=a(19),s=r(o),l=a(73),u=r(l),c=a(9),d=r(c),f=a(23),m=r(f),p=s.default.createClass({displayName:"AnimationGroup",mixins:[m.default],getInitialState:function(){var t=u.default;return(d.default.browserCheck.msie&&parseInt(d.default.browserCheck.version)<=11||document.documentMode&&document.documentMode<9)&&(t=this.props.component?this.props.component:"div"),this.animationGroup=t,{}},render:function(){var t=this.animationGroup,n=this.props,a=n.children,r=i(n,["children"]);return s.default.createElement(t,r,a)}});n.default=p,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){return t.classList?t.classList.add(n):s(t,n)||(t.className=t.className+" "+n),t}function o(t,n){return s(n)&&(t.classList?t.classList.remove(n):t.className=(" "+t.className+" ").replace(" "+n+" "," ").trim()),t}function s(t,n){return t.classList?t.classList.contains(n):(" "+t.className+" ").indexOf(" "+n+" ")>-1}Object.defineProperty(n,"__esModule",{value:!0});var l=a(19),u=r(l),c=a(20),d=r(c),f=a(6),m=r(f),p=a(74),h=r(p),g=a(75),_=r(g),v=h.default.rAF,b=h.default.rAF_cancel,y=h.default.getNow,E=u.default.createClass({displayName:"ListTransitionGroupChild",propTypes:{name:u.default.PropTypes.string.isRequired,appear:u.default.PropTypes.bool,enter:u.default.PropTypes.bool,leave:u.default.PropTypes.bool,appearTimeout:u.default.PropTypes.number,enterTimeout:u.default.PropTypes.number,leaveTimeout:u.default.PropTypes.number},_transition:function(t,n,a){function r(){var t=y();return t>=p?(m(),void b(f)):void(f=v(r))}var s=d.default.findDOMNode(this),l=this;if(s){var u=this.props.name+"-"+t,c=u+"-active",f=null,m=function(e){if((!e||e.target===s)&&(b(f),o(s,u),o(s,c),l.classList=null,n&&l.isMounted()))try{n()}catch(t){}};i(s,u),this._queueClass(s,c);var p=y()+(a||0)+27;r(),this.transitionTimeouts.push(f)}else if(n&&l.isMounted())try{n()}catch(t){}},_queueClass:function(t,n){var a=this;this.classNameQueue.push({className:n,node:t}),this.timeout||(this.timeout=v(function(){v(a._flushClassNameQueue)}))},_flushClassNameQueue:function(){this.isMounted()&&m.default.forEach(this.classNameQueue,function(t){i(t.node,t.className)}),this.classNameQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameQueue=[],this.transitionTimeouts=[]},componentWillAppear:function(t){this.props.appear&&this.props.appearTimeout>0?this._transition("appear",t,this.props.appearTimeout):t()},componentWillEnter:function(t){var n=this;this.props.enter&&this.props.enterTimeout>0?this._transition("enter",function(){n.props.transitionEnterEnd&&n.props.transitionEnterEnd(),t()},this.props.enterTimeout):t()},componentWillLeave:function(t){var n=this;this.props.leave&&this.props.leaveTimeout>0?this._transition("leave",function(){n.props.transitionLeaveEnd&&n.props.transitionLeaveEnd(),t()},this.props.leaveTimeout):t()},componentWillUnmount:function(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),m.default.forEach(this.transitionTimeouts,function(t){b(t)}),this.classNameQueue.length=0},render:function(){return u.default.Children.only(this.props.children)}}),C=u.default.createClass({displayName:"MGCSSTransitionGroup",propTypes:{transitionName:u.default.PropTypes.string.isRequired,transitionAppear:u.default.PropTypes.bool,transitionEnter:u.default.PropTypes.bool,transitionLeave:u.default.PropTypes.bool,enterTimeout:u.default.PropTypes.number.isRequired,leaveTimeout:u.default.PropTypes.number.isRequired,transitionEnterEnd:u.default.PropTypes.func,transitionLeaveEnd:u.default.PropTypes.func},getDefaultProps:function(){return{transitionAppear:!1,transitionEnter:!0,transitionLeave:!0}},_wrapChild:function(t){var n=this.props;return u.default.createElement(E,{name:n.transitionName,appear:n.transitionAppear,enter:n.transitionEnter,leave:n.transitionLeave,appearTimeout:n.appearTimeout,enterTimeout:n.enterTimeout,leaveTimeout:n.leaveTimeout,transitionEnterEnd:n.transitionEnterEnd,transitionLeaveEnd:n.transitionLeaveEnd},t)},render:function(){var t=m.default.assign({},this.props,{childFactory:this._wrapChild});return u.default.createElement(_.default,t)}});n.default=C,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t.replace(/^\s+|\s+$/gm,"")}function s(t){return Array.prototype.slice.call(t)}function l(){var t;for(t in o)if(o.hasOwnProperty(t))return!0;return!1}function u(t,n){return null===n?"Null"===t:"undefined"==typeof n?"Undefined"===t:Object.prototype.toString.call(n)==="[object "+t+"]"}function c(t){if("undefined"==typeof t||null===t||u("Array",t)&&0===t.length||u("String",t)&&0===t.length)return!0;if(u("Object",t)){for(var n in t)if(t.hasOwnProperty(n))return!1;return!0}return!1}function d(t,n){if(t===n)return!0;if("object"!==("undefined"==typeof t?"undefined":g(t))||null===t||"object"!==("undefined"==typeof n?"undefined":g(n))||null===n)return!1;var a=Object.keys(t),r=Object.keys(n);if(a.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<a.length;o++){if(!i.call(n,a[o]))return!1;var s=t[a[o]],l=n[a[o]];if(s!==l||"object"===("undefined"==typeof s?"undefined":g(s))||"object"===("undefined"==typeof l?"undefined":g(l)))return!1}return!0}function f(t){var n=t.get(0),a=0;if("selectionStart"in n)a=n.selectionStart;else if("selection"in document){n.focus();var r=document.selection.createRange(),i=document.selection.createRange().text.length;r.moveStart("character",-n.value.length),a=r.text.length-i}return a}function m(t,n,a){if(t[0].createTextRange){var r=t[0].createTextRange();r.moveEnd("character",n),r.moveStart("character",a),r.select()}else t[0].setSelectionRange(n,a),t.focus()}function p(t,n,a){if(t==n)return!0;if(!n||!n.nodeType||1!=n.nodeType)return!1;if(t.contains)return t.contains(n);if(t.compareDocumentPosition)return!!(16&t.compareDocumentPosition(n));for(var r=n.parentNode;r&&r!=a;){if(r==t)return!0;r=r.parentNode}return!1}function h(t){var n="",a=Math.floor(Math.round(10*t/27)/10),r=t-26*a;return a>0&&(n=String.fromCharCode(a+64)),r>0&&(n+=String.fromCharCode(r+64)),n}Object.defineProperty(n,"__esModule",{value:!0});var g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_=a(9),v=r(_),b=function(){var t=document.createElement("div"),n=["Khtml","Ms","O","Moz","Webkit"],a=n.length;return function(r){if(r in t.style)return!0;r=r.replace(/^[a-z]/,function(t){return t.toUpperCase()});var i=0;for(i;i<a;i++)if(n[a]+r in t.style)return!0;return!1}}(),y=function(){var t={transitionend:{"transition":"transitionend","WebkitTransition":"webkitTransitionEnd","MozTransition":"mozTransitionEnd","OTransition":"oTransitionEnd","msTransition":"MSTransitionEnd"}},n=[];if("undefined"!=typeof window){var a=document.createElement("div"),r=a.style;"TransitionEvent"in window||delete t.transitionend.transition;for(var i in t)if(t.hasOwnProperty(i)){var o=t[i];for(var s in o)s in r&&n.push(o[s])}return 0==n.length?"transitionend":n.join(" ")}}(),E=function(){function t(t){var n=location.pathname.split("/"),a=" path=";document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;";for(var r=0;r<n.length;r++)a+=("/"!=a.substr(-1)?"/":"")+n[r],document.cookie=t+"=;expires=Thu, 01 Jan 1970 00:00:01 GMT;"+a+";"}function n(n,a,r){var i=null;return r.expires&&(i=new Date,r.expires=parseInt(r.expires,0),isNaN(r.expires)||(i=new Date(i-0+6048e5*r.expires))),i&&(i=i.toUTCString()),t(n),document.cookie=[n,"=",escape(a),i?"; expires="+i:"",r.path?"; path="+r.path:"",r.domain?"; domain="+r.domain:"",r.secure?"; secure":""].join("")}function a(t){var n,a,r,o=document.cookie.split(";");for(n=0,a=o.length;n<a;n++)if(r=i(o[n]).split("="),r[0]===t)return unescape(r[1]);return null}function r(n){var a=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));for(var r in a)t(a[r])}function o(n){for(var a=document.cookie.split(";"),r=0;r<a.length;r++){var i=a[r],o=i.indexOf("="),l=o>-1?i.substr(0,o):i,u=[].concat(n||[]);s(u,l)||t(l)}}var s=function(t,n){for(var a=!1,r=0,i=t.length;r<i;r++){var o=t[r];if(o.indexOf("*")>-1){var s=new RegExp("^"+o.replace("*",".*")+"$");a=n.match(s)}else a=o===n;if(a)break}return a};return{set:n,get:a,remove:t,clear:r,clearAll:o}}();n.default={inIframe:v.default.inIFrame,deviceCheck:v.default.deviceCheck,browserCheck:v.default.browserCheck,fuzzyDeviceCheck:v.default.fuzzyDeviceCheck,getImageSize:v.default.getImageSize,parseURL:v.default.parseURL,getWindowSize:v.default.getWindowSize,getNow:v.default.getNow,rAF:v.default.rAF,rAF_cancel:v.default.cAF,args:s,objectCheck:l,typeIs:u,isEmpty:c,isSupports:b,transitionEndEvent:y,shallowEqual:v.default.shallowEqual,shallowEqualScalar:d,getCursorPosition:f,setCursorPosition:m,contains:p,convertToLetter:h,cookie:E,cdnizer:v.default.cdnizerFactory(""),linkify:v.default.linkify,memo:v.default.memo,isPromise:v.default.isPromise},t.exports=n["default"]},function(t,n,a){t.exports=a(2)(471)},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return l.default.createElement("svg",o({viewBox:"0 0 10 13",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},t),l.default.createElement("path",{d:"M10.282 11.25c0 .362-.363.75-.842.75H.884c-.48 0-.88-.375-.88-.75l.012-5.36c0-.362.363-.75.842-.75h.854l.026-2.473C1.738 1.191 3.266 0 5.156 0c1.89 0 3.417 1.191 3.417 2.667V5.14h.842c.466 0 .88.375.88.75l-.013 5.36zM5.169 1.334c-.945 0-1.722.505-1.722 1.243v2.576h3.417l.013-2.576c-.013-.738-.763-1.243-1.708-1.243z",fill:"#535a61"}))}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};n.default=i;var s=a(19),l=r(s);t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return l.default.createElement("svg",o({viewBox:"0 0 8 16",fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2},t),l.default.createElement("path",{d:"M8 3.997A3.998 3.998 0 0 0 3.939 0C1.902.03.152 1.677.01 3.707a3.984 3.984 0 0 0 2.967 4.151h.003v5.635c0 .129.048.25.135.347l1.146 1.255a.283.283 0 0 0 .421 0l1.651-1.802a.316.316 0 0 0-.01-.437l-.843-.843a.344.344 0 0 1 0-.483l.908-.908a.445.445 0 0 0 0-.633L5.297 8.898a.558.558 0 0 1-.164-.396v-.663A4 4 0 0 0 8 3.997zM4 2.21c.567 0 1.027.457 1.027 1.02 0 .566-.46 1.02-1.027 1.02a1.02 1.02 0 0 1 0-2.04z",fill:"#535a61",fillRule:"nonzero"}))}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};n.default=i;var s=a(19),l=r(s);t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=(r(i),a(19)),s=r(o),l=a(23),u=r(l),c=a(17),d=a(27),f=r(d),m=s.default.createClass({displayName:"Background",mixins:[u.default,f.default],getInitialState:function(){return this.form=(0,c.getFormStructure)(),this.style=this.form.style,this.embed=(0,c.getEmbed)(),{}},_getBgStyle:function(){var t=this.style||{},n={};if(this.embed&&this.embed.inEmbed&&this.embed.opacityBg)return n;if(t.background)if(n.backgroundImage="url("+(this.isMobile()?t.optBackground:t.background)+")",n.backgroundRepeat="no-repeat",n.backgroundPositionX="center",n.backgroundPositionY="center",t.bgLayoutHorizontal!==t.bgLayoutVertical||3!==t.bgLayoutHorizontal&&4!==t.bgLayoutHorizontal){switch(t.bgLayoutHorizontal){case 3:n.backgroundRepeat="repeat-x";break;case 4:n.backgroundSize="100% auto";break;case 5:n.backgroundPositionX="left";break;case 7:n.backgroundPositionX="right";break;case 6:default:n.backgroundPositionX="center"}switch(t.bgLayoutVertical){case 3:n.backgroundRepeat="repeat-y";break;case 4:n.backgroundSize="auto 100%",n.backgroundPositionX=null,n.backgroundPositionY=null;break;case 8:n.backgroundPositionY="top";break;case 9:n.backgroundPositionY="bottom";break;case 6:default:n.backgroundPositionY="center"}}else 3===t.bgLayoutHorizontal&&(n.backgroundRepeat="repeat"),4===t.bgLayoutHorizontal&&(n.backgroundSize="cover");return n},render:function(){var t=1===this.style.backgroundFixed;return s.default.createElement("div",{className:t?"background-fixed":"background-normal",style:this._getBgStyle()})}});n.default=m,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=a(17),u=a(22),c=r(u),d=a(7),f=a(8),m=a(27),p=r(m),h=a(23),g=r(h),_=a(26),v=r(_),b="http://www.mikecrm.com/indexForm.php?ref=form",y=s.default.createClass({displayName:"Copyright",mixins:[p.default,g.default],getInitialState:function(){this.store=(0,l.getStore)();var t=this.form=(0,l.getFormStructure)();return this.tail=t.tail,this.style=t.style,this.organizationName=t.meta.orgName,this.renderQueue=Promise.resolve(!0),{updateCount:0}},componentDidMount:function(){this.unbind=(0,d.onResize)(this.handleResize)},componentWillUnmount:function(){this.unbind&&this.unbind()},handleResize:function(){var t=this;this.inResize||(this.inResize=!0,this.renderQueue=this.renderQueue.then(function(){return new Promise(function(n){t.inResize=!1,t.setState({updateCount:++t.state.updateCount%10}),n(!0)})}))},_renderBase:function(){var t=(0,f.grayLevel)(this.style.bgColor)<170,n=null;n=this.tail&&2===this.tail.copyrightType&&this.organizationName?(0,l.getLang)().gPoweredByWithCompanyFunc({company:this.organizationName}):(0,l.getLang)().gPoweredBy;var a={};return t&&(a={color:"#FFF",textShadow:"0 1px 4px rgba(0,0,0,0.3)"}),s.default.createElement("a",{className:"poweredBy",target:"_blank",rel:"noreferrer",href:b,key:"cpr"},s.default.createElement("span",{className:(0,c.default)("poweredBy_logo",{"poweredBy_light":t})}),s.default.createElement("span",{className:"poweredBy_title",style:i({maxWidth:(0,l.getFormDisplayWidth)()-100},a)},n))},renderNormal:function(){return this._renderBase()},renderSelfLogo:function(t){if(3===this.tail.copyrightType){var n=(0,f.grayLevel)(this.style.bgColor)<170,a=this.tail,r=a.companyLogo,i=a.companyLink,o=a.companyName,u=null,c=this.isMobile();c&&(u={maxWidth:(0,l.getFormDisplayWidth)(),width:"auto"});var d={};return n&&(d={color:"#FFF",textShadow:"0 1px 4px rgba(0,0,0,0.3)"}),s.default.createElement("div",{className:"pb_hasSelfLogo",style:u,key:"selfLogo"},s.default.createElement("div",{key:"company",className:"pb_companyInfo"},r?s.default.createElement("a",{className:"pb_companyLogoWrapper",target:"_blank",href:i,rel:"noreferrer"},s.default.createElement(v.default,{className:"pb_companyLogo",src:r})):null,o?s.default.createElement("p",{className:"pb_companyName"},s.default.createElement("a",{className:"pb_caLink",target:"_blank",href:i,rel:"noreferrer",style:d},o||"")):null),t?null:c?this._renderBase():s.default.createElement("a",{key:"mike",className:"pb_mikeLogo",target:"_blank",rel:"noreferrer",href:b}))}return t?null:this._renderBase()},render:function(){var t=(this.form.extensions||{}).nologo,n=null;return n=t?this.renderSelfLogo(!0):this.form.extensions.copyrightLogo?this.renderSelfLogo(!1):this.renderNormal(),s.default.createElement("div",{className:(0,c.default)("copyright",{"sm-display":this.isMobile()})},s.default.createElement("div",{className:(0,c.default)("c_main",{"is-noLogo":t})},n))}});n.default=y,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(19),o=r(i),s=a(27),l=r(s),u=a(23),c=r(u),d=a(22),f=r(d),m=a(17),p=a(8),h=a(26),g=r(h),v=a(7),b=a(81),y=r(b),E=a(86),C=a(87),T=r(C),S=a(38),M="http://www.mikecrm.com?ref=form",I=o.default.createClass({displayName:"FormLimitedError",mixins:[c.default,l.default],getInitialState:function(){return this.config=(0,m.getConfig)(),{wannaBuy:!1,confirmed_1:!1,confirmed_2:!1,confirmed_3:!1,prdPayVisible:!1}},openOneDayCDN:function(){this.setState({wannaBuy:!0})},onRefresh:function(){return this.config.isWx()?void(location.href=(0,p.forceFreshUrl)(this.config.getBaseURL())):void location.reload()},onConfirm_1:function(){this.setState({confirmed_1:!this.state.confirmed_1})},onConfirm_2:function(){this.setState({confirmed_2:!this.state.confirmed_2})},onConfirm_3:function(){this.setState({confirmed_3:!this.state.confirmed_3})},onBuyOneDayCDN:function(){var t=this.state,n=t.wannaBuy,a=t.confirmed_1,r=t.confirmed_2,i=t.confirmed_3,o=a&&r&&i;return o&&n&&this.setState({prdPayVisible:!0}),null},onClose:function(){this.setState({prdPayVisible:!1})},render:function(){var t=this.state,n=t.wannaBuy,a=t.confirmed_1,r=t.confirmed_2,i=t.confirmed_3,s=t.prdPayVisible,l=a&&r&&i,u=(0,m.getLang)();return o.default.createElement("div",{className:"err_form_limited"},o.default.createElement("div",{className:"err_item text limited",key:"tips"},o.default.createElement("p",{className:"err_title"},u.tLimitedTitle),o.default.createElement("p",{className:"err_blueTitle"},u.tLimitedSubTitle),o.default.createElement("p",{className:"err_subTitle hasMargin"},u.tLimitedDescribe,o.default.createElement("a",{className:"toWiki",target:"_blank",href:"http://wiki.mikecrm.com/cdn"},u.tTitleViewMore)),o.default.createElement("p",{className:"err_subTitle"},o.default.createElement("span",null,u.tLimitedGuide),o.default.createElement("span",{className:"err_stSupply"},u.tLimitedGuideBuy({buyLink:{className:"buyLink",onClick:this.openOneDayCDN}}))),n?o.default.createElement("div",{className:"fb_submitterBuy"},o.default.createElement("p",{className:"fb_sbTitle"},u.tCDNTitle),o.default.createElement("div",{className:"fb_sbContent"},o.default.createElement("div",{className:"fb_sbTips"},o.default.createElement("p",{className:"fb_sbtTitle"},"我已阅读并确认以下信息："),o.default.createElement("p",{className:(0,f.default)("fb_sbTip",{"checked":a}),onClick:this.onConfirm_1},o.default.createElement(E.BaseCheckButton,{className:"fb_sbTip_btn",active:a}),o.default.createElement("span",{className:"fb_sbTip_label"},"“专属访问资源”是在表单制作人不愿或暂未承担相应成本的情况下，麦客CRM产品提供的保障性服务，用于紧急情况下的表单访问与提交，与表单制作人无利益相关性。")),o.default.createElement("p",{className:(0,f.default)("fb_sbTip",{"checked":r}),onClick:this.onConfirm_2},o.default.createElement(E.BaseCheckButton,{className:"fb_sbTip_btn",active:r}),o.default.createElement("span",{className:"fb_sbTip_label"},"为避免纠纷，我们并不推荐您购买此访问资源，因为表单制作人可能设置了选项配额等限制性业务逻辑，麦客对此无法感知与预料。")),o.default.createElement("p",{className:(0,f.default)("fb_sbTip",{"checked":i}),onClick:this.onConfirm_3},o.default.createElement(E.BaseCheckButton,{className:"fb_sbTip_btn",active:i}),o.default.createElement("span",{className:"fb_sbTip_label"},"购买代表您清楚地知晓上述可能导致您最终并不能成功提交表单的风险，愿意自行承担此风险，并付出资金成本。"))),o.default.createElement("a",{className:(0,f.default)("fb_sbBtn",{"disabled":!l}),onClick:this.onBuyOneDayCDN},u.tCDNOneDayBtn),o.default.createElement("p",{className:"fb_sbPrice"},u.tCDNOneDayPrice),o.default.createElement("p",{className:"fb_sbDes"},u.tCDNOneDayDes[0]),o.default.createElement("p",{className:"fb_sbDes"},u.tCDNOneDayDes[1]))):o.default.createElement("p",{className:"err_subTitle"},u.tLimitedGuideUser),n?null:o.default.createElement("div",{className:"fb_ssItem button"},o.default.createElement("a",{className:"fbc_button orange fbc_open",href:"mailBuyCDN.php"},u.tLimitedOpen),o.default.createElement("a",{className:"fbc_button fbc_refresh",onClick:this.onRefresh},u.tFormRefresh))),o.default.createElement(T.default,{visible:s,onClickAway:_.noop,onClose:this.onClose}))}}),N=o.default.createClass({displayName:"HugeError",mixins:[c.default,l.default],childContextTypes:{updateEmbedContainer:o.default.PropTypes.func},getChildContext:function(){return{updateEmbedContainer:this.updateEmbedContainer}},getInitialState:function(){return this.form=(0,m.getFormStructure)(),this.store=(0,m.getStore)(),this.embed=(0,m.getEmbed)(),this.updateEmbedContainer=_.debounce(this._updateEmbedContainer,300),this.sld=this.form.sld,{updateCount:0}},componentDidMount:function(){this.unbind=(0,v.onResize)(this.handleResize),this.store.dispatch((0,S.CHECK_STYLE)()),this.updateEmbedContainer()},componentWillUnmount:function(){this.unbind&&this.unbind()},_updateEmbedContainer:function(){this.embed&&this.embed.inEmbed&&this.embed.contentHeight()},handleResize:function(){var t=this;this.setState({updateCount:++this.state.updateCount%10},function(){t.updateEmbedContainer()})},render:function(){var t=null,n=this.store.getState();switch(n.form.formStatus){case-51:t={image:window.rootPath("./images/form/err_encryption.png"),title:(0,m.getLang)().rErrEncryption,subTitle:(0,m.getLang)().rErrEncryptionDescribe};break;case-52:t={image:window.rootPath("./images/form/err_unExisted.png"),title:(0,m.getLang)().tUneExitForm,subTitle:(0,m.getLang)().tUneExitFormDescribe};break;case-801:t={image:window.rootPath("./images/form/err_banned.png"),title:(0,m.getLang)().tBannedForm,subTitle:(0,m.getLang)().tBannedFormDescribe};break;case-802:t={image:window.rootPath("./images/form/err_banned.png"),title:(0,m.getLang)().tFrozenForm,subTitle:(0,m.getLang)().tFrozenFormDescribe};break;case-805:t={image:window.rootPath("./images/form/err_banned.png"),title:(0,m.getLang)().tUnPublishForm,subTitle:(0,m.getLang)().tUnPublishFormDescribe};break;case-812:t={image:window.rootPath("./images/form/err_wrongSLD.png"),title:(0,m.getLang)().tBannedForm,subTitle:(0,m.getLang)().tBannedFormDescribe};break;case-888:t={image:window.rootPath("./images/form/err_sysUpdating.png"),title:(0,m.getLang)().tUpdatingTitle,subTitle:(0,m.getLang)().tUpdatingDescribe};break;case-840:t={image:window.rootPath("./images/form/err_limited.png"),content:o.default.createElement(I,null)};break;case-841:t={image:window.rootPath("./images/form/err_protect.png"),title:(0,m.getLang)().tFormProtect,subTitle:[o.default.createElement("span",{key:"c_1"},(0,m.getLang)().tFormProtectDescribe),o.default.createElement("br",{key:"g_1"}),o.default.createElement("span",{key:"c_2"},(0,m.getLang)().tFormProtectGuide({authCode:{className:"toWiki",onClick:function(){window.open("http://wiki.mikecrm.com/captcha")}}}))]};break;case-80013:t={image:window.rootPath("./images/form/err_wrongSLD.png"),title:(0,m.getLang)().ckiClosedTitle,subTitle:(0,m.getLang)().ckiClosedSubTitle};break;case-9999:var a=n.form.extData,r=a?a.errInfo:null;t={image:window.rootPath("./images/form/err_netError.png"),title:(0,m.getLang)().tSubmitErrorTitle,subTitle:[o.default.createElement("span",{key:"c_1"},(0,m.getLang)().tSubmitErrorFrontDescribe),o.default.createElement("br",{key:"g_1"}),o.default.createElement("span",{key:"c_2"},(0,m.getLang)().tSubmitErrorFrontGuide),o.default.createElement("br",{key:"g_2"}),r?o.default.createElement("span",{key:"errorInfo"},r.status?o.default.createElement("span",null,"[",o.default.createElement("strong",{title:r.statusText},r.status),200!==r.status?o.default.createElement("span",null," | "+r.statusText):null,"]"):null,r.responseText?" : "+r.responseText:null):null]}}return t?o.default.createElement("div",{className:(0,f.default)("error_wrapper",{"isMobile":this.isMobile()})},o.default.createElement("div",{className:"err_item image"},o.default.createElement(g.default,{className:"err_img",src:t.image})),t.title||t.subTitle?o.default.createElement("div",{className:"err_item text",key:"tips"},o.default.createElement("p",{className:"err_title"},t.title),o.default.createElement("p",{className:"err_subTitle"},t.subTitle)):null,t.content,o.default.createElement("div",{className:"copyright"},o.default.createElement("a",{className:"poweredBy_logo",target:"_blank",rel:"noreferrer",href:M})),o.default.createElement(y.default,{errorCode:n.form.formStatus})):(console.error("[RENDER ERROR] no fit err type:",n.form.formStatus),null)}});n.default=N,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=a(23),u=r(l),c=a(82),d=r(c),f=a(17),m=a(84),p=r(m),h=a(55),g=a(85),_=s.default.createClass({displayName:"ErrorAd",mixins:[u.default],getInitialState:function(){return this.deviceInfo=(0,f.getDeviceInfo)(),this.embed=(0,f.getEmbed)(),null},onDisplay:function(t){var n=this.props.errorCode;return p.default.display(i({position:n,isMobile:this.deviceInfo.isMobile&&!this.deviceInfo.os.tablet},t))},render:function(){var t=this.props.errorCode,n=(0,f.getMode)()===h.MODE_FILLING&&p.default.getPositionCode(t)&&(0,g.pltDisplay)();return n?s.default.createElement(d.default,{size:this.deviceInfo.isMobile&&!this.deviceInfo.os.tablet?"360*120":"800*180",overThrough:!0,position:t,inEmbed:this.embed&&this.embed.inEmbed,onDisplay:this.onDisplay}):null}});n.default=_,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(19),l=r(s),u=a(83),c=r(u),d=a(84),f=r(d),m={display:"block",position:"absolute",bottom:0,left:0,right:0,transform:"translateZ(0px)"},p=l.default.createClass({displayName:"DRunner",getInitialState:function(){return{load:!1}},componentDidMount:function(){var t=this;this.props.onDisplay&&(this.props.onDisplay({onFinish:this.props.onFinish}).then(function(n){if(t.isMounted()){var a=n(t.content);t.unlink=a.unlink}}),this.props.onLoad&&this.props.onLoad())},componentWillUnmount:function(){this.unlink&&this.unlink()},refContent:function(t){this.content=t},render:function(){return l.default.createElement("span",{ref:this.refContent,style:m})}}),h=l.default.createClass({displayName:"MAdDynamic",contextTypes:{updateEmbedContainer:l.default.PropTypes.func},getInitialState:function(){return{needHidden:!1,load:!!this.props.plt,plt:this.props.plt,failed:!1}},componentDidUpdate:function(){var t=this;!this.state.load||this.state.plt||this.state.failed||f.default.position(this.props.position).then(function(n){n?t.setState({plt:n}):t.setState({failed:!0})})},handleFinish:function(){var t=this;this.setState({needHidden:!0},function(){t.props.onFinish&&t.props.onFinish(),t.context.updateEmbedContainer&&t.context.updateEmbedContainer()})},handleLoad:function(){var t=this;this.setState({load:!0},function(){t.props.onLoad&&t.props.onLoad(),t.context.updateEmbedContainer&&t.context.updateEmbedContainer()})},render:function(){var t=this.state,n=t.plt,a=(t.load,t.needHidden),r=t.failed,s=this.props,u=s.style,d=s.onDisplay,m=(s.onLoad,s.onFinish,i(s,["style","onDisplay","onLoad","onFinish"])),h=n?f.default.getHref(n):null;if(r)return null;var g=r||!n,_=o({},u||{}),v={};return a&&(v.overflow="hidden"),n||(_.height=1,_.visibility="hidden",_.margin=0),l.default.createElement(c.default,o({style:_,contentStyle:v,href:h,hidden:g},m),l.default.createElement(p,{onFinish:this.handleFinish,onDisplay:d,onLoad:this.handleLoad}))}});n.default=h,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n._GG_IMG=void 0;var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=a(6),l=r(s),u=a(19),c=r(u),d=a(20),f=r(d),m=a(23),p=r(m),h=function(){return(+(""+(Math.random()*Math.random()*2222>>>0)+ +new Date)).toString(36)},g=n._GG_IMG="data:image/svg+xml,%3Csvg viewBox='0 0 78 24' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='2'%3E%3Cpath d='M78 0H12C5.377 0 0 5.377 0 12v12h66c6.623 0 12-5.377 12-12V0z' fill='%235d5d5d' fill-opacity='.2'/%3E%3Cg fill='%23fff' fill-rule='nonzero'%3E%3Cpath d='M48.107 6.63h-2.246c1.029-.568 1.029-2.561-2.527-2.622l-.11.076c.515.598 1.03 1.518 1.17 2.408a.806.806 0 0 0 .25.138h-3.416l-2.824-.905v4.83c0 2.637-.062 5.627-1.404 7.943l.109.092c3.557-2.086 3.76-5.444 3.76-8.035V7.059h10.218c.234 0 .405-.077.452-.245-.795-.736-2.199-1.871-2.199-1.871L48.107 6.63zM57.186 16.781v-3.682h5.648v3.682h-5.648zm5.476-4.109h-5.335l-2.356-.89v6.791h.312c.921 0 1.903-.475 1.903-.674v-.69h5.648v1.211h.39c.733 0 1.856-.383 1.872-.491v-4.446c.358-.077.561-.23.67-.353l-2.09-1.548-1.014 1.09zm1.42-2.423h-2.855V7.365h4.571c.234 0 .405-.077.452-.245-.811-.704-2.184-1.732-2.184-1.732l-1.217 1.549h-1.622v-2.27c.437-.062.546-.218.577-.435L58.887 4v2.937h-2.122c.359-.567.655-1.135.889-1.702.359 0 .546-.154.609-.338l-2.917-.774c-.219 1.94-.796 4.224-1.638 5.651l.171.122c1.045-.644 1.919-1.549 2.605-2.531h2.403v2.884H52.74l.125.428h14.087c.234 0 .406-.077.452-.245-.78-.704-2.137-1.748-2.137-1.748l-1.185 1.565z'/%3E%3C/g%3E%3Cpath d='M24.476 12.048l4.542 6.928h3.086L28.447 5.791l-3.971 6.257zM9 19l2.405-.028 3.214-3.353-3.667-5.048L9 19z' fill='%23fff' fill-rule='nonzero'/%3E%3Cpath d='M17.786 12.357l-1.929-2.786-.011 2.552 1.94.234z' fill='%234cdb3b'/%3E%3Cpath d='M17.926 13.752l-.164-1.407-1.901-.234 2.065 1.641z' fill='%2300d670'/%3E%3Cpath d='M18.524 19l-.598-5.248-2.069-1.629L18.524 19z' fill='%2300b158' fill-rule='nonzero'/%3E%3Cpath d='M24.619 5l-6.826 7.317 4.625-2.262L24.619 5z' fill='%2353a8f5' fill-rule='nonzero'/%3E%3Cpath d='M17.922 13.709l-.16-1.376 4.656-2.278-.001.001-4.495 3.653z' fill='%234cb8f3'/%3E%3Cpath d='M17.922 13.71l.602 5.29 3.893-8.944-4.495 3.654z' fill='%230089de' fill-rule='nonzero'/%3E%3Cpath d='M18.524 19l5.861-8.679-1.973-.257L18.524 19z' fill='%230071c0' fill-rule='nonzero'/%3E%3Cpath d='M24.619 5l-.282 5.432L28.048 5h-3.429z' fill='%234a40bc' fill-rule='nonzero'/%3E%3Cpath d='M22.429 10.059l1.968.274.222-5.327-2.19 5.053z' fill='%236a61ce' fill-rule='nonzero'/%3E%3Cpath d='M14.819 14.17L18.524 19l-2.678-6.889-1.027 2.059z' fill='%23fac200' fill-rule='nonzero'/%3E%3Cpath d='M11.286 9.571l2.952 1.334 1.619-1.334h-4.571z' fill='%23fe6f65'/%3E%3Cpath d='M14.804 14.202l-.566-3.297 1.608 1.206-1.042 2.091z' fill='%23f67800'/%3E%3Cpath d='M15.857 9.571v2.54l-1.619-1.206 1.619-1.334z' fill='%23f99b49'/%3E%3Cpath d='M11.286 9.571l2.952 1.334.55 3.234-3.502-4.568z' fill='%23fc3930'/%3E%3C/svg%3E",_=[],v=l.default.debounce(function(e){l.default.forEach(_,function(t){l.default.isFunction(t)&&t(e)}),setTimeout(function(){l.default.forEach(_,function(t){l.default.isFunction(t)&&t(e)})},600)},300);"onresize"in window&&window.addEventListener("resize",v),"onorientationchange"in window&&window.addEventListener("orientationchange",v);var b=function(t){var n=_.length;return l.default.isFunction(t)?(_.push(t),n):-1},y=function(t){t>-1&&(_=_.slice(),_.splice(t,1))},E=c.default.createClass({displayName:"MAd",mixins:[p.default],getDefaultProps:function(){return{size:"720*100"}},getInitialState:function(){var t=this.className="g"+h(),n=this.props,a=n.size,r=n.position,i=n.overThrough,o=n.inEmbed;
return this.unStyled=this.styled(t,{size:a,position:r,overThrough:i,inEmbed:o}),this._measureIdx=null,{display:!0,height:null}},styled:function(t,n){var a=this,r="styled_"+t,i=(n.size||"").split("*"),s=o(i,2),u=s[0],c=s[1];this.ratio=u/c;var d=null,f=document.head||document.getElementsByTagName("head")[0],m=document.createElement("style");if(d=n.overThrough?["."+t+" { width:100%; margin-left:auto; margin-right: auto; margin-bottom: 20px; margin-top:10px; position: relative; "+(n.inEmbed?"":"position: sticky; bottom: 10px; ")+"transform: translateZ(1px) }","."+t+"c { display: block; max-width: 100%; max-height: 100%; margin: 0 auto; }"]:["."+t+" { max-width: "+ +u+"px; max-height: "+ +c+"px; margin-left:auto; margin-right: auto; margin-bottom: 20px; margin-top:10px; position: relative; "+(n.inEmbed?"":"position: sticky; bottom: 10px; ")+"}","."+t+"w { display: block; height: 100%; position: relative }","."+t+"c { display: block; width: 100%; height: 100%; }"],d.push("."+t+'tag { position:absolute; right: 0; bottom: 0; font-size: 12px; padding: 2px; transform-origin: right bottom; background-image: url("'+g+'"); background-size: contain; width:26px; height:8px; background-repeat: no-repeat; }'),this._baseStyle=d.join(" "),this._measureStyle=[],this.needSizeMeasure=!0,n.position)switch(n.position){case"afterSubmit":d.push("."+t+" { margin-top: 32px; margin-bottom: 12px; }");break;case"error":d.push("."+t+" { margin-top: 5px; margin-bottom: 8px; }")}return m.type="text/css",m.id=r,f.appendChild(m),m.styleSheet?m.styleSheet.cssText=d.join(" "):l.default.forEach(d,function(t){m.appendChild(document.createTextNode(t))}),this._style=m,function(){f.removeChild(m),m=a._style=null}},styleMeasure:function(){var t=this,n=this.props,a=n.overThrough,r=n.position,i=n.hidden,s=n.sticky;if(!i){var u=(this.props.size||"").split("*"),c=o(u,2),d=c[0],m=(c[1],f.default.findDOMNode(this.ad)),p=m.offsetLeft,h=m.parentNode.clientWidth-m.clientWidth-m.offsetLeft,g=Math.min(m.parentNode.clientWidth,d);if(this._style){var _=["."+this.className+" { height: "+Math.round(g/this.ratio)+"px; }","."+this.className+"w { display: block; position: absolute; left: "+(a?-p:0)+"px; right: "+(a?-h:0)+"px; top: 0; height: "+Math.round(g/this.ratio)+"px; text-align: center; max-width: "+g+"px; margin: 0 auto; }"];2===r&&s&&_.push(".submitWrapper_sticky {bottom: "+Math.round(g/this.ratio)+"px; box-shadow: none; }"),this._style.styleSheet?(this._baseStyle||(this._baseStyle=this._style.styleSheet.cssText),this._style.styleSheet.cssText=this._baseStyle+_.join(" ")):(this._measureStyle&&this._measureStyle.length>0&&(l.default.forEach(this._measureStyle,function(n){t._style.removeChild(n)}),this._measureStyle=[]),l.default.forEach(_,function(n){var a=document.createTextNode(n);t._measureStyle.push(a),t._style.appendChild(a)}))}}},componentDidMount:function(){this.needSizeMeasure&&(this.styleMeasure(),this._measureIdx=b(this.styleMeasure.bind(this)))},componentDidUpdate:function(){this.needSizeMeasure&&this.styleMeasure()},componentWillUnmount:function(){this.unStyled&&this.unStyled(),null!=this._measureIdx&&y(this._measureIdx),this._measureIdx=null},handleError:function(){this.setState({display:!1})},_refAd:function(t){this.ad=t},renderContent:function(){var t=this.props,n=t.src,a=t.href,r=t.contentStyle,i=t.children,o=null;return o=i?i:c.default.createElement("img",{className:this.className+"c",src:n,onError:this.handleError}),c.default.createElement("a",{className:this.className+"w",href:a,target:"_blank",style:r},o)},render:function(){var t=this.state,n=t.display,a=t.height,r=this.props.style;return c.default.createElement("div",{className:this.className,style:i({display:n?null:"none",height:a},r),ref:this._refAd},n?this.renderContent():null,c.default.createElement("span",{className:this.className+"tag"}))}});n.default=E},function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},i="210719",o=function(){},s="https://cdnq2plt.mikecrm.com/",l="https://plt.mikecrm.com/runtime/",u=function(t,n){return new Promise(function(a,r){var i=new XMLHttpRequest;i.open("POST",t,!0),i.withCredentials=!0,i.setRequestHeader("Accept","application/json, text/javascript, */*; q=0.01"),i.setRequestHeader("Content-type","application/x-www-form-urlencoded; charset=UTF-8"),i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE&&200===i.status)if(i.responseText)try{a(JSON.parse(i.responseText))}catch(t){r(t)}else a(null)};var o=[];for(var s in n)n.hasOwnProperty(s)&&n[s]&&o.push(s+"="+n[s]);i.send(o)})},c={},d=function(t,n,a){var r=void 0;if(n&&n.trim&&(r=n),r&&r in c)return c[r];var i=function t(n,a,r,i){var o=3,s=r,l=window.document,e=l.createElement("script");e.type="text/javascript",e.charset="utf-8",e.src=n,e.async=!a||(void 0===a.async||a.async),e.onload=e.onerror=function(r){var u=r.type[0];return"e"===u&&(s+=1,l.head.removeChild(e),s<=o)?t(n,a,s,i):void i(n,u,r.defaultPrevented)},l.head.appendChild(e)},o=new Promise(function(n,r){i(t,a,0,function(t,a){"l"===a?n(!0):r()})});return r&&(c[r]=o),o},f=function(t){return h[t]},m=function(t){if(1===t)return"VST";if(2===t)return"VST";if(0===t)return"SMTTED";switch(t){case-801:case-802:case-804:case-822:case-823:case-824:case-825:case-826:case-827:case-840:return"VSTERR."+Math.abs(t)}return null},p=function(t){var n=/micromessenger/i.test(window.navigator.userAgent);return{"SYS.ENV.WC":n?"1":"0"}}(),h={},g={},v=function(t){return!1},b=function(){return d(s+"plt.js?v="+i,"plt")},y=function(t,n,a){n&&_.forEach(t.getPayloadList(n.pu,n.u,a),function(n){var a="",r=null;n.match(/\.js$/)?a="script":n.match(/\.json$/)?(a="fetch",r="anonymous"):n.match(/\.(png|jpg)$/)&&(a="image",r="anonymous"),t.preload(""+s+n+("image"===a?"":"?v="+i),a,r)})},E=function(t){var n=t.position,a=t.isMobile,i=m(n);i&&(h[i]=b().then(function(){return u(l+"preload_pos.php",{d:JSON.stringify({cvs:r({"SYS.POS":i},p)})})}).then(function(t){return PLT?(y(PLT,t,a),t):null}).catch(function(t){return console.error(t),null}))},C=function(t){var n=t.position,a=t.isMobile,r=t.onFinish,c=m(n);return f(c).then(function(t){if(t){if(v(c))return null;g[c]=!0;var n=function(){u(l+"disp_pos.php",{d:JSON.stringify({cvs:{u:t.u,"SYS.POS":c}})})},d=new window.PLT.Render(1,t.pu,t.u,{version:i,host:s,onStart:n,onFinish:r||o});return function(t){return d.render(t,{href:location.href,isMobile:a})}}return null})},T=function(t){var n=t.position,a=t.isMobile,c=t.onFinish,d=m(n);if(d)return h[d]=b().then(function(){return u(l+"ldisp_pos.php",{d:JSON.stringify({cvs:r({"SYS.POS":d},p)})})}).then(function(t){return v(d)?null:(g[d]=!0,PLT&&t?(y(PLT,t,a),t):null)}).catch(function(t){return console.error(t),null}),h[d].then(function(t){if(t){var n=new window.PLT.Render(1,t.pu,t.u,{version:i,host:s,onFinish:c||o});return function(t){return n.render(t,{href:location.href,isMobile:a})}}return function(){return{}}})},S=function(t){var n=m(t);return Promise.resolve(f(n))},M=function(t){return l+"visit.php?u="+t.u};n.default={position:S,getPositionCode:m,getHref:M,prepare:E,displayPrepared:C,display:T},t.exports=n["default"]},function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.getFillingPosition=n.pltDisplayRInView=n.pltDisplayInView=n.pltDisplay=void 0;var r=a(17),i=a(55),o=n.pltDisplay=function(){var t=(0,r.getFormStructure)(),n=t.tail,a=t.extensions.nologo,i=t.extensions.copyrightLogo;return!(!window._PLT||!window._PLT[0]||i&&3===n.copyrightType||a)},s=n.pltDisplayInView=function(){return o()&&window._PLT[1]},l=function(t){return 1e3*Math.random()<=(t||200)},u=n.pltDisplayRInView=function(){return o()&&l(window._PLT[2])};n.getFillingPosition=function(){var t=(0,r.getFormStructure)();if(t.settings.isOnlyWeChat&&!(0,r.getConfig)().isWx())return null;if((0,r.getMode)()===i.MODE_PREVIEW)return null;if(s())return 2;var n=!1,a=0,o=t.tail.isHideBtn;return _.forEach(t.components,function(t){(0,i.isFillingComponent)(t)&&a++,"button"===(0,i.getComponentType)(t)&&t&&t.btnAction&&1===+t.btnAction&&(o=!0)}),o||(n=!0),n||0!==a||t.components&&!(Object.keys(t.components).length<5)||(n=!0),n&&u()?1:null}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(22),o=r(i),s=a(19),l=r(s),u=a(23),c=r(u),d=l.default.createClass({displayName:"BaseRadio",mixins:[c.default],getStyle:function(t){var n=this.props,a=n.active,r=n.disabled;if(t&&t.default){var i=t.default;return r&&t.disabled?i=_.assign({},i,t.disabled):t.active&&a&&(i=_.assign({},i,t.active)),i}return t},render:function(){var t=this.props,n=t.className,a=t.active,r=t.disabled,i=t.style,s="bb-radio";return l.default.createElement("span",{className:(0,o.default)(s,{"active":a,"disabled":r},n),style:this.getStyle(i),role:"radio","aria-checked":!!a,"aria-disabled":r},l.default.createElement("svg",{className:s+"-inner"},l.default.createElement("circle",{cx:"4",cy:"4",r:"4",fill:"none"})))}}),f=l.default.createClass({displayName:"BaseCheckbox",mixins:[c.default],getStyle:function(t){var n=this.props,a=n.active,r=n.disabled;if(t&&t.default){var i=t.default;return r&&t.disabled?i=_.assign({},i,t.disabled):t.active&&a&&(i=_.assign({},i,t.active)),i}return t},render:function(){var t=this.props,n=t.className,a=t.active,r=t.disabled,i=t.style,s="bb-checkbox";return l.default.createElement("span",{className:(0,o.default)(s,{"active":a,"disabled":r},n),style:this.getStyle(i),role:"checkbox","aria-checked":!!a,"aria-disabled":r},l.default.createElement("svg",{className:s+"-inner",viewBox:"0 0 24 24"},l.default.createElement("path",{className:s+"-check",fill:"none",stroke:"white",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})))}}),m=l.default.createClass({displayName:"BaseCheckButton",mixins:[c.default],getStyle:function(t){var n=this.props,a=n.active,r=n.disabled;if(t&&t.default){var i=t.default;return r&&t.disabled?i=_.assign({},i,t.disabled):t.active&&a&&(i=_.assign({},i,t.active)),i}return t},render:function(){var t=this.props,n=t.className,a=t.active,r=t.disabled,i=t.style,s="bb-check-button";return l.default.createElement("span",{className:(0,o.default)(s,{"active":a,"disabled":r},n),style:this.getStyle(i),role:"radio","aria-checked":!!a,"aria-disabled":r},l.default.createElement("svg",{className:s+"-inner",viewBox:"0 0 24 24"},l.default.createElement("path",{className:s+"-check",fill:"none",stroke:"white",d:"M1.73,12.91 8.1,19.28 22.79,4.59"})))}});n.default={BaseRadio:d,BaseCheckbox:f,BaseCheckButton:m},t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(19),l=r(s),u=a(22),c=r(u),d=a(28),f=r(d),m=a(37),p=r(m),h=a(33),g=r(h),v=a(36),b=a(60),y=r(b),E=a(23),C=r(E),T=a(88),S=r(T),M=a(17),I=a(89),N=a(55),A=a(8),x=a(93),k=a(62),D=r(k),O=a(66),P=(a(94),(0,f.default)((0,p.default)(g.default))),L=l.default.createClass({displayName:"PrdPaying",mixins:[C.default],getInitialState:function(){return null},componentDidMount:function(){this.props.store.dispatch((0,I.PRD_CHECK)())},handleForgoPayment:function(e){this.props.store.dispatch((0,I.PRD_CANCEL)()),this.props.onCancel&&this.props.onCancel(e)},renderPaymentContent:function(){var t=this.props,n=t.paymentRes,a=t.paymentMethod;return l.default.createElement(D.default,{type:a,onForgoPayment:this.handleForgoPayment,prdMode:!0,cashier:n})},render:function(){var t=this.props,n=t.paymentRes,a=t.prdList,r=t.prdSelected,i=a?_.find(a,{prdId:r}):null,o=(0,M.getLang)();return l.default.createElement("div",{className:"pay_online"},l.default.createElement("div",{className:"pay_orderInfo"},l.default.createElement("p",{className:"pay_oNo"},l.default.createElement("span",{className:"title"},o.cPayOrderNo),l.default.createElement("span",{className:"orderNo"},n._DNT)),l.default.createElement("p",{className:"pay_oPrice"},l.default.createElement("span",{className:"title"},o.cPayNeedPay),l.default.createElement(y.default,{className:"price",symbol:"￥",price:(i.prdPrice||{})[1]}))),this.renderPaymentContent(),l.default.createElement("p",{className:"pay_operate"},l.default.createElement(v.BaseBtn,{className:"pay_oOtherMode",onClick:this.handleForgoPayment},o.cPayChooseOtherMethod),l.default.createElement(v.BaseBtn,{className:"pay_oAlterOrder",onClick:this.handleForgoPayment},o.cPayAlterOrder)))}}),w=l.default.createClass({displayName:"PrdItem",mixins:[C.default],render:function(){var t=this.props,n=t.active,a=t.loading,r=t.info;return l.default.createElement(v.BaseBtn,{component:"div",className:(0,c.default)("fb_sbpItem",{active:n})},l.default.createElement("p",{className:(0,c.default)("fb_sbpiPrice")},l.default.createElement("span",{className:(0,c.default)({"skeleton_mode":a})},r?l.default.createElement(y.default,{symbol:"￥",price:(r.prdPrice||{})[1]}):"￥ 0.00")),l.default.createElement("p",{className:(0,c.default)("fb_sbpiName")},l.default.createElement("span",{className:(0,c.default)({"skeleton_mode":a})},r?r.prdName:"prd name")))}}),R=l.default.createClass({displayName:"PopPrdPay",mixins:[C.default],getInitialState:function(){return this.config=(0,M.getConfig)(),this.store=S.default.init(),this.store.getState()},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.onStateChange)},componentDidUpdate:function(t){!this.props.visible&&t.visible?this.store.dispatch((0,I.RESET)()):!this.props.visible||t.visible||this.state.prdInfo||this.store.dispatch((0,I.PRD_PREPARE)({prdGrId:48}))},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe(),this.store.close()},onStateChange:function(){var t=this.store.getState();this.setState(t)},onChangePaymentMethod:function(e,t){this.store.dispatch((0,I.CHANGE_PRD_PAY_METHOD)({paymentMethod:t.id}))},onPayment:function(){this.store.dispatch((0,I.PRD_PAY)())},onFinishPaidClose:function(){var t=this.props.onClose;return this.config.isWx()?void(location.href=(0,A.forceFreshUrl)(this.config.getBaseURL())):(location.reload(),void(t&&t()))},_renderPrd:function(){var t=this,n=this.state,a=n.prdInfo,r=n.prdList,i=n.prdSelected,o=n.paymentMethod,s=n.prdError,u=(0,M.getLang)();if(s){var d=this.props.onClose,f=null;switch(s){case-804:f=u.tStoppedForm;break;default:f="["+s+"] ERROR!"}return l.default.createElement("div",{className:"pay_error"},l.default.createElement("p",{className:"pay_errTips"},f),l.default.createElement("div",{className:"pay_operate"},l.default.createElement(v.BaseBtn,{className:"btn_normal btn_close",onClick:d},u.cPayKnowIt)))}var m=null,p=r?_.find(r,{prdId:i}):null;return p&&i&&(m=p.prdNo),l.default.createElement("div",{className:"fb_sbPop"},l.default.createElement("p",{className:(0,c.default)("fb_sbpName")},l.default.createElement("span",{className:(0,c.default)({"skeleton_mode":!a})},a?a.name:"loading name")),l.default.createElement("p",{className:(0,c.default)("fb_sbpNo")},l.default.createElement("span",{className:(0,c.default)({"skeleton_mode":!a})},m||"  ")),l.default.createElement("div",{className:"fb_sbpList"},r?_.map(r,function(t){return l.default.createElement(w,{key:"prd"+t.prdId,info:t,active:t.prdId===i})}):l.default.createElement(w,{loading:!0,key:"loading"})),l.default.createElement("ul",{className:"fb_paymentMethod"},_.map((0,N.SUPPORT_PAYMENT_METHOD)(),function(n){return[1,2].indexOf(n.id)===-1?null:((0,A.inIframe)()||t.config.isWx()||T.isInQQ)&&1===n.id?null:l.default.createElement(x.PayMethod,{className:"fb_pmItemNum2",frozen:!a,key:"pay"+n.id,data:n,active:o===n.id,onClick:t.onChangePaymentMethod})})),l.default.createElement("div",{className:"fb_sbpOperate"},l.default.createElement(v.BaseBtn,{className:"btn_normal orange",onClick:this.onPayment,loading:!a,disabled:!a},u.tGoToPay)))},renderContent:function(){var t=this.props.onClose,n=this.state,a=n.step,r=n.paymentRes;switch(a){case T._STEP_PRD:return this._renderPrd();case T._STEP_PAID:return l.default.createElement(O.IFPSNormal,{isPrd:!0,payment:r,onClose:this.onFinishPaidClose});case T._STEP_PAYING:return l.default.createElement(L,o({},this.state,{store:this.store,onCancel:t}))}},render:function(){var t=this.props,n=t.className,a=t.onClose,r=i(t,["className","onClose"]),s=this.state.step,u=(0,M.getLang)(),d=u.tCDNOneDayBtn;return s===T._STEP_PAYING&&(d=u.cPayOnlineTitle),l.default.createElement(P,o({className:(0,c.default)("cp-popwin","sys-popwin",n)},r),l.default.createElement("div",{className:"cp-popBox prd-pay"},l.default.createElement("div",{className:"pop-header"},l.default.createElement("p",{className:"pop-title"},u.tCDNOneDayBtn),l.default.createElement("a",{className:"iconfont pop_close",onClick:a},String.fromCharCode(58982))),this.renderContent()))}});n.default=R,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}function o(){var t,n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,m.take)(f._PRD_PREPARE);case 3:return t=r.sent,r.next=6,(0,m.call)(p.getFormStructure);case 6:return n=r.sent,r.next=9,(0,m.call)(h.prepareProduction,{t:n.token,pgi:t.prdGrId});case 9:return a=r.sent,r.next=12,(0,m.put)((0,f.PRD_PREPARE_FIN)({res:a}));case 12:r.next=0;break;case 14:case"end":return r.stop()}},b,this)}function s(){var t,n,a,r,o,s,l;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=3,(0,m.take)(f._PRD_PAY);case 3:return t=u.sent,u.next=6,(0,m.get)();case 6:return n=u.sent,u.next=9,(0,m.call)(p.getFormStructure);case 9:return a=u.sent,r=_.default.find(n.prdList,{prdId:n.prdSelected}),u.next=13,(0,m.call)(h.buyProduct,{p:n.prdSelected,c:1,a:r?(r.prdPrice||{})[1]:null,m:n.paymentMethod,d:v.deviceInfo.isFuzzyMobile?2:1,ext:{frToken:a.token}});case 13:if(o=u.sent,0!==o.r){u.next=20;break}return s=o.r,l=i(o,["r"]),u.next=18,(0,m.put)((0,f.PRD_PAY_SUCCEED)({data:l}));case 18:u.next=22;break;case 20:return u.next=22,(0,m.put)((0,f.PRD_PAY_FAILED)({data:o}));case 22:u.next=0;break;case 24:case"end":return u.stop()}},y,this)}function l(t,n){var a,r,i,o,s;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,a=!1,r=1500,i=0;case 2:if(a){l.next=15;break}return l.next=5,(0,m.delay)(r*(1+ ++i%2));case 5:return l.next=7,(0,m.call)(h.checkPaymentStatus,{t:t,n:n});case 7:if(o=l.sent,0!==o.r||1!==+o.dn){l.next=13;break}return s={isFin:1===+o.dn,isSuccess:1===+o.sc,message:o.msg||null},l.next=12,(0,m.put)((0,f.PRD_FINISH_PAY)({data:s}));case 12:a=!0;case 13:l.next=2;break;case 15:return l.prev=15,l.next=18,(0,m.cancelled)();case 18:if(!l.sent){l.next=19;break}case 19:return l.finish(15);case 20:case"end":return l.stop()}},E,this,[[0,,15,20]])}function u(){var t,n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,m.take)(f._PRD_CHECK);case 3:return r.next=5,(0,m.get)();case 5:if(t=r.sent,n=t.paymentRes,!n._DMWT||!n._NODE){r.next=15;break}return r.next=10,(0,m.fork)(l,n._DMWT,n._NODE);case 10:return a=r.sent,r.next=13,(0,m.take)(f._PRD_CANCEL);case 13:return r.next=15,(0,m.cancel)(a);case 15:r.next=0;break;case 17:case"end":return r.stop()}},C,this)}function c(t){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,m.all)([(0,m.fork)(o),(0,m.fork)(s),(0,m.fork)(u)]);case 2:case"end":return t.stop()}},T,this)}Object.defineProperty(n,"__esModule",{value:!0}),n._STEP_PAID=n._STEP_PAYING=n._STEP_PRD=n.isInQQ=void 0;var d=a(39),f=a(89),m=a(42),p=a(17),h=a(90),g=a(6),_=r(g),v=a(8),b=regeneratorRuntime.mark(o),y=regeneratorRuntime.mark(s),E=regeneratorRuntime.mark(l),C=regeneratorRuntime.mark(u),T=regeneratorRuntime.mark(c),S=(n.isInQQ=navigator.userAgent.match(/QQ\//i),n._STEP_PRD=1),M=n._STEP_PAYING=2,I=n._STEP_PAID=3,N={paymentMethod:2,step:S,paymentRes:null,prdError:null,prdInfo:null,prdList:null,prdSelected:null},A=function(t){var n=t,a=[];return _.default.forEach(n.p.l,function(t){var n=_.default.zipObject(["prdId","prdNo","prdName","prdPriceCn","prdPriceEn"],t);n.prdPrice={1:n.prdPriceCn,2:n.prdPriceEn},a.push(n)}),{prdGrName:n.p.mt,prdList:a}},x=function(t,n){var a={};switch(n.type){case f._PRD_PREPARE:break;case f._PRD_PREPARE_FIN:var r=n.res;if(r)if(0===r.r){var i=A(r);a.prdInfo={name:i.prdGrName},a.prdList=i.prdList,a.prdSelected=i.prdList[0].prdId,a.prdError=null}else a.prdError=r.r;break;case f._CHANGE_PRD_PAY_METHOD:a.paymentMethod=n.paymentMethod;break;case f._PRD_PAY_FAILED:a.paymentRes=null,a.prdError=n.data.r;break;case f._PRD_PAY_SUCCEED:a.paymentRes=n.data,a.step=M,a.prdError=null;break;case f._PRD_FINISH_PAY:if(n.data.isFin)if(n.data.isSuccess){if(n.data.message&&n.data.message.d.fcdnex){var o=(0,v.getCookie)("fcdnex"),s=[n.data.message.d.fcdnex];o&&(s=[].concat(s,o.split(";")));for(var l=[],u=0,c=s.length;u<c;u++)s[u]&&l.indexOf(s[u])===-1&&l.push(s[u]);l.length>100&&(s=l.slice(0,100)),(0,v.setCookie)("fcdnex",s.join(";"),{expires:1}),(0,v.setCookie)("fcdnex",s.join(";"),{domain:v._COOKIE_STATIC.DOMAIN,expires:1,path:"/"})}a.step=I}else a.step=S,a.prdError="-2 : "+n.data.message;break;case f._RESET:a=N}return _.default.isEmpty(a)?t:_.default.assign({},t,a)},k=function(){var t=(0,d.createStore)(N,x,{LEGAL_CATEGORIES:[f.PRD_PAY_CATEGORY]});return t.runSaga(c,t.dispatch),t};n.default={init:k}},function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.PRD_CHECK=n.PRD_CANCEL=n.PRD_FINISH_PAY=n.PRD_PAY_FAILED=n.PRD_PAY_SUCCEED=n.PRD_PAY=n.CHANGE_PRD_PAY_METHOD=n.PRD_PREPARE_FIN=n.PRD_PREPARE=n.RESET=n._PRD_CHECK=n._PRD_CANCEL=n._PRD_FINISH_PAY=n._PRD_PAY_FAILED=n._PRD_PAY_SUCCEED=n._PRD_PAY=n._CHANGE_PRD_PAY_METHOD=n._PRD_PREPARE_FIN=n._PRD_PREPARE=n._RESET=n.PRD_PAY_CATEGORY=void 0;var r=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},i=a(39),o=n.PRD_PAY_CATEGORY="_PRD_PAY",s=function(t){return"PRD_P_"+t},l=function(t){return(0,i.handleAction)(t,o)},u="_succeed",c="_failed",d="_fin",f=function(t){return function(n){return l(r({type:t},n))}},m=n._RESET=s("reset"),p=n._PRD_PREPARE=s("prd_prepare"),h=n._PRD_PREPARE_FIN=p+d,g=n._CHANGE_PRD_PAY_METHOD=s("change_p_pay_method"),_=n._PRD_PAY=s("prd_pay"),v=n._PRD_PAY_SUCCEED=_+u,b=n._PRD_PAY_FAILED=_+c,y=n._PRD_FINISH_PAY=s("prd_finish_pay"),E=n._PRD_CANCEL=s("prd_cancel"),C=n._PRD_CHECK=s("prd_check");n.RESET=f(m),n.PRD_PREPARE=f(p),n.PRD_PREPARE_FIN=f(h),n.CHANGE_PRD_PAY_METHOD=f(g),n.PRD_PAY=f(_),n.PRD_PAY_SUCCEED=f(v),n.PRD_PAY_FAILED=f(b),n.PRD_FINISH_PAY=f(y),n.PRD_CANCEL=f(E),n.PRD_CHECK=f(C)},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0}),n.mbrmPreRegister=n.mbrmLogin=n.getMbrmAuthCode=n.getMbrmBalance=n.getLoginAccountNextStep=n.checkPaymentStatus=n.checkIn=n.submit=n.checkCaptcha=n.generateCaptcha=n.checkRawData=n.getAndRefreshWeChatAuthData=n.getCtcfCnIdLocation=n.getLocationStructureData=n.getLocationByTyping=n.getLocation=n.verifyMobileAuthCode=n.generateMobileAuthCode=n.buyProduct=n.prepareProduction=n.verifyVisitPass=n.generateQRCode=n.getUrl=void 0;var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(6),l=r(s),u=a(91),c=r(u),d=function(t,n){var a={url:t,type:"POST",dataType:"json"};return new Promise(function(t,r){c.default.ajax(l.default.assign({mode:"abort"},a,n)).then().fail(function(a){if("abort"===a.statusText)return void r(null);var i={r:-2};n.onErrorResolve&&(i=n.onErrorResolve(a)),t(i)}).done(function(n){return t(n)})})},f=function(t,n){var a={url:t,type:"GET",dataType:"json"};return new Promise(function(t,r){c.default.ajax(l.default.assign({mode:"abort"},a,n)).then().fail(function(t){r(t)}).done(function(n){return t(n)})})},m="handler/web/form_runtime/",p="handler/web/form/util/",h=function(t,n){return d(t,{hideErrorAlert:!0,data:{d:JSON.stringify({cvs:n})}})},g=(n.getUrl=function(t,n){return f(t,n)},n.generateQRCode=function(t){return h(m+"handleGenQr.php",t)},n.verifyVisitPass=function(t){return h(m+"handleVerifyVisitPass.php",t)},n.prepareProduction=function(t){return h(m+"dnt/handleGetInfoBeforePay.php",t)},n.buyProduct=function(t){return h(m+"dnt/handleConfirmPay.php",t)},n.generateMobileAuthCode=function(t){return h(m+"handleGetPhoneVerificationCode.php",t)},n.verifyMobileAuthCode=function(t){return h(m+"handleVerifyVC.php",t)},n.getLocation=function(t){return d(m+"handleGetADsByPid.php",{hideErrorAlert:!0,mode:"queue",portKey:"FS_",queueKey:"addr-pid",data:{d:JSON.stringify({cvs:t})}})},n.getLocationByTyping=function(t){return h(m+"handleGetADsByTyping.php",t)},n.getLocationStructureData=function(t){return h(m+"handleGetADsFromRawAddress.php",t)},n.getCtcfCnIdLocation=function(t){return h(m+"handleGetCNRIDLocInfo.php",t)},n.getAndRefreshWeChatAuthData=function(t){return h(m+"handleGetOrRefreshWcUserInfo.php",t)},n.checkRawData=function(t){return h(m+"handleGetCurAcc.php",t)},n.generateCaptcha=function(t){return h(m+"handleGenCaptcha.php",t)},n.checkCaptcha=function(t){return h(m+"handleVerifyCaptcha.php",t)},function(t,n){var a=n||{},r=a.files,s=a.onProgress,u=i(a,["files","onProgress"]),c=void 0,f={};r?(c=new FormData,c.append("d",JSON.stringify({cvs:t})),l.default.forEach(r,function(t,n){c.append(n,t.file,t.name)}),f={cache:!1,processData:!1,contentType:!1}):c={d:JSON.stringify({cvs:t})};var p=function(e){if(e.lengthComputable){var t=e.loaded/e.total;s&&s(t)}};return d(m+"handleSubmit.php",o({xhr:function t(){var t=new window.XMLHttpRequest;return s&&r&&(t.upload.addEventListener("progress",p,!1),t.addEventListener("progress",p,!1)),t},onErrorResolve:function(t){var n={status:t.status,statusText:t.statusText,response:t.responseText};return{r:-9999,errInfo:n}},data:c,hideErrorAlert:!0},f,u))});n.submit=g;n.checkIn=function(t){var n={d:JSON.stringify({cvs:t})};return d(m+"handleFcki_checkIn.php",{data:n,onErrorResolve:function(){return{r:-9999}},hideErrorAlert:!0})},n.checkPaymentStatus=function(t){return h(p+"handleGetDmwProgress.php",t)},n.getLoginAccountNextStep=function(t){return h(m+"mbrm/handleGetLoginAccountNextStep.php",t)},n.getMbrmBalance=function(t){return h(m+"mbrm/handleGetInfoBeforePay.php",t)},n.getMbrmAuthCode=function(t){return h(m+"mbrm/handleSendVerificationCode.php",t)},n.mbrmLogin=function(t){return h(m+"mbrm/handleLogin.php",t)},n.mbrmPreRegister=function(t){return h(m+"mbrm/handlePreRegister.php",t)}},function(t,n,a){(function(n){"use strict";function r(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a="wsMG"+(n.port||"mgajax_"+t+(n.abortKey||""))+("pending"===n.mode?n.queueKey||"":"");c[a]&&c[a].abort()}var $=a(92),i=a(74),jQuery=n.jQuery=n.$=$,o=new Date,s={"a":new Date(o-0+31536e6).toUTCString(),"t":new Date(o-0+31536e6).toUTCString(),"ap":new Date(o-0+31536e6).toUTCString(),"n":new Date(o-0+31536e6).toUTCString(),"_ga":new Date(o-0+63072e6).toUTCString(),"MK_L_UVD":new Date(o-0+2592e6).toUTCString(),"lang":new Date(o-0+31536e6).toUTCString(),"uvi":new Date(o-0+126144e6).toUTCString(),"uvis":new Date(o-0+126144e6).toUTCString(),"wxoaid":new Date(o-0+31536e6).toUTCString(),"fcdnex":new Date(o-0+864e5).toUTCString(),"mbrm_t_*":new Date(o-0+6048e5).toUTCString(),"mbrm_k_*":new Date(o-0+6048e5).toUTCString(),"PHPSESSID":"SESSION"},l=location.hostname.split(".");l.length>2?l[0]="":l=[""].concat(l),l=l.join(".");var u=l,c=[],d=function(t){var n=t.ajax,a=[],r=[],i=[];return t.ajax=function(t){var o=$.Deferred(),s=o.promise();t=jQuery.extend(t,jQuery.extend({},jQuery.ajaxSettings,t));var l="wsMG"+(t.port||"mgajax_"+t.url+(t.abortKey||""));switch(t.mode){case"abort":return c[l]&&c[l].abort(),c[l]=n.apply(this,arguments);case"pending":var u=l+(t.queueKey||"");c[u]&&c[u].abort&&c[u].abort();var d=[].concat(jQuery([n]).queue("ajax"+l));jQuery([n]).queue("ajax"+l,(d||[]).map(function(t){return t.Q===u?t.bind({abort:!0}):t})),s.success=s.done,s.error=s.fail,s.complete=s.always;var f=t.complete;t.complete=function(){f&&f.apply(this,arguments),jQuery([n]).queue("ajax"+l).length>0?jQuery([n]).dequeue("ajax"+l):i[l]=!1};var m=this,p=function(a){return function(){if(!this.abort){var r=c[a]=n(t);return r.done(function(){o.resolve.apply(m,arguments)}),r.fail(function(){o.reject.apply(m,arguments)}),r}jQuery([n]).queue("ajax"+l).length>0?jQuery([n]).dequeue("ajax"+l):i[l]=!1}}(u);return p.Q=""+u,jQuery([n]).queue("ajax"+l,p),1!=jQuery([n]).queue("ajax"+l).length||i[l]||(i[l]=!0,jQuery([n]).dequeue("ajax"+l)),s;case"queue":l=(t.portKey?t.portKey:l)+(t.queueKey||""),s.success=s.done,s.error=s.fail,s.complete=s.always;var f=t.complete;return t.complete=function(){f&&f.apply(this,arguments),jQuery([n]).queue("ajax"+l).length>0?jQuery([n]).dequeue("ajax"+l):i[l]=!1},jQuery([n]).queue("ajax"+l,function(){var a=n(t);return a.done(function(){o.resolve.apply(this,arguments)}),a.fail(function(){o.reject.apply(this,arguments)}),a}),1!=jQuery([n]).queue("ajax"+l).length||i[l]||(i[l]=!0,jQuery([n]).dequeue("ajax"+l)),s;case"sync":var h=a.length;a[h]={error:t.error,success:t.success,complete:t.complete,done:!1},r[h]={error:[],success:[],complete:[]},t.error=function(){r[h].error=arguments},t.success=function(){r[h].success=arguments},t.complete=function(){if(r[h].complete=arguments,a[h].done=!0,0==h||!a[h-1])for(var t=h;t<a.length&&a[t].done;t++)a[t].error&&a[t].error.apply(jQuery,r[t].error),a[t].success&&a[t].success.apply(jQuery,r[t].success),a[t].complete&&a[t].complete.apply(jQuery,r[t].complete),a[t]=null,r[t]=null}}return n.apply(this,arguments)},t.ajax}($),f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=null,a=null,r="wsMG"+(t.port||"mgajax_"+t.url+(t.abortKey||""));if(t.data){a=[];for(var i in t.data)a.push(i+"="+encodeURIComponent(t.data[i]));a=a.join("&")}c[r]&&c[r].abort();var o=new Promise(function(r,i){var o=new XMLHttpRequest;o.open(t.type,t.url,!0),o.onload=function(){var t="response"in o?o.response:o.responseText;4===o.readyState&&200===o.status?r(t):i(o)},o.onerror=function(){i(o)},n=function(){o.abort(),i(o)},o.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8"),o.responseType="blob",o.withCredentials=!0,o.send(a)});return o.abort=n,c[r]=o,o},m=function(t,n){var a=!1;for(var r in t)if(t.hasOwnProperty(r)){if(r.indexOf("*")>-1){var i=new RegExp("^"+r.replace("*",".*")+"$");a=n.match(i)}else a=r===n;if(a)break}return a},p=function(t,n){var a=!1,r=null;for(var i in t)if(t.hasOwnProperty(i)){if(i.indexOf("*")>-1){var o=new RegExp("^"+i.replace("*",".*")+"$");a=n.match(o)}else a=i===n;if(a){r=t[i];break}}return r},h=function(){var t=null,n=!1;return{eat:function(a){t=(t||"")+";"+document.cookie;var r=i.cookie.get("PHPSESSID"),o=i.cookie.get("uvi"),l=i.cookie.get("uvis"),c=i.cookie.get("wxoaid"),d=i.cookie.get("fcdnex"),f=i.cookie.get("MK_L_UVD");if(i.cookie.clearAll(a?[]:["PHPSESSID","uvi","uvis","wxoaid","fcdnex","mbrm_t_*","mbrm_k_*","MK_L_UVD"]),!a){if(r&&"null"!==r&&(document.cookie="PHPSESSID="+escape(unescape(r))+"; path=/;"+(u?"domain="+u+";":"")),o){var m=p(s,"uvi");document.cookie="uvi="+escape(unescape(o))+"; expires="+m+"; path=/; "+(u?"domain="+u+";":"")}if(l){var h=p(s,"uvis");document.cookie="uvis="+escape(unescape(l))+"; expires="+h+"; path=/;"+(u?"domain="+u+";":"")+"SameSite=None;secure;";
}if(c){var g=p(s,"wxoaid");document.cookie="wxoaid="+escape(unescape(c))+"; expires="+g+"; path=/;"+(u?"domain="+u+";":"")}if(d){var _=p(s,"fcdnex");document.cookie="fcdnex="+escape(unescape(d))+"; expires="+_+"; path=/;"+(u?"domain="+u+";":"")}if(f){var v=p(s,"MK_L_UVD");document.cookie="MK_L_UVD="+escape(unescape(f))+"; expires="+v+"; path=/;"+(u?"domain="+u+";":"")}}n=!0},vomit:function(a){t+="; "+document.cookie,a&&(a=[].concat(a)),document.cookie="uvi="+escape(unescape(""))+"; path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",t.split(";").forEach(function(t){t=$.trim(t).split("=");var n=function(t){var n=p(s,t[0]);"SESSION"===n?document.cookie=t[0]+"="+escape(unescape(t[1]))+"; path=/;"+(u?"domain="+u+";":""):"uvi"===t[0]||"lang"===t[0]?(document.cookie=t[0]+"="+escape(unescape(t[1]))+"; expires="+n+"; path=/;",document.cookie=t[0]+"="+escape(unescape(t[1]))+"; expires="+n+"; path=/;"+(u?"domain="+u+";":"")):"uvis"===t[0]?document.cookie=t[0]+"="+escape(unescape(t[1]))+"; expires="+n+"; path=/;"+(u?"domain="+u+";":"")+"SameSite=None;secure;":m({"mbrm_t_*":1,"mbrm_k_*":1},t[0])?document.cookie=t[0]+"="+escape(unescape(t[1]))+"; expires="+n+"; path=/;"+(u?"domain="+u+";":""):document.cookie=t[0]+"="+escape(unescape(t[1]))+"; expires="+n+"; path=/;"};if(a){var r={};a.forEach(function(t){r[t]=1}),m(s,t[0])&&m(r,t[0])&&t[1]&&n(t)}else m(s,t[0])&&t[1]&&n(t)}),n=!1,t=null}}}();t.exports={ajax:d,ajaxFile:f,abort:r,cookieMonster:h}}).call(n,function(){return this}())},function(t,n,a){t.exports=a(2)(314)},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.PayMethod=void 0;var i=a(22),o=r(i),s=a(6),l=r(s),u=a(19),c=r(u),d=a(23),f=r(d),m=a(17),p=a(55),h=a(60),g=r(h),_=a(38),v=n.PayMethod=c.default.createClass({displayName:"PayMethod",mixins:[f.default],handleClick:function(e){var t=this.props,n=t.onClick,a=t.data;n&&n(e,a)},render:function(){var t=this.props,n=t.className,a=t.data,r=t.active,i=t.frozen;return c.default.createElement("li",{className:(0,o.default)("fb_pmItem",a.type,{active:!i&&r,frozen:i},n),onClick:i?null:this.handleClick},c.default.createElement("div",{className:"fb_pmImg"}),c.default.createElement("p",{className:"fb_pmTitle"},a.name),!i&&r?c.default.createElement("div",{className:"fb_pmChosenImg"}):null)}}),b=c.default.createClass({displayName:"NormalPaymentField",mixins:[f.default],getInitialState:function(){return this.lang=(0,m.getLang)(),this.store=(0,m.getStore)(),{}},handleChangePaymentMethod:function(e,t){this.store.dispatch((0,_.CHANGE_PAYMENT_METHOD)({id:t.id}))},render:function(){var t=this,n=this.props,a=n.supportPayMethod,r=n.legalPayMethod,i=n.payMethodInfo,s=n.cartInfo,u=n.symbol,d=n.paymentInfo,f=null,m=l.default.reduce(s,function(t,n){return t+n.price*n.quantity},0);return a&&m>0&&(f=[],l.default.forEach((0,p.SUPPORT_PAYMENT_METHOD)(),function(n){if(r.indexOf(n.id)!==-1){var a=i.isFrozen&&4!==+n.id;f.push(c.default.createElement(v,{data:n,key:"payM"+n.id,frozen:a,active:d&&d.type===n.id,onClick:t.handleChangePaymentMethod}))}})),c.default.createElement("div",{className:"paymentField"},c.default.createElement("p",{className:"fb_cartTotal"},(a?this.lang.cCommodityPayTotal:this.lang.cCommodityNoPayTotal)({priceClass:{},price:""}),c.default.createElement(g.default,{className:"price",symbol:u,price:m})),c.default.createElement("ul",{className:(0,o.default)("fb_paymentMethod",f?"pm_items_"+f.length:null)},f),i.isFrozen?c.default.createElement("div",{className:"fb_pmf_wrapper"},c.default.createElement("div",{className:"fb_paymentMethod_frozen"},c.default.createElement("i",{className:"iconfont fb_pmfIcon"},String.fromCharCode(58938)),this.lang.gPayMethodFrozen)):null)}});n.default=b},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.saga=n.payment=n.filling=n.validation=n.cki=n.group=n.form=void 0;var i=a(95),o=a(111),s=a(112),l=a(118),u=a(119),c=a(120),d=a(121),f=r(d);n.form=l.form,n.group=i.group,n.cki=o.cki,n.validation=s.validation,n.filling=u.filling,n.payment=c.payment,n.saga=f.default},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return Array.isArray(t)?t:Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.group=n._getCurrentOrder=n._getId=void 0;var o=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=a(6),l=r(s),u=a(8),c=a(38),d=a(17),f=a(55),m=a(96),p=n._getId=function(t){return f.L_NORMAL===t.type?t.id:f.L_SQUEEZEBOX===t.type?l.default.filter(t.children).join("-"):void 0},h=function(t,n){t=[].concat(t),n=[].concat(n);for(var a=!1,r=0,i=Math.max(t,n);r<i;r++){if(t[r]>n[r]){a=!0;break}if(t[r]<n[r]){a=!1;break}}return a},g=n._getCurrentOrder=function(t,n){var a={};if(t.extensions.logic&&t.extensions.logic.defaultShown&&!l.default.isEmpty(t.extensions.logic.defaultShown)){var r=function(n,a){var r=t.components[n];if(r){if(+r.otherId===+a)return 0;var i=r.options;if(i){var o=l.default.find(i,{sId:+a});if(o)return+o.id}}return null},i=function(t){return l.default.map(t,function(t){return l.default.isPlainObject(t)?t.id:t})},o=t.extensions.logic,s=[];l.default.forEach(t.layout,function(t){f.L_NORMAL===t.type?s.push(t):f.L_SQUEEZEBOX===t.type&&l.default.forEach(t.children,function(t){s.push({type:f.L_NORMAL,id:t})})});var u=function(r,i,s){var l=o.defaultShown.indexOf(r)>-1||"paging"===t.components[r].type,u=!1;if(l)u=a[r]!==i,a[r]=i;else if(null!=s){var c=void 0;h(i,s)?c=i:n.form.position&&n.form.position[r]?a[r]=a[r]:c=[].concat(s,i+1),u=""+c!=""+a[r],a[r]=i}return u},c=function(t,n){var u=[],c=o.info[t],f=i((n||{})[t]);c&&(l.default.forEach(f,function(n){var a=c[r(t,n)];a&&(u=u.concat(a))}),u=l.default.uniq(u),l.default.forEach(u,function(n){var r=l.default.findIndex(s,{id:n});d(n,r,a[t])}))},d=function(t,a){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;u(t,a,r);var i=n.data||{};c(t,i)};l.default.forEach(s,function(t,n){d(t.id,n,null)})}else l.default.forEach(t.layout,function(t,n){a[p(t)]=n});return a},_=function(t,n){var a=function(t){var n=[].concat(t),a=i(n),r=a[0],o=a.slice(1);return o&&!l.default.isEmpty(o)&&(o=l.default.map(o,function(t){return(0,u.leftPad)(t,"0",3)})),+(r+"."+o.join(""))},r=l.default.filter(t.layout,function(t){return null!=n[p(t)]}).sort(function(t,r){return a(n[p(t)])-a(n[p(r)])}),o=[],s=[];return l.default.forEach(r,function(n){n.id&&"paging"===t.components[n.id].type?(l.default.isEmpty(s)||o.push(s),s=[]):s.push(n)}),l.default.isEmpty(s)?l.default.isEmpty(o)&&o.push(s):o.push(s),o},v=function(t){var n=t.config,a=t.form,r=+new Date,i={};if(l.default.forEach(n.getCache(d.SUBMIT_ONCE_LIST)||{},function(t,n){+new Date(t)>r&&(i[n]=t)}),n.setCache(d.SUBMIT_ONCE_LIST,i),a.settings.isOnlySubmitPerDay||a.settings.isOnlySubmit){var s=(0,u.getCookie)(a.identifier.SUBMIT_ONCE),c=i[a.token],f=new Date;f.setHours(0,0,0,0);var m=new Date;if(m.setHours(23,59,59,999),c&&!s)return a.settings.isOnlySubmitPerDay?(0,u.setCookie)(a.identifier.SUBMIT_ONCE,"1|"+ +f,{domain:u._COOKIE_STATIC.DOMAIN,isExpiresDate:!0,expires:m,path:"/"}):a.settings.isOnlySubmit&&(m.setDate(m.getDate()+u._COOKIE_STATIC.SUBMIT_ONCE_DAY),(0,u.setCookie)(a.identifier.SUBMIT_ONCE,"2|"+ +f,{domain:u._COOKIE_STATIC.DOMAIN,isExpiresDate:!0,expires:m,path:"/"})),!0;if(s){var p=(""+s).split("|"),h=o(p,2),g=h[0],_=h[1];return 1===+g&&a.settings.isOnlySubmit?(m.setDate(m.getDate()+u._COOKIE_STATIC.SUBMIT_ONCE_DAY),(0,u.setCookie)(a.identifier.SUBMIT_ONCE,"2|"+_,{domain:u._COOKIE_STATIC.DOMAIN,isExpiresDate:!0,expires:m,path:"/"}),i[a.token]=+m,n.setCache(d.SUBMIT_ONCE_LIST,i),!0):2!==+g||!a.settings.isOnlySubmitPerDay||(+_<+f?((0,u.setCookie)(a.identifier.SUBMIT_ONCE,"",{domain:u._COOKIE_STATIC.DOMAIN,expires:-1,path:"/"}),delete i[a.token],n.setCache(d.SUBMIT_ONCE_LIST,i),!1):(m.setDate(f.getDate()),(0,u.setCookie)(a.identifier.SUBMIT_ONCE,"1|"+_,{domain:u._COOKIE_STATIC.DOMAIN,isExpiresDate:!0,expires:m,path:"/"}),i[a.token]=+m,n.setCache(d.SUBMIT_ONCE_LIST,i),!0))}}return!1};n.group=function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],r=t(),i={},s=!1,p=function(){var t=g(r,n),a=_(r,t);if(i.form=l.default.assign(i.form||{},{position:t,pages:a}),a){var o=null!=i.form.page?i.form.page:n.form.page;o>a.length&&(i.form.page=a.length)}h()},h=function(){if(n.validated&&!l.default.isEmpty(n.validated)){var t=[];l.default.forEach(i.form.pages,function(n){l.default.forEach(n,function(n){n.type===f.L_SQUEEZEBOX?t=t.concat(n.children):n.type===f.L_NORMAL&&(t=t.concat(n.id))})});var a={},r=!1;l.default.forEach(n.validated,function(n,i){var o=-1;o=["limitAmount","limitQuantity","memberBalanceDeduction"].indexOf(i)>-1?0:(""+i).indexOf("ctcf")>-1?t.indexOf(""+i):t.indexOf(+i),o>-1?a[i]=n:r=!0}),r&&(s=!0,i.validated=a)}},b=function(t){var i=function(t){var i=r.getComponent(t);if(i){var o=(0,f.getComponentType)(i);switch(o){case"mobile":var s=n.data[t];s&&l.default.isPlainObject(s)&&s.verificationToken&&s.verificationMobileToken&&!s.checked&&(a.async||(a.async=[]),a.async.push(["authCode",{id:t}]));break;case"address":if(2===i.componentType){var u=n.data[t];u&&l.default.isPlainObject(u)&&u.content&&!u.struct&&(a.async||(a.async=[]),a.async.push(["inputAddress",{id:t,data:u}]))}break;case"ctcf_11":if(i.cfIsLimitLocation&&i.cfLimitLocation&&!l.default.isEmpty(i.cfLimitLocation)){var c=n.data[t];!c||l.default.isPlainObject(c)&&c.location||(a.async||(a.async=[]),a.async.push(["cnIdLocation",{id:t,data:c}]))}}}};l.default.forEach(t,function(t){f.L_NORMAL===t.type?i(t.id):f.L_SQUEEZEBOX===t.type&&l.default.forEach(t.children,function(t){i(t)})})},y=function(){var t=new Date;t.setHours(0,0,0,0);var a=new Date(t);a.setDate(a.getDate()+u._COOKIE_STATIC.LOCAL_UVD),a.setHours(23,59,59,999);var i=(0,m.getUvdData)({components:r.components,data:n.data,uvd:r.visitorData&&r.visitorData.uvd?r.visitorData.uvd.ct||null:null});(0,u.setCookie)(r.identifier.LOCAL_UVD,JSON.stringify(i),{domain:u._COOKIE_STATIC.DOMAIN,isExpiresDate:!0,expires:a,path:"/"})},E=function(){var t=l.default.assign({},(0,d.getConfig)().getCache(d.SUBMIT_ONCE_LIST)||{}),n=new Date;if(n.setHours(0,0,0,0),r.settings.isOnlySubmitPerDay){var a=new Date(n);a.setHours(23,59,59,999),(0,u.setCookie)(r.identifier.SUBMIT_ONCE,"1|"+ +n,{domain:u._COOKIE_STATIC.DOMAIN,isExpiresDate:!0,expires:a,path:"/"}),t[r.token]=+a,(0,d.getConfig)().setCache(d.SUBMIT_ONCE_LIST,t)}else if(r.settings.isOnlySubmit){var i=new Date(n);i.setDate(i.getDate()+u._COOKIE_STATIC.SUBMIT_ONCE_DAY),i.setHours(23,59,59,999),(0,u.setCookie)(r.identifier.SUBMIT_ONCE,"2|"+ +n,{domain:u._COOKIE_STATIC.DOMAIN,isExpiresDate:!0,expires:i,path:"/"}),t[r.token]=+i,(0,d.getConfig)().setCache(d.SUBMIT_ONCE_LIST,t)}};switch(a.type){case c._VERIFY_PASSWORD_SUCCEED:case c._MBRM_AUTH_MEMBER_SUCCEED:var C=a.data;l.default.forEach(C,function(t,n){if(l.default.isPlainObject(t))return void(window[n]=l.default.assign({},window[n],t));if(l.default.isString(t))try{t=JSON.parse(t)}catch(a){console.error("ERROR -> PARSE ["+n+"] FAILED:"+t)}window[n]=t});var T=(0,d.updateSOUL)((0,d.getConfig)().structure()),S=T.data,M=T.formStructure;i={data:S},a.pwd?i.form={pwd:a.pwd,formStatus:M.JHR}:i.form={formStatus:M.JHR};break;case c._WX_AUTH_SUCCEED:if(a.rWx_jump)(0,d.wxJumpAuth)(a.rWx_jump);else if(a.uvd){var I=a.uvd;a.id&&(I.triggerCp=a.id),i=(0,d.updateUVD)(I),i.form={ckiAuto:!1}}break;case c._CHECK_ONLY_WX:(0,d.getMode)()===f.MODE_FILLING&&r.settings.isOnlyWeChat&&!(0,d.getConfig)().isWx()&&(i.form={onlyWx:!0});break;case c._WX_CKI_AUTO:(0,d.getMode)()===f.MODE_FILLING&&0===r.JHR&&(i.form={ckiAuto:!0});break;case c._WX_CKI_AUTO_FIN:i.form={ckiAuto:!1};break;case c._CHECK_SUBMIT_ONCE:if((0,d.getMode)()===f.MODE_FILLING&&0===r.JHR){var N=v({config:(0,d.getConfig)(),form:r});N&&(r.setJHR(-827),i.form={formStatus:r.JHR})}break;case c._CHECK_FORM_START:if(0===r.JHR){var A=(0,u.getCookie)(r.identifier.WAITING),x=(0,u.getCookie)(r.identifier.WAITING_EVERYDAY);(A||x)&&(A?((0,u.setCookie)(r.identifier.WAITING,1,{domain:u._COOKIE_STATIC.DOMAIN,expires:new Date(+new Date+6e4),isExpiresDate:!0,path:"/"}),r.setJHR(-822),i.form={formStatus:r.JHR}):x&&((0,u.setCookie)(r.identifier.WAITING_EVERYDAY,1,{domain:u._COOKIE_STATIC.DOMAIN,expires:new Date(+new Date+6e4),isExpiresDate:!0,path:"/"}),r.setJHR(-824),i.form={formStatus:r.JHR}))}else r.JHR===-822?(0,u.setCookie)(r.identifier.WAITING,1,{domain:u._COOKIE_STATIC.DOMAIN,expires:new Date(+new Date+3e4+1e3*window.JHD),isExpiresDate:!0,path:"/"}):r.JHR===-824&&(0,u.setCookie)(r.identifier.WAITING_EVERYDAY,1,{domain:u._COOKIE_STATIC.DOMAIN,expires:new Date(+new Date+3e4+1e3*window.JHD),isExpiresDate:!0,path:"/"});break;case c._CHECK_SOUL_FIN:var k=a.data;0===k.r&&k.d!==r.meta.ACC?location.reload(!0):[-801,-802,-804].indexOf(k.r)>-1?(r.setJHR(k.r),i.form={formStatus:r.JHR,checkSoul:+new Date}):i.form={checkSoul:+new Date};break;case c._FORM_START_FILLING_FIN:var D=a.isReload;(0,u.setCookie)(r.identifier.WAITING,1,{domain:u._COOKIE_STATIC.DOMAIN,expires:-1,path:"/"}),(0,u.setCookie)(r.identifier.WAITING_EVERYDAY,1,{domain:u._COOKIE_STATIC.DOMAIN,expires:-1,path:"/"}),D?location.reload(!0):(r.setJHR(0),i.form={formStatus:r.JHR});break;case c._START_GOTO_PAGE:b(n.form.pages[n.form.page]);break;case c._GOTO_PAGE:var O=n.form.page>a.page,P=!0,L=n.validated||{};if(O){var w={},R=l.default.reduce(n.form.pages.slice(0,a.page+1),function(t,n){return t.concat(n)},[]);l.default.forEach(R,function(t){if(f.L_NORMAL===t.type)L[t.id]&&!l.default.isEmpty(L[t.id])&&(w[t.id]=L[t.id]);else if(f.L_SQUEEZEBOX===t.type&&(l.default.forEach(t.children,function(t){L[t]&&!l.default.isEmpty(L[t])&&(w[t]=L[t])}),!P))return!1}),s=!0,i.validated=w}else l.default.forEach(n.form.pages[n.form.page],function(t){if(f.L_NORMAL===t.type){if(L[t.id]&&!l.default.isEmpty(L[t.id]))return P=!1,!1}else if(f.L_SQUEEZEBOX===t.type&&(l.default.forEach(t.children,function(t){if(L[t]&&!l.default.isEmpty(L[t]))return P=!1,!1}),!P))return!1});P&&(i.form={page:a.page}),p();break;case c._START_SUBMIT:b(l.default.reduce(n.form.pages,function(t,n){return t.concat(n)},[])),i.form={pending:!0};break;case c._SUBMIT_PROGRESS:i.form={progress:a.data};break;case c._IFP_PENDING:i.form={pending:!0,progress:0,extData:a.data,formStatus:0},a.data&&a.data.ext&&l.default.forEach(a.data.ext,function(t,n){i.form.extData[n]=t});break;case c._IFP_CANCEL:i.form={pending:!1,progress:0,extData:null};break;case c._IFP_FINISH_PAY:E();break;case c._IFP_CONFIRM:i.form={pending:!1,progress:0,submitFin:!0};break;case c._SUBMIT_ERROR:var F=null,U=n.validated||{};l.default.forEach(n.form.pages,function(t,n){var a=!0;if(l.default.forEach(t,function(t){if(f.L_NORMAL===t.type){if(U[t.id]&&!l.default.isEmpty(U[t.id]))return a=!1,F=n,!1}else if(f.L_SQUEEZEBOX===t.type&&(l.default.forEach(t.children,function(t){if(U[t]&&!l.default.isEmpty(U[t]))return a=!1,!1}),!a))return F=n,!1}),null!=F)return!1}),i.form={pending:!1,progress:0,page:null!=F?F:n.form.page},p();break;case c._SUBMIT_FAILED:i.form={pending:!1,progress:0,submitFin:!0,extData:a.data,formStatus:a.errorCode};break;case c._SUBMIT_SUCCEED:i.form={pending:!1,progress:0,submitFin:!0,formStatus:0},a.data&&(i.form.extData=a.data,a.data.ext&&l.default.forEach(a.data.ext,function(t,n){i.form.extData[n]=t})),y(),E();break;case c._SUBMIT_QUEUE:var B=(0,u.getCookie)(r.identifier.QUEUE),H=null;if(B){var j=B.split("|"),G=o(j,2),W=G[0],V=G[1],z=+new Date,K=+V+1e3*W;K>z&&(H=W)}var q=H?Math.min(60,Math.round(1.25*H)):Math.round(10+20*Math.random());(0,u.setCookie)(r.identifier.QUEUE,q+"|"+ +new Date,{domain:u._COOKIE_STATIC.DOMAIN,expires:u._COOKIE_STATIC.SUBMIT_ONCE_DAY,path:"/"}),i.form={progress:0,extData:null,queue:q};break;case c._SUBMIT_QUEUE_END:(0,u.setCookie)(r.identifier.QUEUE,"",{domain:u._COOKIE_STATIC.DOMAIN,expires:-1,path:"/"}),i.form={pending:!1,progress:0,extData:null,queue:null};break;case c._SUBMIT_QUEUE_FIN:(0,u.setCookie)(r.identifier.QUEUE,"",{domain:u._COOKIE_STATIC.DOMAIN,expires:-1,path:"/"}),i.form={pending:!1,progress:0,extData:null};break;default:p()}if(l.default.isEmpty(i))return n;var Y=l.default.assign({},n);return l.default.forEach(i,function(t,n){Y[n]=l.default.assign({},Y[n],t)}),s&&i.validated&&(Y.validated=i.validated),Y}}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function o(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0}),n.getSubmitData=n.getUvdData=n.getPresetData=n.getDefaultData=n.TreeManager=void 0;var s=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),l=a(97),u=r(l),c=a(6),d=r(c),f=a(57),m=a(61),p=r(m),h=a(8),g=a(55),_=a(98),v=a(108),b=(0,f.FORM_COMPONENTS_NAME_DETAILS)({}),y=function(t){var n=null,a=t.optionsDefaultValue,r=t.options,i=o(t,["optionsDefaultValue","options"]);if(a&&!d.default.isEmpty(a)){n=[];var s=i.isLimitOptions&&i.optionsQuotaInfo;d.default.forEach(r,function(t){if(t.isDefaultValue){if(s&&t.sId in i.optionsQuotaInfo){var a=(0,h.quotaCalculate)(i.optionsQuotaInfo[t.sId]),r=a.remaining;if(r<=0)return}n.push(t.sId)}})}return n},E=function(t,n){if(n.match(/:/)){n=d.default.trim(n);var a=/(\d+):(\d+)(:(\d+))?$/,r=n.match(a),i=[r[1],r[2],r[4]].concat("00","00").slice(0,+t).concat("00","00").slice(0,3).join(":");return n.replace(a,i)}return n},C=function(t,n){var a=t.dayDefault,r=t.defaultDay,i=t.timeDefault,o=t.defaultTime,s=t.dayTimeDefault,l=t.defaultDayTime,c=t.timePrecision,d=null,f=(0,u.default)();if(t.isCustomField&&(n=t.cfDateTimeType),"dateTime_date"!==n&&n)"dateTime_time"===n?("2"===i?d=f.getTime():"-1"===i&&(d=o||null),d&&c&&(d=E(c,d))):"dateTime_both"===n&&("2"===s?d=f.getFullDateTime():"-1"===s&&(d=l||null),d&&c&&(d=E(c,d)));else switch(""+a){case"2":d=f.getFullDate();break;case"3":d=f.add(-1,"D").getFullDate();break;case"4":d=f.add(1,"D").getFullDate();break;case"5":d=f.month();break;case"6":d=f.year();break;case"-1":d=r||null}if(d){var m=new _.CalendarObject(d);d=m.toObject()}return d},T=function(t){var n=null,a=t.commoditiesDefaultValue,r=t.commodities,i=o(t,["commoditiesDefaultValue","commodities"]);if(a&&!d.default.isEmpty(a)){n={};var s=i.optionsQuotaInfo&&i.isLimitOptions&&i.isLimitStock;d.default.forEach(r,function(t){if(t.defaultValue){var a=t.defaultValue;if(s&&t.sId in i.optionsQuotaInfo){var r=(0,h.maxCanUseCalculate)((0,h.quotaCalculate)(i.optionsQuotaInfo[t.sId]));isFinite(r)||(a=Math.min(a,r))}a>0&&d.default.isNumber(a)&&isFinite(a)&&(n[t.sId]=a)}})}return n},S=n.TreeManager=function(){function t(n){i(this,t),this.tree=n}return s(t,[{key:"getChildren",value:function(t){return t||(t=null),d.default.filter(this.tree,function(n){return n.pId===t})}},{key:"dfs",value:function(t,n){var a=this,r=-1,i=function t(n,i){0===n.length?r=Math.max(i,r):d.default.forEach(n,function(n){var r=a.getChildren(n.id);t(r,i+1)})};return i(t,n),r}},{key:"getDepth",value:function(){return this._treeDepth?this._treeDepth:(this._treeDepth=this.dfs(this.getChildren(null),0),this._treeDepth)}},{key:"getCurrentLeafDepth",value:function(t){if(null===t)return this.getDepth();var n=0,a=d.default.find(this.tree,{id:t});do n++,a=d.default.find(this.tree,{id:a.pId});while(a);return this.dfs(this.getChildren(t),n)}}]),t}(),M=function(t){var n=new S(t.options),a=null,r=function t(r,i){d.default.forEach(n.getChildren(r),function(r){r.defaultValue&&(a||(a=[]),a.push(r),i<n.getCurrentLeafDepth(r.id)&&t(r.id,i+1))})};return r(null,0),a=a?{current:a,id:a[a.length-1].sId}:{current:[],id:null}},I=function(t){var n=+t.rateDefault,a=+(t.rateMax||5);return d.default.isNumber(n)&&!isNaN(n)&&isFinite(n)?Math.min(n,a):null},N=function(t){var n=null;return[1,2].indexOf(+t.tabularType)>-1||void 0===t.tabularType?(n={},d.default.forEach(t.options,function(a){a.isDefaultValue&&d.default.forEach(t.questions,function(r){n[r.id]||(n[r.id]=[]),n[r.id].push(t.ql2sMapping[r.id][a.id])})})):4===+t.tabularType&&t.rateDefault&&(n={},d.default.forEach(t.questions,function(a){n[a.id]=+t.rateDefault})),d.default.isEmpty(n)&&(n=null),n},A=function(t){var n=null,a=(t.isCustomField,o(t,["isCustomField"])),r=(0,g.getComponentType)(t);switch(r){case"radio":case"checkbox":case"dropDown":case"picRadio":case"picCheckbox":case"title":case"gender":case"ctcf_6":case"ctcf_7":n=y(t);break;case"commodity":n=T(t);break;case"multiLevel":n=M(t);break;case"dateTime_date":case"dateTime_time":case"dateTime_both":case"ctcf_9":var i=r;"ctcf_9"===r&&(i=t.cfDateTimeType),n=C(t,i);break;case"rate":case"ctcf_4":n=I(t);break;case"tabular":n=N(t);break;case"company":case"department":case"position":var s=!(1===+a.searchComponentType||void 0===a.searchComponentType);s&&(n=y(t));break;case"ctcf_5":a.cfDefaultSymbol&&(n=[+a.cfDefaultSymbol]);break;case"ctcf_12":n=W(t)}return null==n||d.default.isObject(n)&&d.default.isEmpty(n)?null:n};n.getDefaultData=A;var x=function(t){var n=[];return d.default.forEach(t,function(t){t&&n.indexOf(t)===-1&&n.push(t)}),d.default.isEmpty(n)?null:n},k=function(t,n){var a=function n(a){var r=null,i=null;if(d.default.isNumber(a)||d.default.isNumber(+a)&&!isNaN(+a)){var o=d.default.find(t.options,{sId:+a});o?r=o.sId:+a===t.otherId&&(r=t.otherId)}else if(d.default.isString(a)){var s=d.default.find(t.options,{value:a});s&&(r=s.sId)}else{if(d.default.isArray(a))return d.default.map(a,n);d.default.isPlainObject(a)&&a.id&&(r=n(a.id),i=a.value)}if(r&&t.isLimitOptions&&t.optionsQuotaInfo&&r in t.optionsQuotaInfo){var l=t.optionsQuotaInfo[r],u=(0,h.quotaCalculate)(l),c=u.remaining;c<=0&&(r=null)}return r&&i&&(r={id:r,value:i}),r};return x([].concat(a(n)))},D=function(t,n){var a=function n(a){var r=null,i=null;if(d.default.isNumber(a)||d.default.isNumber(+a)&&!isNaN(+a)){var o=d.default.find(t.options,{sId:+a});o||(o=d.default.find(t.options,{id:+a})),o&&(r=o.sId)}else if(d.default.isString(a)){var s=d.default.find(t.options,{value:a});s&&(r=s.sId)}else{if(d.default.isArray(a))return d.default.map(a,n);d.default.isPlainObject(a)&&a.id&&(r=n(a.id),i=a.value)}if(r&&t.isLimitOptions&&t.optionsQuotaInfo&&r in t.optionsQuotaInfo){var l=t.optionsQuotaInfo[r],u=(0,h.quotaCalculate)(l),c=u.remaining;c<=0&&(r=null)}return r&&i&&(r={id:r,value:i}),r};return x([].concat(a(n)))},O=function(t,n){var a=null;return d.default.isArray(n)&&(a=[],d.default.forEach(n,function(n){d.default.find(t.options,{sId:n})&&a.push(n)}),d.default.isEmpty(a)&&(a=null)),a},P=function(t,n){return d.default.isNumber(+n)&&!isNaN(+n)&&isFinite(+n)?Math.min(+t.rateMax,+n):null},L=function(t,n){var a=null;if(2===t.componentType){var r=n||"";d.default.isPlainObject(n)&&(r=n.content||""),a={content:r}}else if(d.default.isPlainObject(n)&&n.struct){if(a={struct:n.struct},a.struct[0]){var i=a.struct[0];if(t.isLimitCountry&&+i!==+t.limitCountry)a.struct=null;else{var o=+(t.minLevel||3);o&&(a.struct=a.struct.slice(0,o))}}else a.struct=null;n.content&&(a.content=n.content),n.zipCode&&(a.zipCode=n.zipCode)}return a},w=function(t,n){var a=null;if(d.default.isPlainObject(n)){var r={};if(t.isOpenDetails){var i=t.detailsItem||[2,4];d.default.forEach(b,function(t){i.indexOf(+t.id)>-1&&n[t.name]&&(r[t.name]=""+(n[t.name]||""))})}else n.n&&(r={n:n.n});d.default.isEmpty(r)||(a=r)}else a={n:""+(n||"")};return a},R=function(t,n){var a=null;return 1===+t.searchComponentType||null==t.searchComponentType?d.default.isString(n)&&(a=n):d.default.isArray(n)&&(a=k(t,n)),a},F=function(t,n){var a=null;return t.isSendMsgAuth?d.default.isArray(n)?d.default.isString(n[0])&&(a={mobile:n[0]||""}):d.default.isPlainObject(n)&&n.mobile&&(a={mobile:n.mobile}):d.default.isPlainObject(n)?n.mobile&&(a=[].concat(""+n.mobile)):a=[].concat(n),[].concat(a||[])},U=function(t,n){var a={},r=4===+t.tabularType,i=[1,2].indexOf(+t.tabularType)>-1||null==t.tabularType;return d.default.forEach(n,function(n,o){if(d.default.find(t.questions,{id:+o})&&n)if(r)d.default.isNumber(n)&&+n<=20&&(a[o]=+n);else if(i){if(d.default.isArray(n)&&!d.default.isEmpty(n)){var s=[],l=t.ql2sMapping[+o];d.default.forEach(l,function(t){n.indexOf(+t)>-1&&s.push(+t)}),d.default.isEmpty(s)||(a[o]=s)}}else d.default.isObject(n)||d.default.isArray(n)||(a[o]=n)}),d.default.isEmpty(a)&&(a=null),a},B=function(t,n){var a=null;return d.default.isPlainObject(n)&&(a={},d.default.forEach(n,function(n,r){var i=d.default.find(t.commodities,{sId:+r});if(i&&n){if(t.isLimitOptions&&t.isLimitStock&&t.optionsQuotaInfo&&r in t.optionsQuotaInfo){var o=t.optionsQuotaInfo[r],s=(0,h.quotaCalculate)(o),l=(0,h.maxCanUseCalculate)(s),u=Math.min(s.remaining,l);isFinite(u)?a[+r]=Math.min(u,+n):a[+r]=+n}else a[+r]=+n;t.isLimitStock&&t.setMaxBuyNum&&t.setMaxBuyNum[i.id]&&(a[+r]=Math.min(a[+r],t.setMaxBuyNum[i.id]))}}),d.default.isEmpty(a)&&(a=null)),a},H=function(t,n){var a=null;if(d.default.isPlainObject(n)&&!d.default.isEmpty(n)){a={};var r=[],i=n.id;if(n.current){var o=!1;if(i&&(d.default.find(t.options,{sId:i})&&d.default.find(n.current,{sId:i})||(o=!0)),!o){var s=null;d.default.forEach(n.current,function(n){var a=d.default.find(t.options,{sId:n.sId});return!a||a.pId&&a.pId!==s?(o=!0,!1):(s=a.id,void r.push(n))})}if(!o){if(t.isAllowPartEmpty)i||d.default.isEmpty(r)||(i=d.default.last(r).sId);else if(i){var l=d.default.find(t.options,{sId:i}).id;l&&d.default.filter(t.options,{pId:l}).length>0&&(i=null)}var u=null;i&&(u=d.default.find(t.options,{sId:i}));var c=null;u&&[2,3].indexOf(+u.type)>-1&&(c=n.value||null),a={id:i,value:c,current:r}}}d.default.isEmpty(a)&&(a=null)}return a},j=function(t,n){var a=(0,g.getComponentType)(t),r=a;if("ctcf_9"===a&&(r=t.cfDateTimeType),"dateTime_date"===r||!r){var i=(0,u.default)();switch(""+t.dayDefault){case"2":n=i.getFullDate();break;case"3":n=i.add(-1,"D").getFullDate();break;case"4":n=i.add(1,"D").getFullDate()}}if(n){var o=new _.CalendarObject(n),s=o.toObject();if("dateTime_date"!==r&&r&&"dateTime_both"!==r){if("dateTime_time"===r&&s.timeType!==_.TIME_TYPE_NULL)return s.dateType=_.DATE_TYPE_NULL,t.timePrecision&&(s.timeType=+t.timePrecision),s}else if((t.dateFormat.indexOf(s.dateType)>-1||!s.dateType)&&("dateTime_both"===r?(s.timeType=+(t.timePrecision||_.TIME_TYPE_HMS),s.H=0,s.M=0,s.S=0):s.timeType=_.TIME_TYPE_NULL,s.dateType!==_.DATE_TYPE_NULL||s.timeType!==_.TIME_TYPE_NULL))return s}return null},G=function(t,n){var a=[];return d.default.forEach([].concat(n),function(t){d.default.isPlainObject(t)?a.push(t):t&&a.push(""+t)}),d.default.uniq(a)},W=function(t,n){var a=null;if(2!==t.componentType&&(a={vpType:+(t.defaultVpLocation||1)}),n)if(2===t.componentType&&n.vpType){var r=d.default.find(h.CF_VEHICLE_TYPE_SELECT,{id:+n.vpType});r&&(a={vpVal:""+r.value+n.vpVal})}else if(2!==t.componentType&&!n.vpType&&n.vpVal&&0!==n.vpVal.indexOf("WJ")){var i=n.vpVal.substr(0,1),o=n.vpVal.substr(1),s=d.default.find(h.CF_VEHICLE_TYPE_SELECT,{value:i});s&&(a={vpType:s.id,vpVal:o})}return a},V=function(t,n){var a=null;return d.default.isString(n)&&(a=n),a},z=function(t,n){var a=null;return t.isAcceptMulti?(a=[],d.default.forEach([].concat(n),function(t){d.default.isPlainObject(t)?a.push(t):a.push(""+t)}),d.default.uniq(a)):a=n},K=(n.getPresetData=function(t,n){var a=this.components,r=null,i=t,o=null;if(!n)return null;if(f.DT_CONTACT_MAPPING[i]){var s=f.DT_CONTACT_MAPPING[i];r=d.default.find(a,{type:s}),r&&(i=r.id)}if(r||(r=d.default.find(a,{id:i})),r||(r=d.default.find(a,{type:i}),r&&(i=r.id)),!r)return null;var l=(0,g.getComponentType)(r);switch(l){case"radio":case"checkbox":case"dropDown":case"picRadio":case"picCheckbox":case"ctcf_6":case"ctcf_7":o=k(r,n);break;case"title":case"gender":o=D(r,n);break;case"attachment":case"picAttachment":case"avatar":break;case"rank":o=O(r,n);break;case"rate":case"ctcf_4":o=P(r,n);break;case"city":case"address":case"location":o=L(r,n);break;case"name":o=w(r,n);break;case"company":case"department":case"position":o=R(r,n);break;case"mobile":o=F(r,n);break;case"tabular":o=U(r,n);break;case"commodity":o=B(r,n);break;case"multiLevel":o=H(r,n);break;case"dateTime_both":case"dateTime_date":case"dateTime_time":case"birthDate":case"ctcf_9":o=j(r,n);break;case"email":case"tel":case"wechat":case"qq":case"website":case"fax":case"IM":case"skype":case"whatsApp":case"messenger":case"viber":case"line":case"telegram":case"SNS":case"weibo":case"linkedIn":case"twitter":case"facebook":case"instagram":case"mkGooglePlus":o=G(r,n);break;case"ctcf_12":o=W(r,n);break;case"input":o=V(r,n);break;default:o=z(r,n)}return o?[i,o]:o},function(t,n){var a=[],r=function t(n){n&&(d.default.isArray(n)?d.default.forEach(n,function(n){return t(n)}):d.default.isPlainObject(n)&&!isNaN(+n.id)?a.push([n.id,n.value]):isNaN(+n)||a.push(n))};if(d.default.forEach([].concat(n),function(t){t&&r(t)}),d.default.isEmpty(a))a=null;else{var i=(0,g.getComponentType)(t);if(["dropDown","radio","picRadio","ctcf_6"].indexOf(i)>-1)a=a[0];else if(["title","gender"].indexOf(i)>-1){a=a[0];var o=d.default.find(t.options,{sId:a});a=o?a+";"+o.id:null}}return(null==a||d.default.isArray(a)&&d.default.isEmpty(a))&&(a=null),a}),q=function(t,n){var a={},r=0;return d.default.forEach([].concat(n),function(n){n&&n.name&&(a["ATTA_"+t.id+"_"+r]=n,r++)}),d.default.isEmpty(a)?null:a},Y=function(t,n){var a=t;return a.lastModifiedDate=new Date,a.name=n,a},Q=function(t,n){var a={};if(n&&!n.isEmpty)try{var r=(0,v.dataURLToBlob)(n.dataURL),i=void 0;navigator.msSaveBlob?(i=new Blob([r],{type:r.type}),i=Y(i,"SIGN_"+t.id+".png")):i=new File([r],"SIGN_"+t.id+".png",{type:r.type}),a["SIGN_"+t.id+"_0"]=new h.FileBox(i,!1)}catch(t){console.log(t)}return d.default.isEmpty(a)?null:a},J=function(t,n){var a=[];return d.default.forEach(n,function(t){t&&a.push(t)}),d.default.isEmpty(a)?null:a},X=function(t,n){var a=null;return d.default.isNumber(+n)&&!isNaN(+n)&&isFinite(+n)&&(a=Math.min(+t.rateMax,+n)),a},Z=function(t,n){var a=null;if(n&&n.struct&&d.default.isArray(n.struct))for(var r=t.isLimitCountry&&t.limitCountry,i=2===t.componentType,o=n.struct.length;o>=(r&&!i)?1:0;o--)if(n.struct[o]){a=+n.struct[o];break}return a},ee=function(t,n){var a=null;if(n){var r=null,i=null,o=null;if(n.struct&&d.default.isArray(n.struct)){var s=t.isLimitCountry&&t.limitCountry,l=2===t.componentType;if((!s||s&&1!==+s)&&l);else for(var u=n.struct.length;u>=(s&&!l)?1:0;u--)if(n.struct[u]){r=+n.struct[u];break}}i=n.content||null,o=n.zipCode||null,(r||i||o)&&(a=[[r,i,o]])}return a},te=function(t,n){var a={};return d.default.forEach(n,function(t,n){t&&(a[n]=t)}),d.default.isEmpty(a)?null:a},ne=function(t,n){var a=null;return 1===+t.searchComponentType||null==t.searchComponentType?n&&(a=n):(a=K(t,n),a&&d.default.isArray(a)&&!d.default.isEmpty(a)&&(a=a[0])),a},ae=function(t,n){var a=null;if(n)if(t.isSendMsgAuth&&d.default.isPlainObject(n)&&!d.default.isEmpty(n)){var r={};n.mobile&&d.default.trim(n.mobile)&&(r.mb=d.default.trim(n.mobile)),n.verificationToken&&(n.verificationMobileToken?n.verificationCode&&n.verificationMobileToken&&(r.vt=n.verificationToken,r.vv=n.verificationMobileToken,r.vc=n.verificationCode):r.vt=n.verificationToken),a=[r]}else a=[],d.default.forEach([].concat(n),function(t){t=d.default.trim(t),t&&a.indexOf(t)===-1&&a.push(t)}),d.default.isEmpty(a)&&(a=null);return a},re={1:function(t){var n=null;return d.default.forEach([].concat(t),function(t){if(t)return n=t,!1}),n},2:function(t){var n=[];return d.default.forEach([].concat(t),function(t){
t&&n.push(t)}),d.default.isEmpty(n)&&(n=null),n},3:function(t){var n=null;return null!=t&&(n=""+t),n},4:function(t,n){var a=null;return null!=t&&!isNaN(+t)&&isFinite(+t)&&(a=-Math.min(+(n.rateMax||5),+t)),a}},ie=function(t,n){var a=null,r=re[t.tabularType||1];return n&&d.default.isPlainObject(n)&&(a={},d.default.forEach(n,function(n,i){var o=r(n,t);null!=o&&(a[i]=o)}),d.default.isEmpty(a)&&(a=null)),a},oe=function(t,n){var a=null;if(n&&!d.default.isEmpty(n)){var r=n;r.id&&r.value?a=[r.id,r.value]:r.id&&(a=r.id)}return a},se=function(t,n){var a=null;return null!=n&&(a=Number(p.default.localeStringToNumber(n)),d.default.isNumber(a)&&!isNaN(a)&&isFinite(a)||(a=null)),a},le=function(t,n){var a=null;return n&&(a={},d.default.forEach(n,function(t){var n=a[t.type]||[];t.info&&d.default.trim(t.info)&&n.indexOf(t.info)===-1&&n.push(t.info),d.default.isEmpty(n)||(a[t.type]=n)}),d.default.isEmpty(a)&&(a=null)),a},ue=function(t,n){var a=null;return null!=n&&""!==n&&(a=""+n),a},ce=function(t,n){var a=null;return null!=n&&""!==n&&(d.default.isArray(n)||d.default.isPlainObject(n)?d.default.isEmpty(n)||(d.default.isArray(n)?(a=[],d.default.forEach(n,function(t){t&&a.push(t)})):d.default.isPlainObject(n)&&(a={},d.default.forEach(n,function(t,n){t&&(a[n]=t)})),d.default.isEmpty(a)&&(a=null)):a=n),a},de=function(t,n){var a=null;return d.default.isPlainObject(n)&&(a=n.value?(0,h.strSerialNoNormalize)(n.value):null),a},fe=function(t,n){var a=null;return n&&n.vpVal&&(a=2!==t.componentType&&n.vpType?(0,h.getVehicleCNStr)(n):(0,h.getVehicleCNStr)({vpVal:n.vpVal})),a},me=function(t,n){var a=null;return null!=n&&(a=Number(p.default.localeStringToNumber(n[1])),d.default.isNumber(a)&&!isNaN(a)&&isFinite(a)||(a=null),null!==a&&(a=[n[0],a])),a},pe=function(t,n){if(n){var a=new _.CalendarObject(n),r=(0,g.getComponentType)(t);"ctcf_9"===r&&(r=t.cfDateTimeType);var i=null,o=0;switch(r){case"dateTime_date":case"birthDate":i=t.dateFormat;break;case"dateTime_time":o=+(t.timePrecision||3);break;case"dateTime_both":i=t.dateFormat,o=+(t.timePrecision||3)}return i&&i.indexOf(a.getDateType())!==-1||a.updateDateType(0),o&&a.getTimeType()===o||a.updateTimeType(o),a.toString()}return null},he=function(t,n){var a={id:t.id},r=(0,g.getComponentType)(t);switch(r){case"radio":case"checkbox":case"dropDown":case"picRadio":case"picCheckbox":case"title":case"gender":case"ctcf_6":case"ctcf_7":a.data=K(t,n);break;case"attachment":case"picAttachment":case"avatar":a.attachment=q(t,n);break;case"signature":a.attachment=Q(t,n);break;case"rank":a.data=J(t,n);break;case"rate":case"ctcf_4":a.data=X(t,n);break;case"city":case"location":a.data=Z(t,n);break;case"address":a.data=ee(t,n);break;case"name":a.data=te(t,n);break;case"company":case"department":case"position":a.data=ne(t,n);break;case"mobile":a.data=ae(t,n);break;case"tabular":a.data=ie(t,n);break;case"multiLevel":case"ctcf_8":a.data=oe(t,n);break;case"number":case"currency":case"ctcf_3":a.data=se(t,n);break;case"SNS":case"IM":a.data=le(t,n);break;case"ctcf_11":a.data=de(t,n);break;case"ctcf_12":a.data=fe(t,n);break;case"ctcf_5":a.data=me(t,n);break;case"dateTime_both":case"dateTime_date":case"dateTime_time":case"birthDate":case"ctcf_9":a.data=pe(t,n);break;case"input":a.data=ue(t,n);break;default:a.data=ce(t,n)}return a},ge=function(t,n){var a=(0,g.getComponentType)(t);if(n&&f.FORM_CONTACT_INFO_COMPONENT_LIST.indexOf(a)>-1)switch(a){case"title":case"gender":var r=n[0],i=d.default.find(t.options,{sId:r});if(i)return i.id;break;case"company":case"department":case"position":if([2,3].indexOf(+t.searchComponentType)===-1)return n;break;case"email":case"mobile":return d.default.flatten([].concat(n).map(function(t){try{return d.default.isPlainObject(t)&&"mobile"===a?t.mobile:t.split(";")}catch(t){return""}}))[0];case"name":return n;case"location":if(n&&n.struct){var o={};return n.struct&&(n.struct[0]&&(o.I=n.struct[0]),n.struct[1]&&(o.II=n.struct[1]),n.struct[2]&&(o.III=n.struct[2]),n.struct[3]&&(o.IV=n.struct[3])),o}break;case"address":if(n){var s={};return n.struct&&(n.struct[0]&&(s.I=n.struct[0]),n.struct[1]&&(s.II=n.struct[1]),n.struct[2]&&(s.III=n.struct[2]),n.struct[3]&&(s.IV=n.struct[3])),[s,n.content||null,n.zipCode||null]}break;default:return d.default.isArray(n)&&n.join("")?n[0]:n}return null},_e=function(t,n,a){var r=(0,g.getComponentType)(t);if(n&&f.FORM_CONTACT_INFO_COMPONENT_LIST.indexOf(r)>-1){var i=ge(t,n);if(null!=i)switch(r){case"name":case"location":case"address":return JSON.stringify(i)!==JSON.stringify(a);default:return i!==a}}return!1};n.getUvdData=function(t){var n=t.components,a=t.data,r=t.uvd,i="ctcf#";return r=d.default.assign({},r),d.default.forEach(n,function(t){if(t){var n=d.default.startsWith(""+t.id,i)&&t.isCustomField,o=he(t,a[t.id]);if(!n){var s=!1;if("IM"===t.type||"SNS"===t.type)d.default.forEach(o.data,function(t,n){var a=f.METAID_COMPONENT_MAPPING[n];if(a&&t&&t[0]&&t[0]!==r[a])return s=!0,!1});else if(s=_e(t,a[t.id],r[f.COMPONENT_METAID_MAPPING[t.type]])){var l=ge(t,a[t.id]);null!=l&&("name"===t.type?r[f.COMPONENT_METAID_MAPPING[t.type]]=d.default.assign({},r[f.COMPONENT_METAID_MAPPING[t.type]],l):r[f.COMPONENT_METAID_MAPPING[t.type]]=l)}}}}),r},n.getSubmitData=function(t){var n=t.components,a=t.data,r=t.visitor,i=null;r&&(i=(r.uvd||{}).ct||{});var o={},s={},l={},u=[],c="ctcf#";return d.default.forEach(n,function(t){if(t){var n=d.default.startsWith(""+t.id,c)&&t.isCustomField,r=he(t,a[t.id]);if(r&&(r.attachment?(l.files||(l.files={}),l.files=d.default.assign({},l.files,r.attachment)):null!=r.data&&(n?s[r.id.replace(c,"")]=r.data:o[r.id]=r.data),i&&!n)){var m=!1;"IM"===t.type||"SNS"===t.type?d.default.forEach(r.data,function(t,n){var a=f.METAID_COMPONENT_MAPPING[n];if(a&&t&&t[0]&&t[0]!==i[a])return m=!0,!1}):m=_e(t,a[t.id],i[f.COMPONENT_METAID_MAPPING[t.type]]),m&&u.push(+t.id)}}}),{cp:o,cp_ctcf:s,ext:l,uvdList:u}}},function(t,n){"use strict";function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function r(t){return new Date(t.getTime())}function i(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t||!n)return!1;var i=r(t),o=r(n);return a||(i.setHours(0,0,0,0),o.setHours(0,0,0,0)),i.getSeconds()===o.getSeconds()&&i.getMinutes()===o.getMinutes()&&i.getHours()===o.getHours()&&i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()&&i.getFullYear()===o.getFullYear()}function o(t,n){var a=r(t),i=r(n);a.setHours(0,0,0,0),i.setHours(0,0,0,0);var o=Math.abs(a.getTime()-i.getTime());return Math.round(o/864e5)}function s(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=r(t),o=r(n);return a||(i.setHours(0,0,0,0),o.setHours(0,0,0,0)),i<o}function l(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=r(t),o=r(n);return a||(i.setHours(0,0,0,0),o.setHours(0,0,0,0)),i>o}function u(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=r(t);return i||o.setHours(0,0,0,0),l(o,n,i)&&s(o,a,i)||l(o,a,i)&&s(o,n,i)}function c(t){var n=new Date;return n.setHours(0,0,0,0),s(t,n)}function f(t){var n=new Date;return n.setHours(0,0,0,0),l(t,n)}function m(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{from:null,to:null},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=n.from,o=n.to;return r?r&&o?i(r,o)&&i(t,r)?a&&(r=null,o=null):i(t,r)||i(t,o)||s(t,o)&&l(t,r)?(r=t,o=null):s(t,r)?r=t:l(t,o)?o=t:(o=t,s(o,r)&&(o=r,r=t)):i(t,r)||i(t,o)?a&&(r=null,o=null):(o=t,s(o,r)&&(o=r,r=t)):r=t,{from:r,to:o}}function p(t,n,a){var r=n.from,o=n.to;return r&&o?u(t,r,o,a)||i(t,r,a)||i(t,o,a):r?i(t,r,a)||l(t,r,a):!!o&&(i(t,o,a)||s(t,o,a))}function h(t){return t>1&&t<9999?t%4===0&&t%100!==0||t%400===0:null}function g(t,n){var a=(""+t).length;return a>n?(""+t).slice(-n):("0000"+t).slice(-n)}function _(){for(var t=arguments.length,n=Array(t),a=0;a<t;a++)n[a]=arguments[a];return new(Function.prototype.bind.apply(S,[null].concat(n)))}Object.defineProperty(n,"__esModule",{value:!0});var v=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),b=/(MM?M?M?|DD?D?D?|WW?|YYYY|YY|HH?|mm?|ii?|ss?|S{1,4}|.)/g,y="MDWYHmisS",E=["年","月","日","时","分","秒","毫秒"],C=["y","M","d","h","m","s","ms"],T=[31,28,31,30,31,30,31,31,30,31,30,31],S=function(){function t(n,r){return a(this,t),this._Date=t._dateTimeFormatter(n),r&&(this._Date=new Date(this.getUTCFullDateTime())),this.__isMGMoment=!0,this}return v(t,[{key:"isMGMoment",value:function(){return this.__isMGMoment}},{key:"__getN",value:function(){return this._Date}},{key:"clone",value:function(){return new t(this)}},{key:"_year",value:function(t){return t?this._Date.getUTCFullYear():this._Date.getFullYear()}},{key:"_month",value:function(t){return t?this._Date.getUTCMonth():this._Date.getMonth()}},{key:"_date",value:function(t){return t?this._Date.getUTCDate():this._Date.getDate()}},{key:"_day",value:function(t){return t?this._Date.getUTCDay():this._Date.getDay()}},{key:"_hours",value:function(t){return t?this._Date.getUTCHours():this._Date.getHours()}},{key:"_minutes",value:function(t){return t?this._Date.getUTCMinutes():this._Date.getMinutes()}},{key:"_seconds",value:function(t){return t?this._Date.getUTCSeconds():this._Date.getSeconds()}},{key:"_ms",value:function(t){return t?this._Date.getUTCMilliseconds():this._Date.getMilliseconds()}},{key:"_time",value:function(){return this._Date.getTime()}},{key:"isLeapYear",value:function(){return h(this.year())}},{key:"decade",value:function(){return 10*Math.floor(this._year()/10)}},{key:"year",value:function(t){return void 0===t||isNaN(+t)||"boolean"==typeof t?this._year(t):(t=+t,h(t)||1!==this._month()||29!==this._date()||this.date(28),this._Date.setFullYear(t),this)}},{key:"month",value:function(t){return void 0===t||isNaN(+t)||"boolean"==typeof t?this._month(t):(t=+t,this.isLeapYear()&&1===t&&this._date()>=29?this.date(29):this._date()>T[t]&&this.date(T[t]),this._Date.setMonth(t),this)}},{key:"week",value:function(){return this._day()}},{key:"date",value:function(t){return void 0===t||isNaN(+t)||"boolean"==typeof t?this._date(t):(t=+t,this.isLeapYear()&&1===this._month()&&t>=29?t=29:t>T[this._month()]?t=T[this._month()]:t<1&&(t=1),this._Date.setDate(t),this)}},{key:"hours",value:function(t){return void 0===t||isNaN(+t)||"boolean"==typeof t?this._hours(t):(t=+t,this._Date.setHours(Math.max(0,Math.min(t,23))),this)}},{key:"minutes",value:function(t){return void 0===t||isNaN(+t)||"boolean"==typeof t?this._minutes(t):(t=+t,this._Date.setMinutes(Math.max(0,Math.min(t,59))),this)}},{key:"seconds",value:function(t){return void 0===t||isNaN(+t)||"boolean"==typeof t?this._seconds(t):(t=+t,this._Date.setSeconds(Math.max(0,Math.min(t,59))),this)}},{key:"milliseconds",value:function(t){return void 0===t||isNaN(+t)||"boolean"==typeof t?this._ms(t):(t=+t,this._Date.setMilliseconds(Math.max(0,Math.min(t,999))),this)}},{key:"time",value:function(){return this._time()}},{key:"add",value:function(t,n){switch(n=n.toLowerCase(),t=+t,n){case"y":this.year(this._year()+t);break;case"m":var a=(t<0?-1:1)*Math.floor(Math.abs(t)/12),r=(t<0?-1:1)*(Math.abs(t)%12);this.month(this._month()+r),this.year(this._year()+a);break;case"d":this._Date.setDate(this._date()+t);break;case"w":this._Date.setDate(this._date()+7*t);break;case"h":this._Date.setHours(this._hours()+t);break;case"min":this._Date.setMinutes(this._minutes()+t);break;case"s":this._Date.setSeconds(this._seconds()+t)}return this}},{key:"startOf",value:function(t){switch(t){case"year":this.month(0);case"month":this.date(1);case"date":this.hours(0);case"hours":this.minutes(0);case"minutes":this.seconds(0);case"seconds":this.milliseconds(0)}return this}},{key:"endOf",value:function(t){switch(t){case"year":this.month(11);case"month":this.date(31);case"date":this.hours(23);case"hours":this.minutes(59);case"minutes":this.seconds(59);case"seconds":this.milliseconds(999)}return this}},{key:"day",value:function(t){return void 0===t||isNaN(+t)?this._day():this.add(t-this._day(),"d")}},{key:"age",value:function(t){var n=t.split(" ")[0].split("-");if(2===n.length&&2===n[1].length)return!1;var a=_(t),r=this.year()-a.year(),i=this.month()-a.month();return this.month()<a.month()?(r--,i=12+i):this.month()===a.month()&&this.date()<a.date()&&(r--,i=11),{year:r,month:i}}},{key:"isSameDay",value:function(t){return!!t&&i(this._Date,_(t)._Date)}},{key:"gap",value:function(t){return o(this._Date,_(t)._Date)}},{key:"isDayBefore",value:function(t){return!!t&&s(this._Date,_(t)._Date)}},{key:"isDayAfter",value:function(t){return!!t&&l(this._Date,_(t)._Date)}},{key:"isPastDay",value:function(){return!!d&&c(this._Date)}},{key:"isFutureDay",value:function(){return!!d&&f(this._Date)}},{key:"isBetween",value:function(t,n){return!(!t||!n)&&u(this._Date,_(t)._Date,_(n)._Date)}},{key:"isInRange",value:function(t){return!(!t.from||!t.to)&&p(this._Date,t)}},{key:"addToRange",value:function(t){return m(this._Date,t)}},{key:"_formatDate",value:function(t,n){var a=this,r=t.match(b);return r?r.map(function(t){if(y.indexOf(t[0])>-1){var r=t.length,i="";switch(t[0]){case"Y":i=g(a.year(!!n),r);break;case"M":i=g(a.month(!!n)+1,r);break;case"D":i=g(a.date(!!n),r);break;case"W":i=g(a.week(!!n)+1,r);break;case"H":i=g(a.hours(!!n),r);break;case"m":case"i":i=g(a.minutes(!!n),r);break;case"s":case"S":i=g(a.seconds(!!n),r)}return i}return t}).join(""):null}},{key:"getFullDate",value:function(){return this._formatDate("YYYY-MM-DD")}},{key:"getFullDateTime",value:function(){return this._formatDate("YYYY-MM-DD HH:mm:ss")}},{key:"getUTCFullDateTime",value:function(){return this._formatDate("YYYY-MM-DD HH:mm:ss",!0)}},{key:"getYearMonth",value:function(){return this._formatDate("YYYY-MM")}},{key:"getMonthDay",value:function(){return this._formatDate("MM-DD")}},{key:"getShortDate",value:function(){return this._formatDate("DD/MM/YY")}},{key:"getMonthYear",value:function(){return this._formatDate("MM/YY")}},{key:"getTime",value:function(){return this._formatDate("HH:mm:ss")}},{key:"getTimeHourMinute",value:function(){return this._formatDate("HH:mm")}},{key:"toString",value:function(){return this._Date.toString()}},{key:"format",value:function(t){return t?this._formatDate(t):this.toString()}}],[{key:"_dateTimeFormatter",value:function(n){if(null===n||void 0===n)return new Date;var a=Object.prototype.toString.call(n);if("[object Date]"===a)return new Date(n.getTime());if("[object Number]"===a)return new Date(n);if("[object String]"===a){var r=n.match(/\d+((ms)|[yMdhms年月日时分秒]|(毫秒))/gi),i=[0,0,0,0,0,0,0];if(r&&r.length>=3)r.forEach(function(t){var n=/(\d+)([yMdhms年月日时分秒]|(毫秒))/.exec(t);n&&(void 0===i[C.indexOf(n[2])]?i[E.indexOf(n[2])]=n[1]:i[C.indexOf(n[2])]=n[1])});else{var o=n.replace(/^\s+|\s+$/gm,"").split(/\-|\_|\:|\s/g);n.match(/[\-\_]/)?o.forEach(function(t,n){t&&(i[n]=t)}):o.forEach(function(t,n){t&&(i[n+3]=t)})}if(0===i.reduce(function(t,n){t+=n},0))return new Date;var s=i[0],l=i[1],u=i[2],c=i[3],d=i[4],f=i[5],m=i[6];return new Date(s,l-1,u,c,d,f,m)}return"[object Object]"===a&&n instanceof t?new Date(n.time()):void 0}}]),t}();_.gap=o,_.isSameDay=i,_.isDayBefore=s,_.isDayAfter=l,_.isPastDay=c,_.isFutureDay=f,_.isDayBetween=u,_.addDayToRange=m,_.isDayInRange=p,n.default=_,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.CalendarObject=n.TIME_TYPE_H=n.TIME_TYPE_HM=n.TIME_TYPE_HMS=n.TIME_TYPE_NULL=n.DATE_TYPE_D=n.DATE_TYPE_M=n.DATE_TYPE_Y=n.DATE_TYPE_MD=n.DATE_TYPE_YM=n.DATE_TYPE_YMD=n.DATE_TYPE_NULL=void 0;var o=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},l=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),u=a(99),c=r(u),d=a(97),f=r(d),m=n.DATE_TYPE_NULL=0,p=n.DATE_TYPE_YMD=1,h=n.DATE_TYPE_YM=2,g=n.DATE_TYPE_MD=3,_=n.DATE_TYPE_Y=4,v=n.DATE_TYPE_M=5,b=n.DATE_TYPE_D=6,y=n.TIME_TYPE_NULL=0,E=n.TIME_TYPE_HMS=3,C=n.TIME_TYPE_HM=2,T=n.TIME_TYPE_H=1,S={0:m,7:p,6:h,3:g,4:_,2:v,1:b},M={year:"YEAR",month:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],day:"DAY",hour:"H"},I=(n.CalendarObject=function(){function t(n,a){i(this,t),this.lang=a||M;var r=n;(0,c.default)(n)&&(r=A(r)),this._init(r)}return l(t,[{key:"_init",value:function(t){this.obj=N(t)}},{key:"getDateType",value:function(){return this.obj.dateType}},{key:"updateDateType",value:function(t){this.obj.dateType=t}},{key:"getTimeType",value:function(){return this.obj.timeType}},{key:"updateTimeType",value:function(t){this.obj.timeType=t}},{key:"toObject",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=s({},this.obj),a=t?null:2e3,r=t?null:0,i=t?null:1,o=t?null:0;switch(n.dateType){case m:n.y=null,n.m=null,n.d=null;break;case g:n.y=a;break;case h:n.d=i;break;case _:n.m=r,n.d=i;break;case v:n.y=a,n.d=i;break;case b:n.y=a,n.m=r}switch(n.timeType){case y:n.H=null,n.M=null,n.S=null;break;case C:n.S=o;break;case T:n.M=o,n.S=o}return n}},{key:"toString",value:function(){return x(this.toObject())}},{key:"toDisplay",value:function(){var t=this.toObject(),n=new Date(t.y||0,t.m||0,t.d||0,t.H||0,t.M||0,t.S||0,0),a=(0,f.default)(n),r=[];switch(t.dateType){case m:break;case p:r.push(a.format("YYYY-MM-DD"));break;case h:r.push(a.format("YYYY-MM"));break;case g:r.push(a.format("MM-DD"));break;case _:r.push(a.format("YYYY")+this.lang.year);break;case v:r.push(this.lang.month[a.month()]);break;case b:r.push(a.format("DD")+this.lang.day)}if(!t.dateType||[b,g,p,m].indexOf(t.dateType)>-1)switch(t.timeType){case y:break;case T:r.push(a.format("HH")+this.lang.hour);break;case C:r.push(a.format("HH:mm"));break;case E:r.push(a.format("HH:mm:ss"))}return r.join(" ")}}]),t}(),function(t){return t instanceof Date&&!isNaN(t)}),N=function(t){var n=s({},t);if(n.y=null!=n.y?n.y>>>0:null,n.m=null!=n.m?n.m>>>0:null,n.d=null!=n.d?n.d>>>0:null,n.H=null!=n.H?n.H>>>0:null,n.M=null!=n.M?n.M>>>0:null,n.S=null!=n.S?n.S>>>0:null,t.dateType===p){var a=new Date(n.y,n.m,n.d,0,0,0,0);I(a)||(a=new Date),n.y=a.getFullYear(),n.m=a.getMonth(),n.d=a.getDate()}else t.dateType!==m&&(n.m>11&&(n.m=0),n.d<1?n.d=1:n.d>29&&([1,3,5,7,8,10,12].indexOf(n.m+1)>-1?n.d=Math.min(31,n.d):1===n.m?n.d=Math.min(29,n.d):n.d=Math.min(30,n.d)));return t.timeType===y||null==n.H&&null==n.M&&null==n.S?n.timeType=y:(null!=n.H&&(n.H>=24&&(n.H=0),n.timeType=T),null!=n.M&&(n.M>=60&&(n.M=0),n.timeType=C),null!=n.S&&(n.S>=60&&(n.S=0),n.timeType=E)),n},A=function(t){var n=(""+t).split(" "),a=o(n,2),r=a[0],i=a[1];i||r.indexOf(":")>-1&&(i=r,r=null);var s={};if(r){var l=1,u=1,c=1,d=void 0,f=void 0,p=void 0,h=function(t){t[0]>12&&t.length>1?(d=+t[0],d<100&&(d=2e3+d),t[1]?f=t[1]-1:u=0,c=0,s.dateType=S[parseInt(""+l+u+c,2)],s.y=d,s.m=f||0,s.d=1):t[0]>12&&1===t.length?(l=0,u=0,s.dateType=S[parseInt(""+l+u+c,2)],s.y=2e3,s.m=0,s.d=+t[0]):(l=0,f=t[0]-1,t[1]?p=+t[1]:c=0,s.dateType=S[parseInt(""+l+u+c,2)],s.y=2e3,s.m=f||0,s.d=p||1)},g=function(t,n,a){t?(t=+t,t<100&&(t=2e3+t)):(t=2e3,l=0),n?n-=1:(n=0,u=0),a?a=+a:(a=1,c=0),s.dateType=S[parseInt(""+l+u+c,2)],s.y=t,s.m=n,s.d=a};if(r.indexOf("-")>-1){var _=r.split("-");if(3===_.length){var v=o(_,3);d=v[0],f=v[1],p=v[2],g(d,f,p)}else h(_)}else if(r.indexOf("/")>-1){var b=r.split("/");if(3===b.length){if(+b[0]>1900){var C=o(b,3);d=C[0],f=C[1],p=C[2]}else if(b[1]>12&&b[0]<=12){var T=o(b,3);f=T[0],p=T[1],d=T[2]}else{var M=o(b,3);p=M[0],f=M[1],d=M[2]}g(d,f,p)}else h(b)}else{var I=r.split("<?>");h(I)}}else s.dateType=m;if(i){var A=i.split(":"),x=o(A,3),k=x[0],D=x[1],O=x[2];s.H=(k||0)>>>0,s.M=(D||0)>>>0,s.S=(O||0)>>>0,s.timeType=E}else s.timeType=y;return N(s)},x=function(t){var n=new Date(t.y||0,t.m||0,t.d||0,t.H||0,t.M||0,t.S||0,0),a=(0,f.default)(n),r=[];switch(t.dateType){case m:break;case p:r.push(a.format("YYYY-MM-DD"));break;case h:r.push(a.format("YYYY-MM-"));break;case g:r.push(a.format("-MM-DD"));break;case _:r.push(a.format("YYYY--"));break;case v:r.push(a.format("-MM-"));break;case b:r.push(a.format("--DD"))}if(!t.dateType||t.dateType===m||t.dateType===p||t.dateType===g||t.dateType===b)switch(t.timeType){case y:break;case T:r.push(a.format("HH:00:00"));break;case C:r.push(a.format("HH:mm:00"));break;case E:r.push(a.format("HH:mm:ss"))}return r.join(" ")}},function(t,n,a){function r(t){return"string"==typeof t||!o(t)&&s(t)&&i(t)==l}var i=a(100),o=a(106),s=a(107),l="[object String]";t.exports=r},function(t,n,a){function r(t){return null==t?void 0===t?u:l:c&&c in Object(t)?o(t):s(t)}var i=a(101),o=a(104),s=a(105),l="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,n,a){var r=a(102),i=r.Symbol;t.exports=i},function(t,n,a){var r=a(103),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,n){(function(n){var a="object"==typeof n&&n&&n.Object===Object&&n;t.exports=a}).call(n,function(){return this}())},function(t,n,a){function r(t){var n=s.call(t,u),a=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=l.call(t);return r&&(n?t[u]=a:delete t[u]),i}var i=a(101),o=Object.prototype,s=o.hasOwnProperty,l=o.toString,u=i?i.toStringTag:void 0;t.exports=r},function(t,n){function a(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=a},function(t,n){var a=Array.isArray;t.exports=a},function(t,n){function a(t){return null!=t&&"object"==typeof t}t.exports=a},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}function o(t){for(var n=t.split(";base64,"),a=n[0].split(":")[1],r=window.atob(n[1]),i=r.length,o=new Uint8Array(i),s=0;s<i;++s)o[s]=r.charCodeAt(s);return new Blob([o],{type:a})}Object.defineProperty(n,"__esModule",{value:!0});var s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};n.dataURLToBlob=o;var l=a(22),u=r(l),c=a(19),d=r(c),f=a(23),m=r(f),p=a(109),h=r(p),g=a(110),v=r(g),b=d.default.createClass({displayName:"MGSign",mixins:[m.default],getDefaultProps:function(){return{velocityFilterWeight:.7,minWidth:1.1,maxWidth:3.3,throttle:20,minDistance:5,penColor:"#0b1616",backgroundColor:"rgba(0,0,0,0)",onChange:null}},getInitialState:function(){return this.ratio=Math.max(1.5,Math.min(2.5,.9*window.devicePixelRatio||1)),this.dotSize=(this.props.minWidth+this.props.maxWidth)/2,this.minDistance=5,this.handleStrokeMoveUpdate=_.throttle(this._strokeMoveUpdate,this.props.throttle),{}},componentDidMount:function(){this._ctx=this.sign.getContext("2d"),this._ctx.scale(this.ratio,this.ratio),this.clear();var t=this.props.defaultValue;t&&("[object Array]"===Object.prototype.toString.call(t)?this.fromData(t):this.fromDataURL(t)),document.addEventListener("mouseup",this.handleMouseEnd),this.sign.addEventListener("touchstart",this.handleTouchStart,{passive:!1}),document.addEventListener("touchmove",this.handleStopMove,{passive:!1})},componentDidUpdate:function(t){if(t.width!==this.props.width||t.height!==this.props.height){var n=this._data;this._ctx=this.sign.getContext("2d"),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.scale(this.ratio,this.ratio),this.clear(),this.fromData(n)}},componentWillUnmount:function(){this.clear(),document.removeEventListener("mouseup",this.handleMouseEnd),this.sign.removeEventListener("touchstart",this.handleTouchStart,{passive:!1}),document.removeEventListener("touchmove",this.handleStopMove,{passive:!1}),this.handleStrokeMoveUpdate.cancel&&this.handleStrokeMoveUpdate.cancel()},handleStopMove:function(e){this.stopMove&&(e.preventDefault(),e.stopPropagation())},handleStrokeStart:function(e){var t={color:this.props.penColor,points:[]};this._data.push(t),this._reset(),this._strokeMoveUpdate(e)},_strokeMoveUpdate:function(e){var t=e.clientX,n=e.clientY,a=this._createPoint(t,n),r=this._data[this._data.length-1],i=r.points,o=i.length>0&&i[i.length-1],s=!!o&&a.distanceTo(o)<=this.minDistance,l=r.color;if(!o||!o||!s){var u=this._addPoint(a);o?u&&this._drawCurve({color:l,curve:u}):this._drawDot({color:l,point:a}),i.push({time:a.time,x:a.x,y:a.y})}},handleStrokeEnd:function(e){var t=this.props.onChange;this._strokeMoveUpdate(e),t&&t(e,this.getData())},fromData:function(t){var n=this;this.clear(),this._fromData(t,function(t){var a=t.color,r=t.curve;return n._drawCurve({color:a,curve:r})},function(t){var a=t.color,r=t.point;return n._drawDot({color:a,point:r})}),this._data=t},_fromData:function(t,n,a){var r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var u=s.value,c=u.color,d=u.points;if(d.length>1)for(var f=0;f<d.length;f+=1){var m=d[f],p=new h.default(m.x,m.y,m.time);this.penColor=c,0===f&&this._reset();var g=this._addPoint(p);g&&n({color:c,curve:g})}else this._reset(),a({color:c,point:d[0]})}}catch(t){i=!0,o=t}finally{try{!r&&l.return&&l.return()}finally{if(i)throw o}}},fromDataURL:function(t){if(t){var n=new Image,a=this.ratio,r=this.sign.width/a,i=this.sign.height/a;this._reset();var o=this._ctx;n.onload=function(){var t=this.width,a=this.height,s=Math.min(1,r/t,i/a);t*=s,a*=s,o.drawImage(n,(r-t)/2,(i-a)/2,t,a)},n.onerror=function(t){},n.src=t,this._isEmpty=!1}},_createPoint:function(t,n){var a=this.props.rotation,r=this.sign.getBoundingClientRect();if(1===a){var i=n-r.top,o=r.right-t;return new h.default(i,o,+new Date)}return new h.default(t-r.left,n-r.top,+new Date)},_addPoint:function(t){if(this._lastPoints.push(t),this._lastPoints.length>2){3===this._lastPoints.length&&this._lastPoints.unshift(this._lastPoints[0]);var n=this._calculateCurveWidths(this._lastPoints[1],this._lastPoints[2]),a=v.default.fromPoints(this._lastPoints,n);return this._lastPoints.shift(),a}return null},_calculateCurveWidths:function(t,n){var a=this.props.velocityFilterWeight,r=a*n.velocityFrom(t)+(1-a)*this._lastVelocity,i=this._strokeWidth(r),o={end:i,start:this._lastWidth};return this._lastVelocity=r,this._lastWidth=i,o},_strokeWidth:function(t){var n=this.props,a=n.minWidth,r=n.maxWidth;return Math.max(r/(t+1),a)},_drawCurveSegment:function(t,n,a){var r=this._ctx;r.moveTo(t,n),r.arc(t,n,a,0,2*Math.PI,!1),this._isEmpty=!1},_drawCurve:function(t){var n=t.color,a=t.curve,r=this._ctx,i=a.endWidth-a.startWidth,o=2*Math.floor(a.length());r.beginPath(),r.fillStyle=n;for(var s=0;s<o;s+=1){var l=s/o,u=l*l,c=u*l,d=1-l,f=d*d,m=f*d,p=m*a.startPoint.x;p+=3*f*l*a.control1.x,p+=3*d*u*a.control2.x,p+=c*a.endPoint.x;var h=m*a.startPoint.y;h+=3*f*l*a.control1.y,h+=3*d*u*a.control2.y,h+=c*a.endPoint.y;var g=Math.min(a.startWidth+c*i,this.props.maxWidth);this._drawCurveSegment(p,h,g)}r.closePath(),r.fill()},_drawDot:function(t){var n=t.color,a=t.point,r=this._ctx,i=this.dotSize;r.beginPath(),this._drawCurveSegment(a.x,a.y,i),r.closePath(),r.fillStyle=n,r.fill()},_toDataURL:function(t){return this.sign.toDataURL("image/png",t)},getData:function(){return{isEmpty:this._isEmpty,dataURL:this._toDataURL(),data:this._data}},clear:function(){var t=this._ctx,n=this.sign;t.fillStyle=this.props.backgroundColor,t.clearRect(0,0,n.width,n.height),t.fillRect(0,0,n.width,n.height),this._data=[],this._reset(),this._isEmpty=!0},_reset:function(){var t=this.props,n=t.minWidth,a=t.maxWidth,r=t.penColor;this._lastPoints=[],this._lastVelocity=0,this._lastWidth=(n+a)/2,this._ctx.fillStyle=r},handleMouseDown:function(e){e.button<2&&(this._mouseDown=!0,this.handleStrokeStart(e))},handleMouseMove:function(e){this._mouseDown&&(e.persist(),e.preventDefault(),e.stopPropagation(),this.handleStrokeMoveUpdate(e))},handleMouseEnd:function(e){e.button<2&&this._mouseDown&&(this._mouseDown=!1,this.handleStrokeEnd(e))},handleTouchStart:function(e){if(e.preventDefault(),1===e.targetTouches.length){this.stopMove=!0;var t=e.changedTouches[0];this.handleStrokeStart(t)}},handleTouchMove:function(e){e.persist(),e.preventDefault(),e.stopPropagation();var t=e.targetTouches[0];this.handleStrokeMoveUpdate(t)},handleTouchEnd:function(e){var t=e.target===this.sign;if(t){this.stopMove=!1,e.preventDefault();var n=e.changedTouches[0];this.handleStrokeEnd(n)}},refSign:function(t){this.sign=t},render:function(){var t=this.props,n=(t.onChange,t.className),a=t.width,r=t.height,o=(t.rotation,t.style),l=i(t,["onChange","className","width","height","rotation","style"]),c={onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd};return d.default.createElement("canvas",s({className:(0,u.default)("mg-sign",n),ref:this.refSign,width:a?a*this.ratio:null,height:r?r*this.ratio:null,style:s({},o,{touchAction:"none"})},l,c))}});n.default=b},function(t,n){"use strict";function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),i=function(){function t(n,r,i){a(this,t),this.time=null,this.x=n,this.y=r,this.time=i||Date.now()}return r(t,[{key:"distanceTo",value:function(t){return Math.sqrt(Math.pow(this.x-t.x,2)+Math.pow(this.y-t.y,2))}},{key:"equals",value:function(t){return this.x===t.x&&this.y===t.y&&this.time===t.time}},{key:"velocityFrom",value:function(t){return this.time!==t.time?this.distanceTo(t)/(this.time-t.time):0}}]),t}();n.default=i,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(109),l=r(s),u=function(){function t(n,a,r,o,s,l){i(this,t),this.startPoint=n,this.control1=r,this.control2=a,this.endPoint=o,this.startWidth=s,this.endWidth=l}return o(t,null,[{key:"fromPoints",value:function(n){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{start:null,end:null},r=this.calculateControlPoints(n[0],n[1],n[2]).c2,i=this.calculateControlPoints(n[1],n[2],n[3]).c1;return new t(n[1],r,i,n[2],a.start,a.end)}},{key:"calculateControlPoints",value:function(t,n,a){var r=t.x-n.x,i=t.y-n.y,o=n.x-a.x,s=n.y-a.y,u={x:(t.x+n.x)/2,y:(t.y+n.y)/2},c={x:(n.x+a.x)/2,y:(n.y+a.y)/2},d=Math.sqrt(r*r+i*i),f=Math.sqrt(o*o+s*s),m=u.x-c.x,p=u.y-c.y,h=f/(d+f),g={x:c.x+m*h,y:c.y+p*h},_=n.x-g.x,v=n.y-g.y;return{c1:new l.default(u.x+_,u.y+v),c2:new l.default(c.x+_,c.y+v)}}}]),o(t,[{key:"length",value:function t(){for(var n=10,t=0,a=0,r=0,i=0;i<=n;i+=1){var o=i/n,s=this.point(o,this.startPoint.x,this.control1.x,this.control2.x,this.endPoint.x),l=this.point(o,this.startPoint.y,this.control1.y,this.control2.y,this.endPoint.y);if(i>0){var u=s-+a,c=l-+r;t+=Math.sqrt(u*u+c*c)}a=s,r=l}return t}},{key:"point",value:function(t,n,a,r,i){return n*(1-t)*(1-t)*(1-t)+3*a*(1-t)*(1-t)*t+3*r*(1-t)*t*t+i*t*t*t;
}}]),t}();n.default=u,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.cki=void 0;var i=a(6),o=r(i),s=a(95),l=a(8),u=a(38),c=a(17),d=a(55),f=function(t,n){var a=[];o.default.forEach(t.layout,function(t){d.L_NORMAL===t.type?a.push(t):d.L_SQUEEZEBOX===t.type&&o.default.forEach(t.children,function(t){a.push({type:d.L_NORMAL,id:t})})});var r=[],i=t.extensions.checkInInfo;if(i&&i.ckiOpen&&i.ckiOpenComponent&&i.ckiOpenComponent.length>0){var s=i.ckiOpenComponent;o.default.forEach(a,function(n){n.id&&"paging"!==t.components[n.id].type&&s.indexOf(n.id)>-1&&n.id!==i.ckiComponent&&r.push(n)})}return[r]},m=function(t){var n=t.config,a=t.form,r=+new Date,i={};o.default.forEach(n.getCache(c.CKI_ONCE_LIST)||{},function(t,n){+new Date(t)>r&&(i[n]=t)}),n.setCache(c.CKI_ONCE_LIST,i);var s=a.extensions.checkInInfo;return!!(s&&s.ckiOnlyOnce&&i[a.token])},p=null;n.cki=function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],r=t(),i={},h=!1,g=function(){var t=(0,s._getCurrentOrder)(r,n),a=f(r,t);i.form=o.default.assign(i.form||{},{position:t,pages:a})};if(!r.extensions.checkIn||!r.extensions.checkInInfo)return n;var _=(r.extensions.checkInInfo||{}).ckiComponent;switch(a.type){case u._BLUR_MULTI_INPUT:+a.id===+_&&p&&p!==n.data[a.id].join(";")&&(p=null,i.form=o.default.assign(i.form||{},{formStatus:0}));break;case u._BLUR_INPUT:+a.id===+_&&p&&p!==n.data[a.id]&&(p=null,i.form=o.default.assign(i.form||{},{formStatus:0}));break;case u._CHECK_IN:p=n.data[_],o.default.isArray(p)&&(p=p.join(";"));break;case u._CHECK_IN_SUCCEED:i.form=o.default.assign(i.form||{},{pending:!1,submitFin:!0,formStatus:0}),a.data&&a.data.hello&&(i.form.extData={hello:a.data.hello});var v=r.extensions.checkInInfo;if(v&&v.ckiOnlyOnce){var b=o.default.assign({},(0,c.getConfig)().getCache(c.CKI_ONCE_LIST)||{}),y=new Date;y.setHours(0,0,0,0);var E=new Date(y);E.setDate(E.getDate()+l._COOKIE_STATIC.SUBMIT_ONCE_DAY),E.setHours(23,59,59,999),b[r.token]=+E,(0,c.getConfig)().setCache(c.CKI_ONCE_LIST,b)}break;case u._CHECK_IN_FAILED:i.form=o.default.assign(i.form||{},{pending:!1,submitFin:!1,formStatus:a.data.r});break;case u._CHECK_CKI_ONCE:if((0,c.getMode)()===d.MODE_FILLING&&0===r.JHR){var C=m({config:(0,c.getConfig)(),form:r});C&&(r.setJHR(-827),i.form=o.default.assign(i.form||{},{formStatus:r.JHR}))}break;default:g()}if(o.default.isEmpty(i))return n;var T=o.default.assign({},n);return o.default.forEach(i,function(t,n){T[n]=o.default.assign({},T[n],t)}),h&&i.validated&&(T.validated=i.validated),T}}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.validation=void 0;var i=a(6),o=r(i),s=a(113),l=a(38),u=a(55),c=function(t){var n={};return o.default.forEach(t,function(t,a){null!=t&&(n[a]=t)}),n},d=function(t){var n=o.default.filter(o.default.uniq(t));return o.default.isEmpty(n)?null:n},f=function(t,n){var a=-1;return o.default.forEach(t,function(t,r){if(o.default.isPlainObject(t)&&t.type===n||t===n)return a=r,!1}),a},m=function(){return!1},p=function(t,n,a){var r=[].concat(t),i=!1,s=f(t,n);if(s>-1){var l=a(this.cp,this.value,{data:this.data});l?(o.default.isString(l)&&t[s]!==l||o.default.isPlainObject(l)&&JSON.stringify((t[s]||{}).info)!==JSON.stringify(l.info))&&(r.splice(s,1,l),i=!0):(r.splice(s,1),i=!0)}return i?r:t},h=function(t,n){var a={};return o.default.forEach(t,function(t){if(!t)return!0;var r=[],i=n[t.id],l=(0,u.getComponentType)(t);switch(l){case"input":case"email":case"tel":case"fax":case"website":case"wechat":case"qq":case"skype":case"whatsApp":case"messenger":case"viber":case"line":case"telegram":case"weibo":case"linkedIn":case"twitter":case"facebook":case"instagram":case"mkGooglePlus":case"IM":case"SNS":case"ctcf_1":r=r.concat((0,s.contentLength)(t,i),(0,s.required)(t,i),(0,s.contentRegexp)(t,i));break;case"name":r=r.concat((0,s.nameLegalLength)(t,i),(0,s.required)(t,i));break;case"mobile":var c=i;t.isSendMsgAuth&&o.default.isObject(c)&&(c=c.mobile),r=r.concat((0,s.contentLength)(t,c),(0,s.required)(t,c),(0,s.contentRegexp)(t,c),(0,s.base_needAuthMobile)(t,i),(0,s.base_authedMobileResConfirm)(t,i));break;case"number":case"currency":case"ctcf_3":r=r.concat((0,s.numberLegal)(t,i),(0,s.numberRange)(t,i),(0,s.required)(t,i));break;case"city":case"location":case"address":r=r.concat((0,s.required)(t,i));break;case"checkbox":case"radio":case"picCheckbox":case"picRadio":case"dropDown":case"gender":case"title":case"ctcf_6":case"ctcf_7":r=r.concat((0,s.choiceLimit)(t,i),(0,s.required)(t,i),(0,s.choiceInputRequired)(t,i));break;case"company":case"department":case"position":[2,3].indexOf(+t.searchComponentType)>-1&&(r=r.concat((0,s.choiceLimit)(t,i),(0,s.choiceInputRequired)(t,i))),r=r.concat((0,s.required)(t,i));break;case"picAttachment":case"attachment":case"avatar":r=r.concat((0,s.attachmentLegal)(t,i),(0,s.attachmentType)(t,i),(0,s.attachmentSize)(t,i),(0,s.attachmentImageSize)(t,i),(0,s.required)(t,i),(0,s.base_attachmentNumber)(t,i));break;case"dateTime_both":case"dateTime_date":case"dateTime_time":case"birthDate":case"ctcf_9":r=r.concat((0,s.dateLegal)(t,i),(0,s.required)(t,i));break;case"multiLevel":case"ctcf_8":r=r.concat((0,s.levelFillingEnd)(t,i),(0,s.required)(t,i));break;case"ctcf_5":r=r.concat((0,s.numberLegal)(t,i[1]),(0,s.numberRange)(t,i[1]),(0,s.required)(t,i));break;case"ctcf_11":r=r.concat((0,s.required)(t,i),(0,s.contentCNID)(t,i?i.value:null),(0,s.contentCNIDLocation)(t,i));break;case"ctcf_12":r=r.concat((0,s.required)(t,i),(0,s.contentCNVehicle)(t,i));break;default:r=r.concat((0,s.required)(t,i))}r=d(r),a[t.id]=r}),a};n.validation=function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],r=t(),i=n.data,f=n.validated||{},g={},_=r.components[a.id],v=a.id?i[a.id]:null;switch(a.type){case l._BLUR_NUMBER:var b=[];f[a.id]&&(b=p.call({cp:_,value:v},b,"required",s.required)),b=b.concat((0,s.numberLegal)(_,v),(0,s.numberRange)(_,v)),g[a.id]=d(b);break;case l._BLUR_INPUT:case l._BLUR_GROUP_INPUT:case l._BLUR_MULTI_INPUT:case l._REMOVE_MULTI_INPUT_ITEM:case l._BLUR_DATE_TIME_VALUE:var y=[];f[a.id]&&(y=p.call({cp:_,value:v},y,"required",s.required),y=p.call({cp:_,value:v},y,"duplicateData",s.verificationClean)),y=y.concat((0,s.contentLength)(_,v),(0,s.contentRegexp)(_,v)),g[a.id]=d(y);break;case l._CHECK_INDEPENDENT_DATA_FAILED:var E=f[a.id];E=(E||[]).concat("duplicateData"),g[a.id]=d(E);break;case l._SET_VALUE:case l._SET_GROUP_VALUE:case l._SET_MULTI_INPUT_VALUE:case l._SET_DATE_TIME_VALUE:if(f[a.id]){var C=f[a.id];switch(C=p.call({cp:_,value:v},C,"required",s.required),C=p.call({cp:_,value:v},C,"contentRegex",s.contentRegexp),C=p.call({cp:_,value:v},C,"duplicateData",s.verificationClean),_.type){case"input":C=p.call({cp:_,value:v},C,"tips",s.contentLength);break;case"number":C=p.call({cp:_,value:v},C,"tips",s.numberRange)}f[a.id]!==C&&(g[a.id]=d(C))}break;case l._SET_MULTILEVEL_VALUE:if(f[a.id]){var T=f[a.id];T=p.call({cp:_,value:v},T,"required",s.required),f[a.id]!==T&&(g[a.id]=d(T))}break;case l._SET_RANK:case l._SET_NEXT_RANK:case l._REMOVE_RANK:case l._SET_LOCATION_VALUE:case l._SET_TABULAR_VALUE:if(f[a.id]){var S=f[a.id];S=p.call({cp:_,value:v},S,"required",s.required),f[a.id]!==S&&(g[a.id]=d(S))}break;case l._BLUR_AUTH_MOBILE:var M=[],I=v?v.mobile:null;f[a.id]&&(M=p.call({cp:_,value:I},M,"required",s.required),M=p.call({cp:_,value:I},M,"requestFailed",s.verificationClean),M=p.call({cp:_,value:I},M,"requestNetFailed",s.verificationClean),M=p.call({cp:_,value:I},M,"contentRegex",s.verificationClean),M=p.call({cp:_,value:I},M,"verificationLimit",s.verificationClean),M=p.call({cp:_,value:I},M,"mobileAuthRegex",s.verificationClean),M=p.call({cp:_,value:I},M,"mobileRequired",s.verificationClean)),M=M.concat((0,s.contentLength)(_,I),(0,s.contentRegexp)(_,I)),g[a.id]=d(M);break;case l._SET_AUTH_MOBILE_VALUE:if(f[a.id]){var N=f[a.id],A=v?v.mobile:null;N=p.call({cp:_,value:A},N,"required",s.required),N=p.call({cp:_,value:A},N,"contentRegex",s.contentRegexp),N=p.call({cp:_,value:A},N,"requestFailed",s.verificationClean),N=p.call({cp:_,value:A},N,"requestNetFailed",s.verificationClean),N=p.call({cp:_,value:A},N,"verificationLimit",s.verificationClean),N=p.call({cp:_,value:A},N,"mobileAuthRegex",s.verificationClean),N=p.call({cp:_,value:A},N,"mobileRequired",s.verificationClean),f[a.id]!==N&&(g[a.id]=d(N))}break;case l._CLEAN_REQUIRE_AUTH_MSG_FAILED_ERR:if(f[a.id]){var x=f[a.id],k=v?v.mobile:null;x=p.call({cp:_,value:k},x,"requestFailed",s.verificationClean),x=p.call({cp:_,value:k},x,"requestNetFailed",s.verificationClean),x=p.call({cp:_,value:k},x,"verificationLimit",s.verificationClean),x=p.call({cp:_,value:k},x,"contentRegex",s.verificationClean),x=p.call({cp:_,value:k},x,"mobileAuthRegex",s.verificationClean),f[a.id]!==x&&(g[a.id]=d(x))}break;case l._REQUIRE_AUTH_MSG:var D=v?v.mobile:null;g[a.id]=d([].concat((0,s.verificationMobile)(_,v),(0,s.contentLength)(_,D),(0,s.contentRegexp)(_,D)));break;case l._REQUIRE_AUTH_MSG_FAILED:var O={"-57":"requestFailed","-841":"verificationLimit","-910":"contentRegex","-911":"mobileAuthRegex"};g[a.id]=d((f[a.id]||[]).concat(O[a.data.r]||"requestNetFailed"));break;case l._CHECK_AUTH_CODE_SUCCEED:if(f[a.id]){var P=f[a.id],L=v?v.mobile:null;P=p.call({cp:_,value:L,data:a.data},P,"mobileAuthCodeError",s.verificationMobileAuthCodeCheck),f[a.id]!==P&&(g[a.id]=d(P))}break;case l._CHECK_AUTH_CODE_FAILED:g[a.id]=d((f[a.id]||[]).concat((0,s.verificationMobileAuthCodeCheck)(_,v?v.mobile:null,{data:a.data})));break;case l._SELECT_OPT:if(f[a.id]){var w=f[a.id];w=p.call({cp:_,value:v},w,"required",s.required),w=p.call({cp:_,value:v},w,"tips",s.choiceLimit),w=p.call({cp:_,value:v},w,"inputRequired",s.choiceInputRequired),w=p.call({cp:_,value:v},w,"optionQuota",s.verificationClean),f[a.id]!==w&&(g[a.id]=d(w))}break;case l._SET_OPT_EXT_VALUE:if(f[a.id]){var R=f[a.id];R=p.call({cp:_,value:v},R,"inputRequired",s.choiceInputRequired),f[a.id]!==R&&(g[a.id]=d(R))}break;case l._CHECK_OPTION_QUOTA_FAILED:var F=f[a.id]||[];g[a.id]=d(F.concat({type:"optionQuota",info:[a.optId]}));break;case l._SET_COMMODITY_VALUE:if(f[a.id]){var U=f[a.id];U=p.call({cp:_,value:v},U,"commodityQuota",s.verificationClean),f[a.id]!==U&&(g[a.id]=d(U))}break;case l._CHECK_COMMODITY_LIMIT:a.data&&(g=o.default.assign(g,a.data));break;case l._CHECK_COMMODITY_QUOTA_FAILED:var B=f[a.id]||[];g[a.id]=d(B.concat({type:"commodityQuota",info:[a.commodityId]}));break;case l._SET_FILE_DONE:var H=[];f[a.id]&&(H=p.call({cp:_,value:v},H,"required",s.required),H=p.call({cp:_,value:v},H,"attachmentLimitNumber",s.base_attachmentNumber)),H=H.concat((0,s.attachmentLegal)(_,v),(0,s.attachmentType)(_,v),(0,s.attachmentSize)(_,v),(0,s.attachmentImageSize)(_,v)),g[a.id]=d(H);break;case l._REMOVE_FILE:if(f[a.id]){var j=f[a.id];j=p.call({cp:_,value:v},j,"required",s.required),j=p.call({cp:_,value:v},j,"attachmentIllegal",s.attachmentLegal),j=p.call({cp:_,value:v},j,"attachmentSize",s.attachmentSize),j=p.call({cp:_,value:v},j,"attachmentType",s.attachmentType),j=p.call({cp:_,value:v},j,"attachmentResolution",s.attachmentImageSize),j=p.call({cp:_,value:v},j,"attachmentLimitNumber",s.base_attachmentNumber),f[a.id]!==j&&(g[a.id]=d(j))}break;case l._SET_CTCF_CNID_VALUE:if(f[a.id]){var G=f[a.id];G=p.call({cp:_,value:v},G,"required",m),G=p.call({cp:_,value:v?v.value:null},G,"contentRegex",m),G=p.call({cp:_,value:v},G,"cnIdLocationRange",m),f[a.id]!==G&&(g[a.id]=d(G))}break;case l._BLUR_CTCF_CNID_VALUE:var W=f[a.id];W=p.call({cp:_,value:v},W,"cnIdLocationRange",m),g[a.id]=d((W||[]).concat((0,s.required)(_,v),(0,s.contentCNID)(_,v?v.value:null)));break;case l._CHECK_CNID_LOCATION_SUCCEED:case l._CHECK_CNID_LOCATION_FAILED:var V=f[a.id];V=p.call({cp:_,value:v},V,"cnIdLocationRange",m),g[a.id]=d((0,s.required)(_,v),(0,s.contentCNID)(_,v?v.value:null));break;case l._SET_CTCF_CNVEHICLE_VALUE:if(f[a.id]){var z=f[a.id];z=p.call({cp:_,value:v},z,"required",s.required),z=p.call({cp:_,value:v},z,"contentRegex",s.contentCNVehicle),f[a.id]!==z&&(g[a.id]=d(z))}break;case l._BLUR_CTCF_CNVEHICLE_VALUE:var K=[];f[a.id]&&(K=p.call({cp:_,value:v},K,"required",s.required)),K=K.concat((0,s.contentCNVehicle)(_,v)),g[a.id]=d(K);break;case l._SET_CTCF_CURRENCY:break;case l._BLUR_CTCF_CURRENCY:var q=[],Y=v?v[1]:null;f[a.id]&&(q=p.call({cp:_,value:Y},q,"required",s.required)),q=q.concat((0,s.numberLegal)(_,Y),(0,s.numberRange)(_,Y)),g[a.id]=d(q);break;case l._START_GOTO_PAGE:var Q=n.form.pages[n.form.page],J=[];o.default.forEach(Q,function(t){u.L_SQUEEZEBOX===t.type?o.default.forEach(t.children,function(t){t&&J.push(r.components[t])}):J.push(r.components[t.id])}),g=o.default.assign({},h(J,i));break;case l._START_SUBMIT:var X=o.default.reduce(n.form.pages,function(t,n){return t.concat(n)},[]),Z=[];o.default.forEach(X,function(t){u.L_SQUEEZEBOX===t.type?o.default.forEach(t.children,function(t){t&&Z.push(r.components[t])}):Z.push(r.components[t.id])}),g=o.default.assign({},h(Z,i));break;case l._CHECK_IN:if(0===n.form.formStatus){var ee=o.default.assign({},r.components[r.extensions.checkInInfo.ckiComponent],{isRequired:!0,isSendMsgAuth:!1});g=o.default.assign({},h([ee],i))}else if(n.form.formStatus===-80012){var te=o.default.reduce(n.form.pages,function(t,n){return t.concat(n)},[]),ne=[];o.default.forEach(te,function(t){if(u.L_SQUEEZEBOX===t.type)o.default.forEach(t.children,function(t){var n=r.components[t];n.isSendMsgAuth&&(n=o.default.assign({},n,{isSendMsgAuth:!1})),t&&ne.push(n)});else{var n=r.components[t.id];n.isSendMsgAuth&&(n=o.default.assign({},n,{isSendMsgAuth:!1})),ne.push(n)}}),g=o.default.assign({},h(ne,i))}}if(o.default.isEmpty(g)||[u.MODE_IRO,u.MODE_PREVIEW].indexOf(a.__MODE__)>-1)return n.validated?n:o.default.assign({},n,{validated:{}});var ae=c(o.default.assign({},f,g));return o.default.assign({},n,{validated:ae})}}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.levelFillingEnd=n.dateLegal=n.base_attachmentNumber=n.attachmentImageSize=n.attachmentType=n.attachmentSize=n.attachmentLegal=n.numberLegal=n.numberRange=n.choiceInputRequired=n.choiceLimit=n.nameLegalLength=n.contentLength=n.base_authedMobileResConfirm=n.base_needAuthMobile=n.verificationMobileAuthCodeCheck=n.verificationMobile=n.contentCNVehicle=n.contentCNIDLocation=n.contentCNID=n.contentRegexp=n.required=n.verificationClean=void 0;var i=a(6),o=r(i),s=a(11),l=r(s),u=a(61),c=r(u),d=a(97),f=r(d),m=a(114),p=a(55),h=a(8),g=a(96),_=(n.verificationClean=function(){return null},n.required=function(t,n){var a="required";if(n){var r=(0,p.getComponentType)(t);switch(r){case"name":if(!t.isRequired)return null;var i=!1;if(o.default.forEach(n,function(t){if(o.default.trim(t))return i=!0,!1}),i)return null;break;case"SNS":case"IM":if(!t.isRequired)return null;var s=!1;if(o.default.forEach(n,function(t){if(null!=t.type&&null!=t.info&&o.default.trim(""+t.info))return s=!0,!1}),s)return null;break;case"tabular":if(!t.isRequired)return null;var l=!0;if(o.default.forEach(t.questions,function(t){var a=n[t.id];if(!a||o.default.isArray(a)&&o.default.isEmpty(a))return l=!1,!1}),l)return null;break;case"commodity":if(!t.isRequired)return null;var u=0;if(o.default.forEach(n,function(t){u+=+t}),u>0)return null;break;case"attachment":case"picAttachment":case"avatar":if(!t.isRequired)return null;if(o.default.isArray(n)&&!o.default.isEmpty(n)){var c=!0;if(o.default.forEach(n,function(t){if(t.error)return c=!1,!1}),c)return null}break;case"signature":if(!t.isRequired)return null;if(!o.default.isEmpty(n)&&!n.isEmpty)return null;break;case"multiLevel":case"ctcf_8":var d=n||null;if(d&&d.current&&d.current[0]){if(d.id){var f=o.default.find(t.options,{sId:+d.id});return f&&(2!==f.type&&3!==f.type||d.value)?null:a}return a}if((!d||!d.current[0]||!d.id)&&t.isRequired)return a;break;case"rank":var m=[];o.default.forEach(t.options,function(t){m.indexOf(t.sId)===-1&&m.push(t.sId)});var h=Math.min(+t.trueDigits,m.length);if(t.isRequired&&o.default.isEmpty(n||[]))return a;var g=o.default.filter(n).length;return g>0&&g!==h?a:null;case"city":case"location":if(!t.isRequired)return null;if(n&&n.struct&&!o.default.isEmpty(n.struct)&&o.default.last(n.struct))return null;break;case"address":if(!t.isRequired)return null;if(n&&(n.struct&&!o.default.isEmpty(n.struct)&&o.default.last(n.struct)||n.content||n.zipCode))return null;break;case"ctcf_11":if(!t.isRequired)return null;if(n&&n.value)return null;break;case"ctcf_12":if(!t.isRequired)return null;if(n&&n.vpVal)return null;break;case"ctcf_5":if(!t.isRequired)return null;if(n&&n[1])return null;break;default:if(!o.default.isArray(n)||""!==n.join(""))return null}}return t.isRequired?a:null},n.contentRegexp=function(t,n){var a="contentRegex";if(!t.isUseRegEx&&!t.isValidate)return null;var r=o.default.isArray(n);if(r&&n.join("")||!r&&n){var i=t.regExType||2;if(t.isValidate)switch(t.type){case"email":i=2;break;case"website":i=3;break;case"qq":i=4;break;case"mobile":if(i=5,t.acceptArea&&!o.default.isEmpty(t.acceptArea)){var s={1:"",2:"tw",3:"hk"};i=o.default.map(t.acceptArea,function(t){return s[t]+"5"})}}var u=[];o.default.forEach([].concat(n),function(t){if(t){var n=t.split(/[;；]/g);n.length>1&&(n=o.default.filter(n,function(t){return o.default.trim(t)})),u=u.concat(n)}});var c=[].concat(i),d=!1;if(o.default.forEach(u,function(n){if(!n)return!0;var a=!1,r=o.default.trim(n);o.default.forEach(c,function(i){switch(""+i){case"3":a=l.default.isUrl(r);break;case"4":a=l.default.isQQ(r);break;case"5":a=l.default.isMobileCN(r);break;case"hk5":a=l.default.isMobileHK(r);break;case"tw5":a=l.default.isMobileTW(r);break;case"6":a=l.default.isCnIdCard(r);break;case"7":a=l.default.isIP(r);break;case"8":a=l.default.isNumber(r);break;case"-1":a=!t.regEx||l.default.strRegCheck(o.default.trim(""+t.regEx),n);break;case"2":default:a=l.default.isEmail(r)}if(a)return!1}),a||(d=[].concat(d||[],n))}),d!==!1||0===u.length)return r?{type:a,info:{errorContent:d}}:a}return null},n.contentCNID=function(t,n){var a=o.default.trim(n||""),r="contentRegex";if(a){var i=l.default.isCnIdCard(n);if(!i)return r}else if(!a&&n)return r;return null},n.contentCNIDLocation=function(t,n){var a="cnIdLocationRange";if(t.cfIsLimitLocation&&t.cfLimitLocation&&!o.default.isEmpty(t.cfLimitLocation)&&n&&n.value){var r=[],i=n.location;r=o.default.filter(o.default.intersection(t.cfLimitLocation,i));var s=r.length>0;if(!s)return a}return null},n.contentCNVehicle=function(t,n){var a=o.default.trim(o.default.isPlainObject(n)?n.vpVal:null),r="contentRegex",i=!1,s=void 0;return s=2===t.componentType?(0,h.getVehicleCNStr)({vpVal:a}):(0,h.getVehicleCNStr)(n),(0,h.isVehicleCN)(s)&&(((0,h.isNewEnergyCN)(s)||(0,h.isVehicleCNWJ)(s))&&8===s.length?i=!0:7===s.length&&(i=!0)),!a&&n&&n.vpVal||a&&!i?r:null},n.verificationMobile=function(t,n){return n&&n.mobile?l.default.isMobileCN(n.mobile)?null:"mobileAuthRegex":"mobileRequired"},n.verificationMobileAuthCodeCheck=function(t,n,a){var r=a.data;return 0===r.r?null:"mobileAuthCodeError"},n.base_needAuthMobile=function(t,n){var a="mobileAuthCodeRequired";if(n&&o.default.isPlainObject(n)&&n.mobile){if(!n.verificationToken)return a;if(n.verificationMobileToken&&!n.verificationCode)return a}return null},n.base_authedMobileResConfirm=function(t,n){return n&&o.default.isPlainObject(n)&&n.mobile&&n.checked&&n.error?"mobileAuthCodeError":null},n.contentLength=function(t,n){if(n&&t.isWordLimit&&!o.default.isEmpty(n)){var a=n.length,r=t.wordLimitFrom,i=t.wordLimitTo;if(a&&(r&&r>a||i&&i<a))return"tips"}return null},n.nameLegalLength=function(t,n){var a={n:255,np:63,nf:63,nm:63,nl:63,ns:63,nn:63};if(n){var r=[];if(o.default.forEach(n,function(t,n){t&&(""+t).length>a[n]&&r.push(n)}),!o.default.isEmpty(r))return{type:"length",info:r}}return null},n.choiceLimit=function(t,n){var a="tips";if(n&&!o.default.isEmpty(n)&&("checkbox"===t.type||"picCheckbox"===t.type||t.isCheckbox)&&1===t.isLimitChooseNum){var r=t.chooseNumFrom,i=t.chooseNumTo;if(null!=r&&""!==r&&n&&n.length<+r)return a;if(null!=i&&""!==i&&n&&n.length>+i)return a}return null},function(t){return o.default.isObject(t)?t:{id:t}}),v=(n.choiceInputRequired=function(t,n){var a=[];return o.default.forEach(n,function(n){var r=_(n),i=r.id,s=r.value;(1===t.isAddOtherOption&&1===t.otherOptionIsRequired&&i===t.otherId||1===t.isAfterInput&&1===t.afterInputIsRequired)&&(s&&o.default.trim(""+(s||""))||a.push(i))}),o.default.isEmpty(a)?null:{type:"inputRequired",info:a}},n.numberRange=function(t,n){if(t.isNumRange&&null!=n&&""!==n){var a=c.default.localeStringToNumber(n);if(o.default.isNumber(a)&&(o.default.isNumber(t.numRangeFrom)&&a<t.numRangeFrom||o.default.isNumber(t.numRangeTo)&&a>t.numRangeTo))return"tips"}return null},n.numberLegal=function(t,n){if(n){var a=c.default.localeStringToNumber(n);if(isNaN(a))return"number";var r=Math.floor(a)!==a;if(!r&&(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER))return"numberSaveRange";if(r&&1!==t.isAcceptDecimals)return"numberDecimals";if(a<0&&1!==t.isAcceptNegative)return"numberNegative"}return null},n.attachmentLegal=function(t,n){var a=[],r=/[\\\/\:\*\?\"\<\>\|\0]/,i=/[\?\@\#\$\&\(\)\/\|\;\'\"\’\‘\“\”\<\>\*\\]/;return n&&(o.default.forEach(n,function(n){if(n){var o=n.name.split("."),s=void 0,l=void 0;o.length>1?(s=""+o.slice(0,o.length-1).join("."),l=o[o.length-1]):(s=n.name,l=null),(s.match(r)||(""+(l||"")).match(i)||(1===t.isLimitFileType||"picAttachment"===t.type)&&!l)&&a.push(n.name)}}),!o.default.isEmpty(a))?{type:"attachmentIllegal",info:{errorContent:a}}:null},n.attachmentSize=function(t,n){var a=[];if(n){var r=t.isLimitFileSize&&+t.fileSize?+t.fileSize:500;if(r){var i=1048576*r;o.default.forEach(n,function(t){t&&t.size&&t.size>i&&a.push(t.name)})}if(!o.default.isEmpty(a))return{type:"attachmentSize",info:{errorContent:a}}}return null},n.attachmentType=function(t,n){var a=[],r=m.ATTACHMENT_IMAGE_SUFFIX_LIST,i=m.ATTACHMENT_TYPE_LIST;if(n){if(t.isLimitFileType&&t.fileTypes&&!o.default.isEmpty(t.fileTypes)){var s=o.default.map(t.fileTypes,function(t){return i[t]});o.default.forEach(n,function(t){if(t.suffix){var n=!0;o.default.forEach(s,function(a){if(a.toLowerCase().indexOf((t.suffix||"").toLowerCase())>-1)return n=!1,!1}),n&&a.push(t.name)}})}else"picAttachment"!==t.type&&"avatar"!==t.type||o.default.forEach(n,function(t){(t.type&&t.type.toLowerCase().indexOf("image/")===-1||t.suffix&&r.indexOf(t.suffix.toLowerCase())===-1)&&a.push(t.name)});if(!o.default.isEmpty(a))return{type:"attachmentType",info:{errorContent:a}}}return null},n.attachmentImageSize=function(t,n){var a=[];if(n){if(t.isLimitPicResolution){var r=t.picMaxHeight,i=t.picMinHeight,s=t.picMaxWidth,l=t.picMinWidth;o.default.forEach(n,function(t){t&&t.displaySize&&(r&&t.displaySize.height>r||i&&t.displaySize.height<i||s&&t.displaySize.width>s||l&&t.displaySize.width<l)&&a.push(t.name)})}if(!o.default.isEmpty(a))return{type:"attachmentResolution",info:{errorContent:a}}}return null},n.base_attachmentNumber=function(t,n){var a="attachmentLimitNumber";if(n){if(t.isAcceptMultipleFile&&t.isLimitFileNumber&&t.fileNumber&&t.fileNumber<n.length)return a;if(!t.isAcceptMultipleFile&&n.length>1)return a}return null},function(t){return t.reduce(function(t,n,a){return t+n*Math.pow(10,4-2*a)},0)});n.dateLegal=function(t,n){var a=t.dateFormat||("birthDate"===t.type?[1,3]:[1]),r=(+(t.timePrecision||3),void 0),i=void 0;if(t.isCustomField?(r="dateTime_time"!==t.cfDateTimeType,i=["dateTime_both","dateTime_time"].indexOf(t.cfDateTimeType)>-1):(r="dateTime_time"!==t.type,i=["dateTime_both","dateTime_time"].indexOf(t.type)>-1),o.default.isPlainObject(n)){if(r&&a.indexOf(+n.dateType)===-1)return"calendarTypeError";if(i&&!n.timeType)return"calendarTypeError";if(1===n.dateType){var s=(0,f.default)(new Date(n.y,n.m,n.d));if(t.isLimitDays&&t.limitDays&&t.limitDays.length>0&&t.limitDays.indexOf(s.week()+1)===-1)return"calendarValidError";if(t.isLimitDayInterval&&(t.dayIntervalFrom||t.dayIntervalTo)){var l=t.dayIntervalFrom?(0,f.default)(t.dayIntervalFrom):null,u=t.dayIntervalTo?(0,f.default)(t.dayIntervalTo):null;if(l&&l.isDayAfter(s)||u&&u.isDayBefore(s))return"calendarValidError"}}if(i&&n.timeType&&t.isLimitTimeInterval){var c=(t.timeIntervalFrom||"00:00:00").split(":").map(function(t){return+t}),d=(t.timeIntervalTo||"23:59:59").split(":").map(function(t){return+t}),m=v(c),p=v(d),h=m>p,g=v([n.H||0,n.M||0,n.S||0]);if(h){if(!(g>=m&&g<=235959||g<=p&&g>=0))return"calendarValidError"}else if(!(g>=m&&g<=p))return"calendarValidError"}}else if(n)return"calendarTypeError";return null},n.levelFillingEnd=function(t,n){var a="required",r=n||null;if(r&&r.current&&r.current[0]&&r.id){var i=o.default.find(t.options,{sId:+r.id});if(i){var s=new g.TreeManager(t.options),l=s.getChildren(i.id);if(l&&l.length>0&&!t.isAllowPartEmpty)return a}}return null}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function o(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}function s(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.FormStructure=n.ATTACHMENT_IMAGE_SUFFIX_LIST=n.ATTACHMENT_TYPE_LIST=void 0;var l=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},u=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),d=a(6),f=r(d),m=a(97),p=r(m),h=a(8),g=a(57),_=a(115),v=a(116),b=a(55),y=navigator.language?navigator.language:navigator.userLanguage,E="./images/formTemplate/",C=function(t){return t?(""+(t||"")).split(/\r?\n/g):null},T=function t(n){var a={};return f.default.forEach(n,function(n,r){var i=n;f.default.isPlainObject(i)&&(i=t(i)),null!=i&&(a[r]=i)}),a};n.ATTACHMENT_TYPE_LIST=[null,"txt","doc/docx","xls/xlsx","ppt/pptx","html/htm","pdf","jpg/jpeg","png","gif","bmp","psd","tiff","avi","swf","wmv","rmvb","m4a/mp4","m4a/3gp","m4a/mov","mp3","m4a","wma","rar","zip","7z"],n.ATTACHMENT_IMAGE_SUFFIX_LIST=["art","bm","bmp","dwg","dxf","fif","flo","fpx","g3","gif","psd","ico","ief","iefs","jfif","jfif-tbnl","jpe","jpeg","jpg","jps","jut","mcf","nap","nif","niff","pbm","pct","pcx","pgm","pic","pict","pm","png","pnm","ppm","qif","qti","qtif","ras","rf","rgb","rp","svf","tif","tiff","turbot","xbm","xif","xpm","x-png","xwd"],n.FormStructure=function(){function t(n){s(this,t);var a=n.vst,r=n.jhr,i=n.token,l=n.oq,u=n.LFP,c=n.CDN,d=n.sld,m=n.clSld,p=n.raw||{},g=p._m||{},_=g.U,v=(g.T,o(g,["U","T"]));this.langCode=(0,h.getLanCode)(y),this.token=i,this.JHR=r,this.visitorData=a,this.meta=v,this.meta.orgName=v.CLN,this.isCdn=c,this.isPcdn=null!=u&&!c,this.LFP=Math.min(Math.max(0,u||0),1),this.BASE_UGC="."+_,this.QR_UGC=this.BASE_UGC.replace("/image/","/qr/"),this.MBRM_UGC=this.BASE_UGC.replace("/form/","/sye_mbrm/");var b="mk_seed";this.seed=+((0,h.getCookie)(b)||f.default.random(10,99)),(0,h.setCookie)(b,this.seed,{domain:h._COOKIE_STATIC.DOMAIN,expires:7}),this.seedWorker=new h.SeedRandom(this.seed),this.images=[],this.sld=d,this.clSld=m,this.doConvert(p,l),this.doVisitorConvert(),this.doVisitMemberConvert(),this.identifier={QUEUE:"SUBMIT_QUEUE_"+this.token,FX:"MK_fx",WAITING:"WAITING_START_"+this.token,WAITING_EVERYDAY:"PD_WAITING_START_"+this.token,SUBMIT_ONCE:"MKSO_"+this.token,LAST_SUBMIT_ONCE:"MKSO_L_"+this.token,LOCAL_UVD:"MK_L_UVD"}}return c(t,[{key:"remove",value:function(){this.images=null}},{key:"qrCode",value:function(t){t=t||"-";var n=[this.sld||"-",this.clSld||"-",this.token,"https:"===location.protocol?"e":"-",t];return this._qrCode&&this._qrCodeExtVer===t||(this._qrCodeExtVer=t,this._qrCode=(0,h.addUrlParams)(this._cdnify(""+this.QR_UGC+this.token+".png"),{v:n.join("")})),this._qrCode}},{key:"setJHR",value:function(t){this.JHR=t}},{key:"_rateCheck",value:function(){if(this._rate_n=this._rate_n||0,this._rate_p=this._rate_p||0,0===this._rate_n)return!1;if(this._rate_n+this._rate_p){var t=this._rate_p/(this._rate_n+this._rate_p);return t>this.LFP||0===t}return!1}},{key:"_cdnifyProcessor",value:function(t,n){var a=this;return t=f.default.assign({},t),f.default.forEach(n,function(n){f.default.update(t,n,function(t){return t?a._cdnify(t):null})}),t}},{key:"_cdnify",value:function(t){if(t&&f.default.isString(t)){var n=null;if("_"===t.charAt(0))return n=this._cdnify(E+""+t.substring(1)),n&&this.images.push(n),n;if(0===t.indexOf(this.QR_UGC)||0===t.indexOf(this.BASE_UGC)||0===t.indexOf(E)){if(this.isCdn)return n=(0,h.getCDNUrl)(this.sld,t),n&&this.images.push(n),n;if(this.isPcdn&&this.LFP<1){if(this._rateCheck())return this._rate_p=(this._rate_p||0)+1,n=(0,h.getPCDNUrl)(this.sld,t),n&&this.images.push(n),n;if(this.LFP-this.seedWorker.random()<.2)return this._rate_p=(this._rate_p||0)+1,n=(0,h.getPCDNUrl)(this.sld,t),n&&this.images.push(n),n;this._rate_n=(this._rate_n||0)+1}}}return t}},{key:"_doExtConvert",value:function(t,n){var a=n.xPayments,r={},i=[1,2,4],o=null;if(a&&(o=f.default.zipObject(["alipay","wxpay","paypal"],a),o&&o.paypal&&i.push(5)),t){if(t.logic&&1===t.logic.s){var s=t.logic.p||{},l=s.ldf,u=s.ls;r.logic={defaultShown:l,info:u||[]}}if(t.ifp&&1===t.ifp.s){r.inFormPay=!0;var c={};if(c.payOnlineMethod=i,t.ifp.p){var d=t.ifp.p;c.payOnlineMethod=[].concat(d.appom||i),c.isLimitAmount=d.iapta,c.limitAmountFrom=d.aptaf,c.limitAmountTo=d.aptat,c.isLimitQuantity=d.iaptq,c.limitQuantityFrom=d.aptqf,c.limitQuantityTo=d.aptqt}if(c.pvt=t.ifp.pvt,c.isKuaiQian=8===t.ifp.pvt,c.isQianFang=9===t.ifp.pvt,c.isMikeMerchant=10===t.ifp.pvt,c.isFrozen=t.ifp.pvtif,c.mmsPayMethod=t.ifp.pvtpom||[],c.mmsPayMethod&&c.isMikeMerchant){var m=f.default.uniq([4].concat(c.mmsPayMethod||[]));o&&o.paypal&&(m=f.default.uniq([5].concat(m))),c.legalPayMethod=m,c.payOnlineMethod=f.default.intersection(m,c.payOnlineMethod).sort()}else c.pvt||"cn"!==window._SLD||(c.payOnlineMethod=f.default.intersection([4],c.payOnlineMethod));c.ifpX=o,r.inFormPayInfo=c||{}}if(t.ftkv&&1===t.ftkv.s){r.ticket=!0;var p={};if(t.ftkv.p){var h=t.ftkv.p;p.title=C(h.t),p.describe=C(h.d),p.isRemindPreparer=h.inutn,p.coRemindPreparerByMail=h.inutnem,p.coMailNtComponent=h.nutnemcp,p.coRemindPreparerByMsg=h.inutnsms,p.coMsgNtComponent=h.nutnsmscp}r.ticketInfo=p}if(t.fcki&&1===t.fcki.s){r.checkIn=!0;var g={};if(t.fcki.p){var _=t.fcki.p;g.ckiWeChat=0!==_.iwc,g.ckiShowImage="ihimg"in _?_.ihimg:1,g.ckiImage=!!_.himg&&{"isLink":2===_.himg.himgs,"linkUri":_.himg.himgr,"imageUri":_.himg.himgu?this.BASE_UGC+_.himg.himgu+"."+_.himg.himge:null,"u":_.himg.himgu||null,"e":_.himg.himge||null},g.ckiTitle=C(_.t),g.ckiSubtitle=C(_.d),g.ckiComponent=_.cp,g.ckiComponentTitle=C(_.cpt),g.ckiOnlyOnce=_.irdev,g.ckiIsLimitPlace=_.irloc,g.ckiPlace=_.rloc,g.ckiOpen=_.iopen,g.ckiOpenComponent=_.opencp,g.ckiIsJumpTo=_.icj,g.ckiJumpTo=_.cj}r.checkInInfo=g}if(t.nologo&&1===t.nologo.s&&(r.nologo=!0),t.crl&&1===t.crl.s&&(r.copyrightLogo=!0),t.fcpt&&1===t.fcpt.s&&(r.formCaptcha=!0),t.fcrs&&1===t.fcrs.s&&(r.componentPicCarousel=!0),t.fwbt&&1===t.fwbt.s&&(r.componentButton=!0),t.fsgn&&1===t.fsgn.s&&(r.componentSignature=!0),t.fwvp&&1===t.fwvp.s&&(r.componentVideo=!0),t.frte&&1===t.frte.s&&(r.renderRichText=!0),
t.mbrm_frglg&&1===t.mbrm_frglg.s){r.member=!0;var v=f.default.zipObject(["loginType","pubName","pubLogo","balanceCurrency","customBalanceCurrency","mbrmData"],this.meta.mbrm);v.pubLogo&&(v.pubLogo=""+this.MBRM_UGC+v.pubLogo.u+"."+v.pubLogo.e),v.mbrmData&&v.mbrmData.clit&&(v.mbrmCustomText=v.mbrmData.clit);var y={},E=t.mbrm_frglg;y.loginState=E.flg&&E.flg.s?1:0,y.regState=E.frg&&E.frg.s?1:0;var S=0;if(y.regState)r.inFormPay=!1,S=1,y.loginState=0;else if(y.loginState){if(S=2,E.flg.p){var M=E.flg.p;y.openRegData={isOpenRegister:M.irgf||0,registerFormToken:M.rgft||null}}var I=(E.flg.p||{}).iumb;y.allowMemberBalance=null==I?1:+I}y.mode=S,r.memberInfo=v,r.memberFrglg=y,v&&(v.isMemberId=v.loginType===b.MBRM_LOGIN.UNI_ID_PASSWORD,v.isEmail=[b.MBRM_LOGIN.UNI_EMAIL_AUTH,b.MBRM_LOGIN.UNI_EMAIL_AUTH_ALLOW_PASSWORD].indexOf(v.loginType)>-1,v.isMobile=[b.MBRM_LOGIN.UNI_MOBILE_AUTH,b.MBRM_LOGIN.UNI_MOBILE_AUTH_ALLOW_PASSWORD].indexOf(v.loginType)>-1,v.isNeedPassword=[b.MBRM_LOGIN.UNI_ID_PASSWORD,b.MBRM_LOGIN.UNI_EMAIL_AUTH_ALLOW_PASSWORD,b.MBRM_LOGIN.UNI_MOBILE_AUTH_ALLOW_PASSWORD].indexOf(v.loginType)>-1),r.member&&y&&1===y.regState&&1===y.mode&&(r.inFormPay=!1)}}return T(r)}},{key:"_doSettingsConvert",value:function(t){var n=void 0,a=["asImage.linkUri","asImage.imageUri"];return this.rawSettings=t,n=this._cdnifyProcessor((0,_.convertSettings)(t,this.BASE_UGC),a),T(n)}},{key:"_doStyleConvert",value:function(t){var n={lineHeight:14},a=["background","optBackground","headerStyle.background","submitStyle.background"];n=f.default.assign({},n,this._cdnifyProcessor((0,_.convertStyle)(t,this.BASE_UGC),a));var r=[null,1,.9,.8,.7,.6,.5,.4,.3,.2,.1,0],i=["bgOpacity","headerStyle.bgOpacity","bodyStyle.bgOpacity","submitStyle.bgOpacity"],o=function(t,n){var a=f.default.get(t,n);a&&f.default.set(t,n+"Value",r[+a])};return f.default.forEach(i,function(t){return o(n,t)}),T(n)}},{key:"doConvert",value:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1];if(this.style=this._doStyleConvert(n.st||{}),this.settings=this._doSettingsConvert(n.se||{}),this.extensions=this._doExtConvert(n.ext||{},{xPayments:n.x_ifp_pms}),this.width=n.w,this.layout=(0,v.convertLayout)(n.cpl,n.cpo,this.extensions.logic),this.header={},this.components={},this.tail={},n&&n.h){var r=["logo"];this.header=T(this._cdnifyProcessor((0,_.convertHeader)(n.h,this.BASE_UGC),r))}if(n&&n.t){var i=["companyLogo"];this.tail=T(this._cdnifyProcessor((0,_.convertTail)(n.t,this.BASE_UGC),i))}this.mobileAuth=null,(n&&n.cp&&!f.default.isEmpty(n.cp)||n.cp_ctcf&&!f.default.isEmpty(n.cp_ctcf))&&(this.components=(0,v.convertComponentData)({cp:n.cp,cp_ctcf:n.cp_ctcf},this.BASE_UGC,function(n){var r=(n.isCustomField,o(n,["isCustomField"])),i=(0,b.getComponentType)(n);if("picCarousel"===i&&!t.extensions.componentPicCarousel)return{illegal:"picCarousel"};if("staticVideo"===i&&!t.extensions.componentVideo)return{illegal:"staticVideo"};if("button"===i&&!t.extensions.componentButton)return{illegal:"button"};if("signature"===i&&!t.extensions.componentSignature)return{illegal:"signature"};"avatar"===i&&(n.fileSize=8,n.isLimitFileSize=1),["IM","SNS"].indexOf(i)>-1&&(n.hasOwnProperty("isAcceptMulti")||(n.isAcceptMulti=!0)),(["ctcf_4","rate"].indexOf(i)>-1||"tabular"===i&&n.tabularType===b.TABULAR_RATE)&&4===n.rateIcon&&(n.heatBarColorForm=n.heatBarColorForm||"#F5D964",n.heatBarColorTo=n.heatBarColorTo||"#E94C3C");var s=a?a.SO:null;"commodity"===i&&a&&(s=a?a.SL:null),r.isLimitOptions&&s&&s[r.id]&&(n.optionsQuotaInfo=s[r.id]),n.isRandomOptions&&(n.options=f.default.shuffle(n.options)),"mobile"===i&&r.isSendMsgAuth&&(t.mobileAuth&&t.mobileAuth!==r.id?n.isSendMsgAuth=0:(n.isSendMsgAuth=1,t.mobileAuth=r.id)),"dropDown"===i&&r.isAfterInput&&(n.isAfterInput=0);var l="ctcf_9"===i&&["dateTime_date","dateTime_both"].indexOf(n.cfDateTimeType)>-1;if((["dateTime_date","dateTime_both"].indexOf(i)>-1||l)&&r.isLimitAfterDays){var u=Math.max(r.limitAfterDays>>0,0),c=(0,p.default)().startOf("date"),d=null;c.add(u,"d"),r.isLimitDayInterval&&(r.dayIntervalFrom&&c.isDayBefore(r.dayIntervalFrom)&&(c=(0,p.default)(r.dayIntervalFrom)),d=r.dayIntervalTo),n.isLimitDayInterval=1,n.dayIntervalFrom=c.getFullDate(),n.dayIntervalTo=d}(["dateTime_date","dateTime_both","birthDate"].indexOf(i)>-1||l)&&(n.dateFormat||(n.dateFormat="birthDate"===i?[1,3]:[1])),n.limitDays&&(n.limitDays=f.default.filter(n.limitDays,function(t){return null!=t}));var m=function(n){return f.default.map(n,function(n){return n&&n.image&&n.image.imageUri&&(n.image.imageUri=t._cdnify(n.image.imageUri),n.image.imageFullUri&&(n.image.imageFullUri=t._cdnify(n.image.imageFullUri))),n})},h=function(n){return f.default.map(n,function(n){return n&&n.imageUri&&(n.imageUri=t._cdnify(n.imageUri)),n})};switch(i){case"picRadio":case"picCheckbox":n.options=m(n.options);break;case"commodity":n.commodities=m(n.commodities);break;case"staticPic":n.pictures=h(n.pictures);break;case"picCarousel":n.carouselPictures=h(n.carouselPictures)}return n}))}},{key:"getComponent",value:function(t){return this.components[t]||null}},{key:"findComponent",value:function(t){var n=this,a=null;if(!t||f.default.isEmpty(t))return null;var r=function(t,n){var a=!0;return f.default.forEach(n,function(n,r){if(t[r]!==n)return a=!1,!1}),a},i=function(i){var o=n.components[i];return!o||!r(o,t)||(a=o,!1)};return f.default.forEach(this.layout,function(t){t.type===b.L_SQUEEZEBOX?f.default.forEach(t.children,i):i(t.id)}),a}},{key:"getComponentsByType",value:function(t){var n=this;if(this.cacheComponentType&&this.cacheComponentType[t])return this.cacheComponentType[t];var a=[],r=function(r){var i=n.components[r];i&&i.type===t&&a.push(i)};return f.default.forEach(this.layout,function(t){t.type===b.L_SQUEEZEBOX?f.default.forEach(t.children,r):r(t.id)}),this.cacheComponentType||(this.cacheComponentType={}),this.cacheComponentType[t]=a,this.cacheComponentType[t]}},{key:"doVisitorConvert",value:function(){var t=this,n=this.visitorData&&this.visitorData.uvd?this.visitorData.uvd:null;if(this.isWxAuthorized=!(!n||!n.wc||f.default.isEmpty(n.wc)),n&&(this.visitorInfo={},n.ct||n.wc)){var a=f.default.assign({},n.ct,n.wc?i({},g.COMPONENT_METAID_MAPPING.wechat,n.wc.nickname||""):null);for(var r in a)a.hasOwnProperty(r)&&!function(){var n=g.METAID_COMPONENT_MAPPING[r],i=a[r];switch(n){case"location":var o=[];["I","II","III","IV"].forEach(function(t){return!(!i||!i[t])&&void o.push(i[t])}),i={struct:o};break;case"address":var s=i,l=u(s,3),c=l[0],d=l[1],f=l[2],m=[];["I","II","III","IV"].forEach(function(t){return!(!c||!c[t])&&void m.push(c[t])}),i={struct:m,content:d,zipCode:f}}t.visitorInfo[n]=i}()}}},{key:"doVisitMemberConvert",value:function(){var t={};if(!this.visitorData)return void(this.visitedMember=null);if(this.visitorData.mbrm){var n=f.default.zipObject(["mbrmToken","mbrmName","isLevel","defaultLevelInfo"],this.visitorData.mbrm);if(n.defaultLevelIcon=window.rootPath("images/member/defaultMbAvatar@2x.png"),n.isLevel&&n.defaultLevelInfo&&n.defaultLevelInfo[2]){var a=n.defaultLevelInfo[2].lvi;a&&(n.defaultLevelIcon=this.MBRM_UGC+(a.u+"."+a.e))}t=l({},t,n)}if(this.visitorData.mbrmm){var r=f.default.zipObject(["account","name","memberLevelInfo"],this.visitorData.mbrmm),i=this.extensions.member,o=this.extensions.memberInfo;if(i&&o&&[b.MBRM_LOGIN.UNI_MOBILE_AUTH,b.MBRM_LOGIN.UNI_MOBILE_AUTH_ALLOW_PASSWORD].indexOf(o.loginType)>-1&&(r.account=(""+(r.account||"")).replace(/^(\s*)(86)*/,"")),t.isLevel&&r.memberLevelInfo&&r.memberLevelInfo[2]){var s=r.memberLevelInfo[2].lvi;s&&(r.levelIcon=this.MBRM_UGC+(s.u+"."+s.e))}t=l({},t,r)}f.default.isEmpty(t)?this.visitedMember=null:this.visitedMember=t}},{key:"isRedirectToMbrmReg",value:function(){if(this.extensions.member&&this.extensions.memberFrglg&&1===this.extensions.memberFrglg.mode){var t=(0,h.parseUrl)(location.href).params;return!(!t.lgft&&!t.lgmbrm)}return!1}}]),t}()},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t.replace(/([\*\.\?\+\$\^\[\]\(\)\|\\\/])/g,"\\$1")}function o(t,n){return t?{headline:(t.t||"").split("\n"),headline_style:(0,E.convertRawTextStyle)(t.ts||null),description:(t.d||"").split("\n"),description_style:(0,E.convertRawTextStyle)(t.ds||null),layout:t.ly,layoutStr:v.FORM_HEADER_LAYOUT_MAPPING[t.ly],hasValue:[t.t?"T":"",t.d?"D":"",t.l?"L":""].join(""),logo:l(t.l,n),logoInfo:u(t.l),logoBorder:t.lb,logoDisplay:t.ld,logoHeight:t.lh,logoWidth:t.lw,isSetLayout:1===+t.lys}:{}}function s(t,n){return{isHideBtn:t.ihb,stickyBottom:t.ibsb,isDefaultSubmitText:t.sb,submitText:t.sbt,copyrightType:t.crs,companyName:t.crn,companyLink:t.crl,companyLogo:l(t.crlg,n),companyLogoInfo:u(t.crlg),companyLogoHeight:t.crlgh,companyLogoWidth:t.crlgw}}function l(t,n,a){var r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,arguments.length>4&&void 0!==arguments[4]&&arguments[4]),i=null;if(t)if(_.default.isPlainObject(t))i=t.ul;else if("_"===t.charAt(0)){var o=t.substring(1);o=location.protocol+y.default.CDN_PATH_WITHOUT_PROTOCOL+"images/formTemplate/"+o,i=o}else i=_.default.startsWith(t,"http")||_.default.startsWith(t,"//")?t:n+(r?"opt_":"")+t;return i}function u(t){return _.default.isPlainObject(t)?{linkUri:t.ul,isCoop:!0,type:t._tpt,projectId:t._tppid,extInfo:t._tpext}:null}function c(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,["",1,.9,.8,.7,.6,.5,.4,.3,.2,.1,0]),i={themeColor:t.thc,lineHeight:t.ls||14,bgColor:t.bgc,background:l(t.bg,n,a),backgroundInfo:u(t.bg),bgOpt:t.opt_bg,optBackground:t.bg?l(t.bg,n,a,null,t.opt_bg):null,bgLayoutHorizontal:t.bgl?t.bgl.h||6:6,bgLayoutVertical:t.bgl?t.bgl.v||6:6,backgroundFixed:void 0!==t.bgs&&null!==t.bgs?t.bgs?0:1:0};if(t.h){var o=t.h,s=r.indexOf(o.bgo);i.headerStyle={bgColor:o.bgc,bgOpacity:s===-1?"1":""+s,headlineColor:o.tc,headlineFontSize:o.tfs,headlineFontWeight:o.tfw,subheadColor:o.dc,subheadFontSize:o.dfs,subheadFontWeight:o.dfw,headerContentOffsetY:o.yof,background:l(o.bg,n,a),backgroundInfo:u(o.bg),bgLayoutHorizontal:o.bgl?o.bgl.h||6:6,bgLayoutVertical:o.bgl?o.bgl.v||6:6}}if(t.b){var c=t.b,d=r.indexOf(c.bgo);i.bodyStyle={cpTitleWidth:c.tw,bgColor:c.bgc,bgOpacity:d===-1?"1":""+d,titleColor:c.tc,titleFontSize:c.tfs,titleFontWeight:c.tfw,describeColor:c.dc,describeFontSize:c.dfs,describeFontWeight:c.dfw,optionColor:c.oc,optionFontSize:c.ofs,optionFontWeight:c.ofw}}if(t.s){var f=t.s,m=r.indexOf(f.bgo);i.submitStyle={bgColor:f.bgc,bgOpacity:m===-1?"1":""+m,background:l(f.bg,n,a),backgroundInfo:u(f.bg),bgLayoutHorizontal:f.bgl?f.bgl.h||6:6,bgLayoutVertical:f.bgl?f.bgl.v||6:6,btnColor:f.btc,fontColor:f.btct,submitFontSize:f.btts,fontWeight:f.bttw,btnWidthLayout:f.btw,isFormWith:4===f.btw?"1":"0",btnAlign:4===f.btw?2:f.btw||2}}return i}function d(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("customMailInfo"===t&&a){var o=_.default.zipObject(["id","subject","sendAddress","sendName"],n);if(o&&o.id&&a[o.id]&&(o.chooseMail={id:o.id,name:a[o.id]}),o.subject){var s=o.subject;s&&(_.default.forEach(r,function(t,n){s=s.replace(new RegExp(i(n),"g"),t)}),o.subject=s)}return o}if("customSmsInfo"===t&&a){var l=_.default.zipObject(["id"],n);if(l&&l.id&&a[l.id]){var u=_.default.zipObject(["name","auditStatus"],a[l.id]);3===u.auditStatus&&(l.chooseSms=_.default.assign(u,{id:l.id}))}return l}return n}function f(t,n,a,r,i){return{"language":t.lang,"showQuestionNo":t.qn,"questionNoType":t.qnt,"showFillingProgress":t.fp,"fillingProgressType":t.fpt,"isAutoCreate":t.icc,"isAddGroups":t.icg,"groups":t.cg,"tags":t.ct,"afterSubmitPage":t.s,"asIsShowImage":t.sp,"asIsDefaultImg":t.spd||void 0===t.spd?1:0,"asImage":!t.spd&&void 0!==t.spd&&{"isLink":2===t.sps,"isCoop":!!t.sp_tpt,"linkUri":l(t.spr,n),"type":t.sp_tpt,"projectId":t.sp_tppid,"extInfo":t.sp_tpext,"imageUri":t.spu?n+t.spu+"."+t.spe:null,"u":t.spu,"e":t.spe},"asIsShowText":t.st,"asTextTitle":t.stt?t.stt.split("\n"):t.stt,"asTextTitle_style":(0,E.convertRawTextStyle)(t.stts||null),"asTextSubTitle":t.std?t.std.split("\n"):t.std,"asTextSubTitle_style":(0,E.convertRawTextStyle)(t.stds||null),"asIsShowRandomCode":t.sr,"asRandomCodeTitle":t.srt,"asRandomCodeFormat":t.srf,"asIsShowFeedbackNum":t.sn,"asFeedbackNumText":t.snt,"asIsShowFeedbackResult":t.si,"isShowStatistics":t.sis,"asSShowField":t.sisi,"isShowData":t.sid,"isSetDatePassword":t.sidp,"datePassword":t.sidpp,"asDShowField":t.sidi,"asIsShowButton":t.rb,"asButtonText":t.rbtx,"asButtonLinkType":t.rbl&&"_SELF"===t.rbl?"1":"2","asButtonLink":t.rbl&&"_SELF"!==t.rbl?t.rbl:"","asJumpTo":t.sj,"asIsJumpToLuxury":t.sjs,"asJumpToLuxury":t.sjss,"isOnlyWeChat":t.oiw,"isShowShare":t.ss,"isShowProgress":t.fp,"progressType":t.fpt,"isSetUsableTime":t.ap,"usableTimeFrom":t.apf,"usableTimeTo":t.apt,"isSetUsableTimeDaily":t.apd,"usableTimeDailyFrom":t.apdf,"usableTimeDailyTo":t.apdt,"usableTimeTextBefore":t.aptxbf,"usableTimeTextAfter":t.aptxaf,"isMensurableSubmit":t.ms,"mensurableSubmitNum":t.msn,"isMensurableSubmitRemain":t.msr,"mensurableSubmitText":t.mstx,"isVisitPassword":t.vp,"visitPassword":t.vpp,"isOnlySubmit":t.os,"isOnlySubmitIP":t.osip,"onlySubmitText":t.ostx,"isOnlySubmitPerDay":t.osd,"isOnlySubmitPerDayIP":t.osdip,"onlySubmitPerDayText":t.osdtx,"isLimitTime":t.itl,"timeMax":t.tlmx,"overTimeHandle":t.tlr,"isRemindMe":t.inm,"remindMeByMail":t.inmem,"remindMeMails":t.nmeml,"remindMeByMsg":t.inmsms,"remindMeTels":t.nmsmsl,"msgContentType":t.nmsmsp,"remindMeByWeChat":t.inmwc,"isShowAllPageNum":t.tpw,"isShowCurrentPageNum":t.cpn,"isBanReturn":t.nb,"isHidePageBtn":t.hpb,"cartSymbol":t.cps,"payMode":t.pmo,"cartSymbolDefined":t.sc,"isRemindPreparer":t.inu,"remindPreparerByMail":t.inuem,"mailNtComponent":t.inuemcp,"remindPreparerByMsg":t.inusms,"msgNtComponent":t.inusmscp,"remindPreparerByWeChat":t.inuswc,"remindPreparerByCustomMail":t.inucem,"customMailNtComponent":t.inucemcp,"customMailInfo":d("customMailInfo",t.inucemd,a,i),"remindPreparerByCustomMsg":t.inucsms,"customMsgNtComponent":t.inucsmscp,"customSmsInfo":d("customSmsInfo",t.inucsmsd,r),"isWcShare":t.iwcs,"weChatTitle":t.wcst,"weChatDescribe":t.wcsd,"weChatImage":t.wcsi?l(t.wcsi,n):null,"weChatImageInfo":u(t.wcsi)}}function m(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};if("customMailInfoWhenPaid"===t&&a){var o=_.default.zipObject(["id","subject","sendAddress","sendName"],n);if(o&&o.id&&a[o.id]&&(o.chooseMail={id:o.id,name:a[o.id]}),o.subject){var s=o.subject;s&&(_.default.forEach(r,function(t,n){s=s.replace(new RegExp(i(n),"g"),t)}),o.subject=s)}return o}if("customSmsInfoWhenPaid"===t&&a){var l=_.default.zipObject(["id"],n);if(l&&l.id&&a[l.id]){var u=_.default.zipObject(["name","auditStatus"],a[l.id]);3===u.auditStatus&&(l.chooseSms=_.default.assign(u,{id:l.id}))}return l}return n}function p(t,n,a,r,i){var o={};return _.default.forEach(t,function(t,s){if("logic"===s){var l={},u={"ldf":"logicDefaultShows","ls":"logicSet"};l.state=t.s,t.p&&_.default.forEach(t.p,function(t,n){u[n]&&t&&(l[u[n]]=t)}),_.default.isEmpty(l)||(o.logic=l)}else if("ifp"===s){var c={};c.state=t.s,c.pvt=t.pvt,_.default.isEmpty(c)||(o.ifp=c),t.p&&(o.ifp=_.default.assign(o.ifp,{isLimitAmount:t.p.iapta,limitAmountFrom:null!=t.p.aptaf?""+t.p.aptaf:"",limitAmountTo:null!=t.p.aptat?""+t.p.aptat:"",isLimitQuantity:t.p.iaptq,limitQuantityFrom:null!=t.p.aptqf?""+t.p.aptqf:"",limitQuantityTo:null!=t.p.aptqt?""+t.p.aptqt:"",isRemindMeWhenPaid:t.p.iapnm,remindMeWhenPaidByMail:t.p.iapnmem,remindMeWhenPaidMails:t.p.apnmeml,remindMeWhenPaidByMsg:t.p.iapnmsms,remindMeWhenPaidTels:t.p.apnmsmsl,paidMsgContentType:t.p.apnmsmsp,payOnlineMethod:t.p.appom,isRemindPreparerWhenPaid:t.p.iapnu,remindPreparerWhenPaidByMail:t.p.iapnuem,mailNtComponentWhenPaid:t.p.iapnuemcp,remindPreparerWhenPaidByMsg:t.p.iapnusms,msgNtComponentWhenPaid:t.p.iapnusmscp,remindPreparerWhenPaidByCustomMail:t.p.iapnucem,customMailNtComponentWhenPaid:t.p.iapnucemcp,customMailInfoWhenPaid:m("customMailInfoWhenPaid",t.p.iapnucemd,a,i),remindPreparerWhenPaidByCustomMsg:t.p.iapnucsms,customMsgNtComponentWhenPaid:t.p.iapnucsmscp,customSmsInfoWhenPaid:m("customSmsInfoWhenPaid",t.p.iapnucsmsd,r)}))}else if("ftkv"===s){var d={};d.state=t.s,_.default.isEmpty(d)||(o.ftkv=d),t.p&&(o.ftkv=_.default.assign(o.ftkv,{ticketValidationTitle:t.p.t?(t.p.t||"").split("\n"):null,ticketValidationDescribe:(t.p.d||"").split("\n"),isTicketValidationRemindPreparer:t.p.inutn,coRemindPreparerByMail:t.p.inutnem,coMailNtComponent:t.p.nutnemcp,coRemindPreparerByMsg:t.p.inutnsms,coMsgNtComponent:t.p.nutnsmscp,isTkvAllowCancel:"iac"in t.p?t.p.iac:1}))}else if("fcki"===s){var f={};f.state=t.s,_.default.isEmpty(f)||(o.fcki=f),t.p&&(o.fcki=_.default.assign(o.fcki,{ckiShowImage:"ihimg"in t.p?t.p.ihimg:1,ckiImage:!!t.p.himg&&{"isLink":2===t.p.himg.himgs,"isCoop":3===t.p.himg.himgs,"linkUri":t.p.himg.himgr,"type":t.p.himg.himg_tpt,"projectId":t.p.himg.himg_tppid,"extInfo":t.p.himg.himg_tpext,"imageUri":t.p.himg.himgu?n+t.p.himg.himgu+"."+t.p.himg.himge:null,"u":t.p.himg.himgu,"e":t.p.himg.himge},ckiTitle:(t.p.t||"").split("\n"),ckiSubtitle:(t.p.d||"").split("\n"),ckiComponent:t.p.cp,ckiComponentTitle:(t.p.cpt||"").split("\n"),ckiWeChat:t.p.iwc,ckiOnlyOnce:t.p.irdev,ckiIsLimitPlace:t.p.irloc,ckiPlace:t.p.rloc,ckiOpen:t.p.iopen,ckiOpenComponent:t.p.opencp,ckiIsJump:t.p.icj,ckiJumpTo:t.p.cj}))}else if("flto"===s){var p={};p.state=t.s,_.default.isEmpty(p)||(o.flto=p),t.p&&(o.flto=_.default.assign(o.flto,{ltoTitle:t.p.t||"",ltoImageType:t.p.bgt||1,ltoIsImage:t.p.ibg?1:0,ltoImage:!!t.p.bgimg&&{"isLink":2===t.p.bgimg.himgs,"isCoop":3===t.p.bgimg.himgs,"linkUri":t.p.bgimg.himgr,"type":t.p.bgimg.himg_tpt,"projectId":t.p.bgimg.himg_tppid,"extInfo":t.p.bgimg.himg_tpext,"imageUri":t.p.bgimg.himgu?n+t.p.bgimg.himgu+"."+t.p.bgimg.himge:null,"u":t.p.bgimg.himgu,"e":t.p.bgimg.himge},ltoList:t.p.wl||null,ltoComponent:t.p.cp,ltoIsHidePartData:t.p.ihpd?1:0,ltoShowComponent:t.p.showcp,ltoMode:"a"===t.p.m?2:1,ltoNumber:t.p.wn||1,ltoIsLimit:t.p.iCond?1:0,ltoConditions:t.p.cond,ltoIsCkiOp:t.p.ickiop?1:0}))}else if("frvg"===s){var h={};if(h.state=t.s,_.default.isEmpty(h)||(o.frvg=h),t.p&&t.p.cpl&&t.p.cpl.length>0){var g=t.p.cpl[0],v=(t.p.cpst||{})[g]||{};o.frvg=_.default.assign(o.frvg,{rvgComponent:g,rvgTitle:v.t||"",rvgSubTitle:v.st||"",rvgTemplate:v.tp,rvgIsImage:v.ibg?1:0,rvgImage:!!v.bgimg&&{"isLink":2===v.bgimg.himgs,"isCoop":3===v.bgimg.himgs,"linkUri":v.bgimg.himgr,"type":v.bgimg.himg_tpt,"projectId":v.bgimg.himg_tppid,"extInfo":v.bgimg.himg_tpext,"imageUri":v.bgimg.himgu?n+v.bgimg.himgu+"."+v.bgimg.himge:null,"u":v.bgimg.himgu,"e":v.bgimg.himge}})}}else if("mbrm_frglg"===s){var b={};if(b.state=t.s,t){var y={"nt":"note","crd":"credit","imgrp":"isAddMemberGroup","mgrp":"group","dlv":"memberLevel","ion":"isDisplay"},E={"irgf":"isAllowRegister","rgf":"registerForm","imgrpl":"isLimitMemberGroups","mgrpl":"limitMemberGroups","iumb":"isAllowUseMemberBalance","rwsf":"memberIncentives"},C={"irwd":"isRewardDirect","irwdf":"isRewardDirectFirst","rwdfb":"rewardDirectFirstBalance","rwdfc":"rewardDirectFirstPoints","irwde":"isRewardDirectEvery","rwdeb":"rewardDirectEveryBalance","rwdec":"rewardDirectEveryPoints","irwp":"isRewardAfterPay","rwpth":"rewardAfterPayCondition","rwpb":"rewardAfterPayBalance","rwpbp":"rewardAfterPayBalancePercent","rwpc":"rewardAfterPayPoints","rwpcp":"rewardAfterPayPointsPercent"};if(t.frg){var T=t.frg;b.regState=T.s,b.regInfo={},_.default.forEach(T.p,function(t,n){y[n]&&(b.regInfo[y[n]]=t)})}if(t.flg){var S=t.flg;b.loginState=S.s,b.loginInfo=S.p,b.loginInfo={},_.default.forEach(S.p,function(t,n){E[n]&&("memberIncentives"===E[n]?(b.memberIncentives={},_.default.forEach(t,function(t,n){C[n]&&(b.memberIncentives[C[n]]=t)})):b.loginInfo[E[n]]=t)})}}o["mbrm_frglg"]=_.default.assign({},o["mbrm_frglg"],b)}else if("mbrm_msg"===s){var M={};if(t){var I={"inm":"mbrmMsgIsRemindMe","inmem":"mbrmMsgRemindMeByMail","nmeml":"mbrmMsgRemindMeMails","inmsms":"mbrmMsgRemindMeByMsg","nmsmsl":"mbrmMsgRemindMeTels","nmwc":"wcPusher_newSubmit"};if(t.urg){var N=t.urg;M.urgent=N,M.urgent={},_.default.forEach(N,function(t,n){I[n]&&(M.urgent[I[n]]=t)})}}o["mbrm_frglg"]=_.default.assign({},o["mbrm_frglg"],M)}else{var A={};A.state=t.s,_.default.isEmpty(A)||(o[s]=A)}}),o}function h(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return[];t=t.split("");for(var a=[],r=t.length,i=0,o=!1,s=0,l=!1,u="";i<r;){var c=t[i];o?">"===c&&0===s?(l||(n?_.default.forEach(u.split("~"),function(){a.push({type:"normal"})}):a.push({type:"squeezeBox",layout:u.split("~").map(function(t){return+t})})),o=!1,u="",l=!1):("<"===c?s++:">"===c&&s--,u+=c):"<"===c?o=!0:"-"===c&&a.push({type:"normal"}),i++}return a}Object.defineProperty(n,"__esModule",{value:!0});var g=a(6),_=r(g),v=a(57),b=a(14),y=r(b),E=a(25);n.default={convertHeader:o,convertTail:s,convertStyle:c,convertSettings:f,convertExtend:p,convertLayoutString:h},t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n,a){var r=null;if(t)if("_"===t.charAt(0)){var i=(g.default.random(.1,.8),t.substring(1));i=location.protocol+C.default.CDN_PATH_WITHOUT_PROTOCOL+"images/formTemplate/"+i,r=i}else r=t;return r}function o(t,n,a,r,o){var s=null,l=null;switch(t){case"radio":case"checkbox":case"dropDown":case"company":case"department":case"position":case"fscRadio":case"fscCheckbox":return s=[],g.default.forEach(n.l,function(t,a){var r=t[0];if(0===+r)return l=n.l2s?n.l2s[""+r]:null,!0;var i={};if(n.ptl){var o=null;g.default.forEach(n.ptl,function(n,a){if(n===g.default.trim(t[1]))return o=a,!1}),o&&(i={pid:o})}s.push(g.default.assign({isDefaultValue:(n.df||[]).indexOf(r)>-1,sId:n.l2s?n.l2s[r]:null},g.default.zipObject(["id","value"],t),i))}),{options:s,optionsDefaultValue:n.df||[],otherId:n.l2s?n.l2s[0]:null};case"title":case"gender":case"fscTf":return s=[],g.default.forEach(n.l,function(t,a){var r=t,i=g.default.find(n.lo,function(t){return t[0]===r});s.push(g.default.assign({isDefaultValue:(n.df||[]).indexOf(r)>-1,sId:n.l2s?n.l2s[r]:null},g.default.zipObject(["id","value"],i)))}),{options:s,optionsDefaultValue:n.df||[]};case"picRadio":case"picCheckbox":case"fscPicRadio":case"fscPicCheckbox":return s=[],g.default.forEach(n.l,function(t,l){var u=t[0];if(0!==+u){var c={id:u,sId:n.l2s?n.l2s[u]:null,value:t[1],isDefaultValue:(n.df||[]).indexOf(u)>-1},d=t[2];d&&!g.default.isEmpty(d)&&g.default.isPlainObject(d)&&(d.u&&d.e?(c.image={},c.image.isOpt=(n.opt||[]).indexOf(u)>-1,c.image.imageUri=a+(c.image.isOpt?"opt_":"")+d.u+"."+d.e,c.image.imageFullUri=a+d.u+"."+d.e,c.image.u=d.u,c.image.e=d.e,c.image.width=d.w,c.image.height=d.h):d.ul&&(c.image={},c.image.isLink=!0,c.image.linkUri=i(d.ul,r,o),c.image.width=d.w,c.image.height=d.h)),s.push(c)}}),{options:s,optionsDefaultValue:n.df||[]};case"staticPic":return s=[],n&&n.p&&g.default.forEach(n.p,function(t){if(t&&g.default.isArray(t)){var n=t[0],l=t[1]||2,u={picAlign:l};n&&!g.default.isEmpty(n)&&g.default.isPlainObject(n)&&(u.isJumpTo=!!n.l,u.jumpTo=n.l||null,n.u&&n.e?(u.u=n.u,u.e=n.e,u.imageUri=a+n.u+"."+n.e,u.width=n.w,u.height=n.h):n.ul?(u.isLink=!0,u.linkUri=i(n.ul,r,o),u.width=n.w,u.height=n.h):u.imageUri=null),s.push(u)}else s.push(null)}),{pictures:s};case"picCarousel":return s=[],n&&n.p&&g.default.forEach(n.p,function(t){if(t&&!g.default.isEmpty(t)&&g.default.isPlainObject(t)){var n={id:t.id,isJumpTo:!!t.l,jumpTo:t.l||null,name:t.n||null};t.u&&t.e?(n.u=t.u,n.e=t.e,n.imageUri=a+t.u+"."+t.e,n.width=t.w,n.height=t.h):t.ul?(n.isLink=!0,n.linkUri=i(t.ul,r,o),n.width=t.w,n.height=t.h):n.imageUri=null,s.push(n)}else s.push(null)}),{carouselPictures:s};case"commodity":return s=[],g.default.forEach(n.l,function(t,l){var u=t[2];g.default.isArray(u)||(u=(""+(u||"")).split("\n"));var c={id:t[0],sId:n.l2s?n.l2s[t[0]]:null,defaultValue:Math.max((n.df||{})[t[0]]>>0,0),name:t[1],describe:u,price:(n.l2p?n.l2p[t[0]]:0)||0},d=t[3];d&&!g.default.isEmpty(d)&&g.default.isPlainObject(d)&&(d.u&&d.e?(c.image={},c.image.isOpt=(n.opt||[]).indexOf(t[0])>-1,c.image.imageUri=a+(c.image.isOpt?"opt_":"")+d.u+"."+d.e,c.image.imageFullUri=a+d.u+"."+d.e,c.image.u=d.u,c.image.e=d.e):d.ul&&(c.image={},c.image.isLink=!0,c.image.linkUri=i(d.ul,r,o)),c.isJumpTo=!!d.l,c.jumpTo=d.l||null),s.push(c)}),{commodities:s,commoditiesDefaultValue:n.df||{},cpId:n.mx,priceList:n.l2p};case"multiLevel":if(!n)return;return s=[],g.default.forEach(n.l,function(t,a){var r=t[0];s.push(g.default.assign({defaultValue:(n.df||[]).indexOf(r)>-1,sId:n.l2s?n.l2s[r]:null},g.default.zipObject(["id","pId","type","content","inputRequired"],t)))}),{options:s,optionsDefaultValue:n.df||[]};case"rank":if(!n)return;return s=[],g.default.forEach(n.l,function(t,a){var r=t[0];s.push(g.default.assign({isDefaultValue:(n.df||[]).indexOf(r)>-1,sId:n.l2s?n.l2s[r]:null},g.default.zipObject(["id","value"],t)))}),{options:s};case"tabular":var u=[],c=[];g.default.forEach(n.l,function(t,a){u.push(g.default.assign({isDefaultValue:(n.df||[]).indexOf(t[0])>-1},g.default.zipObject(["id","value"],t)))}),g.default.forEach(n.ql,function(t,n){c.push(g.default.zipObject(["id","value"],t))});var d={};return n.l&&(d.options=u),n.ql&&(d.questions=c),n.ql2s&&(d.ql2sMapping=n.ql2s),n.ch&&(d.tipText=n.ch),d}return s}function s(t,n,a,r,i){var o={};if(!n)return{};switch(t){case 6:case 7:return o=[],g.default.forEach(n.l,function(t,a){t[2]&&o.push({isDefaultValue:(n.df||[]).indexOf(t[0])>-1,id:t[0],sId:n.l2s?n.l2s[t[0]]:null,value:t[1]})}),{options:o,optionsDefaultValue:n.df||[]};case 8:if(!n)return;return o=[],g.default.forEach(n.l,function(t,a){o.push(g.default.assign({defaultValue:(n.df||[]).indexOf(t[0])>-1,sId:n.l2s?n.l2s[t[0]]:null},g.default.zipObject(["id","pId","type","content"],t)))}),{options:o,optionsDefaultValue:n.df||[]}}return o}function l(t,n){var a={};switch(t){case"input":case"textarea":g.default.forEach(n,function(t,n){var r=b.invert_propsMapping[n];r&&null!==t&&void 0!==t&&(a[r]=t)});break;case"radio":case"checkbox":case"dropDown":case"fscRadio":case"fscCheckbox":g.default.forEach(n,function(t,n){var r=b.invert_propsMapping[n];r&&null!==t&&void 0!==t&&(a[r]=t)});break;default:g.default.forEach(n,function(t,n){var r=b.invert_propsMapping[n];r&&("localityRange"===r&&(t=t.map(function(t){return{type:""+t[0],locationId:t[1]}})),"picDescribe"!==r&&"describeFoldText"!==r&&"foldContent"!==r||t&&!g.default.isEmpty(t)&&g.default.isString(t)&&(t=t.split("\n")),"picDescribe_style"!==r&&"describeFoldText_style"!==r&&"foldContent_style"!==r||(t=(0,y.convertRawTextStyle)(t||null)),null!==t&&void 0!==t&&(a[r]=t))})}return a}function u(t){return t?t.split("\n"):[]}function c(t,n,a,r,i){var s=g.default.zipObject(["type","isRequired","content","props"],t);i&&(s=g.default.zipObject(["id","type","content","props"],t));var c=b.METAID_COMPONENT_MAPPING[s.type];switch(s.title=s.content?u(s.content.t):null,s.subtitle=s.content?u(s.content.d):null,s.title_style=s.content?(0,y.convertRawTextStyle)(s.content.ts):null,s.subtitle_style=s.content?(0,y.convertRawTextStyle)(s.content.ds):null,s.type=c,c){case"textarea":s.isOnlySingle="0",s.type="input";break;case"input":s.isOnlySingle="1";break;case"rank":s.trueDigits||(s.trueDigits=(s.content.l||[]).length)}return s=g.default.assign(s,l(c,s.props),o(c,s.content,n,a,r)),delete s.props,delete s.content,s}function d(t,n,a,r,i){var o=g.default.zipObject(["type","isRequired","content","props"],t);switch(i&&(o=g.default.zipObject(5===t.length?["sId","ctcfId","type","content","props"]:["id","type","content","props"],t)),o.isCustomField=!0,o.title=o.content?u(o.content.t):null,o.subtitle=o.content?u(o.content.d):null,o.title_style=o.content?(0,y.convertRawTextStyle)(o.content.ts):null,o.subtitle_style=o.content?(0,y.convertRawTextStyle)(o.content.ds):null,o.type){case 2:o.isOnlySingle="0",o.type=1;break;case 1:o.isOnlySingle="1";break;case 7:o.isCheckbox=1}return o=g.default.assign(o,l(o.type,o.props),s(o.type,o.content,n,a,r)),delete o.props,delete o.content,o}function f(t,n,a){var r=t.cp,i=t.cp_ctcf,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments[5],u={};return r&&g.default.forEach(r,function(t,r){l&&(r=t[0]);var i=g.default.assign({id:r},c(t,n,o,s,l));a&&(i=a(i)),u[r]=i}),i&&g.default.forEach(i,function(t,r){l&&(r=t[0]);var i=g.default.assign({id:"ctcf#"+r},d(t,n,o,s,l));a&&(i=a(i)),u["ctcf#"+r]=i}),u}function m(t,n){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null;if(!t||!n)return r;var i=(0,v.convertLayoutString)(t,a),o=g.default.map(n.split(";"),function(t){return g.default.startsWith(t,"ctcf#")?t:+t});return r=g.default.map(i,function(t){return"normal"===t.type?t.id=o.shift():"squeezeBox"===t.type&&(t.children=t.layout.map(function(t){return o.shift()})),t})}function p(t,n){return g.default.map(t,function(t){if(t){var a={};return a.id=t[0],a.ticketNum=t[1],a.ticketStatus=t[2],a.ticketValidWay=t[3],a.feedbackId=t[4],t[5]&&n.user&&n.user[t[5]]&&(a.verificationUser=n.user[t[5]][0]),n.create&&(a.createdDate=n.create[a.id]),n.update&&(a.verificationDate=n.update[a.id]),a}return null})}Object.defineProperty(n,"__esModule",{value:!0}),n.viewRawCtcfComponent=n.viewRawComponent=void 0,n.convertRawComponentContent=o,n.convertRawCtcfComponentContent=s,n.convertRawComponentPropsInfo=l,n.convertComponentData=f,n.convertLayout=m,n.convertFormTicket=p;var h=a(6),g=r(h),_=a(117),v=(r(_),a(115)),b=a(57),y=a(25),E=a(14),C=r(E);n.viewRawComponent=c,n.viewRawCtcfComponent=c},function(t,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r,i=arguments;window.mkErrorLog=[];var o=function(){},s={log:o,warn:o,info:o,error:function(){window.mkErrorLog.push(i)}};if(r=!0,!r&&window.console)try{s={log:console.log.bind(window.console),warn:console.warn.bind(window.console),info:console.info.bind(window.console),error:console.error.bind(window.console)}}catch(t){s.log=console.log}n.default=s,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.form=void 0;var i=a(6),o=r(i),s=a(38),l=a(17);n.form=function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],a={},r=!1;switch(n.type){case s._CHUNK_MEASURE:break;case s._CHUNK_LOADED:a.loadedChunk=[].concat(t.loadedChunk||[],n.chunks||[]),(0,l.setComponents)(n.data);break;case s._GEN_CAPTCHA_SUCCEED:a.captcha=n.data,a.captchaValid=null,r=!0;break;case s._GEN_CAPTCHA_FAILED:a.captcha=o.default.assign({},t.captcha,{error:!0}),a.captchaValid=null,r=!0;break;case s._CHECK_CAPTCHA_SUCCEED:case s._CHECK_SUBMIT_CAPTCHA_SUCCEED:a.captcha=o.default.assign({},t.captcha,{captcha:n.data,error:!1}),a.captchaValid="checked";break;case s._CHECK_CAPTCHA_FAILED:case s._CHECK_SUBMIT_CAPTCHA_FAILED:a.captchaValid="error"}if(o.default.isEmpty(a))return t;var i=o.default.assign({},t,a);return r&&(i.captcha=a.captcha),i}}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var n=0,a=Array(t.length);n<t.length;n++)a[n]=t[n];return a}return Array.from(t)}Object.defineProperty(n,"__esModule",{value:!0}),n.filling=void 0;var o=a(38),s=a(61),l=r(s),u=a(6),c=r(u),d=a(8),f=a(55);n.filling=function(t){var n={};return function(){var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments[1],s=t(),u={};switch(r.type){case o._BLUR_NUMBER:if(r.value){var m=l.default.localeStringToNumber(r.value);if(!isNaN(m)&&c.default.isNumber(m)){var p=s.getComponent(r.id);1===p.isAcceptDecimals&&1===p.isLimitDecDigits&&p.decDigits&&(m=m.toFixed(+p.decDigits));var h=1===p.isAcceptDecimals&&1===p.isLimitDecDigits;u[r.id]=l.default.localeNumberFormatter(m,h?+p.decDigits:null,h?+p.decDigits:null,!1)}else u[r.id]=r.value}else u[r.id]=r.value;break;case o._SET_VALUE:case o._BLUR_INPUT:r.id&&(c.default.isPlainObject(r.value)?u[r.id]=c.default.assign({},a[r.id],r.value):u[r.id]=r.value);break;case o._SET_DATE_TIME_VALUE:
case o._BLUR_DATE_TIME_VALUE:r.id&&(r.value?u[r.id]=c.default.assign({},a[r.id]||{},r.value):u[r.id]=null);break;case o._SET_MULTI_INPUT_VALUE:case o._BLUR_MULTI_INPUT:r.id&&(u[r.id]=[].concat(a[r.id]||[]),u[r.id][r.idx]=r.value);break;case o._ADD_MULTI_INPUT_ITEM:if(r.id){u[r.id]=[].concat(a[r.id]||[]);var g=u[r.id].length;u[r.id]&&g>r.idx?u[r.id].splice(r.idx+1,0,""):0===g&&(u[r.id]=["",""])}break;case o._REMOVE_MULTI_INPUT_ITEM:r.id&&(u[r.id]=[].concat(a[r.id]||[]),u[r.id]&&u[r.id].length>r.idx&&u[r.id].splice(r.idx,1));break;case o._SET_GROUP_VALUE:case o._BLUR_GROUP_INPUT:r.id&&(u[r.id]=[].concat(a[r.id]||[]),u[r.id][r.idx]=c.default.assign({},u[r.id][r.idx],r.data));break;case o._ADD_GROUP_ITEM:if(r.id){u[r.id]=[].concat(a[r.id]||[]);var _=u[r.id].length;u[r.id]&&_>r.idx?u[r.id].splice(r.idx+1,0,""):0===_&&(u[r.id]=["",""])}break;case o._REMOVE_GROUP_ITEM:r.id&&(u[r.id]=[].concat(a[r.id]||[]),u[r.id]&&u[r.id].length>r.idx&&u[r.id].splice(r.idx,1));break;case o._SET_TABULAR_VALUE:if(r.id){var v=c.default.assign({},a[r.id]||{});switch(r.tabularType){case f.TABULAR_TEXT:v[r.question]=r.value;break;case f.TABULAR_CHECKBOX:v[r.question]=[].concat(v[r.question]||[]);var b=v[r.question].indexOf(r.value);b===-1?v[r.question].push(r.value):v[r.question].splice(b,1);break;case f.TABULAR_RATE:v[r.question]=+r.value;break;case f.TABULAR_RADIO:default:v[r.question]&&v[r.question].indexOf(r.value)!==-1?v[r.question]=null:v[r.question]=[r.value]}u[r.id]=v}break;case o._SET_AUTH_MOBILE_VALUE:case o._BLUR_AUTH_MOBILE:if(r.id){var y=a[r.id]||{};r.value!==y.mobile?u[r.id]={mobile:r.value}:u[r.id]=c.default.assign({},y,{mobile:r.value})}break;case o._REQUIRE_AUTH_MSG_SUCCEED:r.id&&(u[r.id]=c.default.assign({},a[r.id]||{},{verificationToken:r.data.t,verificationMobileToken:r.data.vv}));break;case o._SET_AUTH_CODE_VALUE:r.id&&(u[r.id]=c.default.assign({},a[r.id]||{},{verificationCode:r.value,checked:!1}));break;case o._CHECK_AUTH_CODE_FAILED:case o._CHECK_AUTH_CODE_SUCCEED:r.id&&a[r.id]&&(u[r.id]=c.default.assign({},a[r.id]||{},{checked:!0,error:0!==r.data.r}));break;case o._SET_RATE:a[r.id]===r.value?u[r.id]=null:u[r.id]=r.value;break;case o._SET_RANK:if(r.id){var E=s.getComponent(r.id),C=[].concat(a[r.id]||[]),T=C.indexOf(r.data);T!==r.index&&(T>-1&&(C[T]=null),T>-1&&C[r.index]&&(C[T]=C[r.index]),C[r.index]=r.data,C=C.slice(0,E.trueDigits),u[r.id]=C)}break;case o._SET_NEXT_RANK:if(r.id){for(var S=s.getComponent(r.id),M=[].concat(a[r.id]||[]),I=0,N=S.trueDigits;I<N;I++)if(!M[I]){M[I]=r.data;break}M=M.slice(0,S.trueDigits),u[r.id]=M}break;case o._REMOVE_RANK:var A=[].concat(a[r.id]||[]),x=A.indexOf(r.data);x>-1&&(A[x]=null,u[r.id]=A);break;case o._SELECT_OPT:if(r.id){var k=s.getComponent(r.id),D=c.default.map(a[r.id]||[],function(t){return c.default.isPlainObject(t)?t.id:t}).indexOf(r.value);if("checkbox"===k.type||"picCheckbox"===k.type||k.isCheckbox){var O=[].concat(a[r.id]||[]);if(D>-1)O.splice(D,1);else{var P=r.value;n[r.value]&&(P={id:P,value:n[r.value]}),O.push(P)}u[r.id]=O}else if(null===r.value||D>-1)u[r.id]=null;else{var L=r.value;n[r.value]&&(L={id:L,value:n[r.value]}),u[r.id]=[L]}}break;case o._SET_OPT_EXT_VALUE:if(r.id&&r.data&&r.data.optId){var w=c.default.map(a[r.id]||[],function(t){return c.default.isPlainObject(t)?t.id:t}).indexOf(r.data.optId);if(w>-1){var R=a[r.id][w];R=c.default.isPlainObject(R)?c.default.assign({},R,{value:r.data.value}):{id:r.data.optId,value:r.data.value},n[R.id]=R.value,u[r.id]=a[r.id].slice(),u[r.id][w]=R}}break;case o._SET_FILE_DONE:if(r.id){u[r.id]=[].concat(a[r.id]||[]);var F=r.files;if(u[r.id][r.index]){var U;(U=u[r.id]).splice.apply(U,[r.index,1].concat(i(F)))}else u[r.id]=[].concat(u[r.id],F)}break;case o._REMOVE_FILE:r.id&&(u[r.id]=[].concat(a[r.id]||[]),u[r.id][r.index]&&u[r.id].splice(r.index,1));break;case o._SET_COMMODITY_VALUE:if(r.id){var B=c.default.assign({},a[r.id]||{}),H=+r.data.num;H<=0||isNaN(H)||!isFinite(H)?delete B[r.data.id]:B[r.data.id]=H,u[r.id]=B}break;case o._SET_LOCATION_VALUE:if(r.id){var j=r.data,G=c.default.assign({},a[r.id]||{});j.hasOwnProperty("lvl")&&(G.struct=(G.struct||[]).slice(0,j.lvl),G.struct[j.lvl]=j.id),j.hasOwnProperty("searchText")&&(G.searchText=j.searchText),j.hasOwnProperty("select")&&(G.select=j.select?j.select[0]:null,G.struct=j.select?[j.select[0].id]:null),j.hasOwnProperty("content")&&(G.content=j.content),j.hasOwnProperty("zipCode")&&(G.zipCode=j.zipCode),u[r.id]=G}break;case o._SET_LOCATION_CONTENT_STRUCTURE:if(r.id){var W=r.data,V=c.default.assign({},a[r.id]||{}),z=[];["I","II","III","IV"].forEach(function(t){return!(!W||!W[t])&&void z.push(W[t])}),V.struct=z,u[r.id]=V}break;case o._SET_MULTILEVEL_VALUE:if(r.id){var K=r.data,q=c.default.assign({},a[r.id]||{}),Y=s.getComponent(r.id);if(null!=K.lvl){q.current=(q.current||[]).slice(0,K.lvl),K.opt&&(q.current[K.lvl]=K.opt);var Q=q.current.length,J=Q>0?q.current[Q-1]:null;!J||!Y.isAllowPartEmpty&&J.hasNext?q.id=null:q.id=J.sId,a[r.id]&&a[r.id].id===q.id||(q.value=null)}else if(null!=K.node&&null!=K.value){if(!c.default.find(q.current,{sId:K.node})){var X=c.default.find(Y.options,{sId:K.node});if(!X||3!==X.type){console.error("ILLEGAL NODE :",K.node);break}q.current=[].concat(q.current,X)}q.id=K.node,q.value=K.value||null}u[r.id]=q}break;case o._SET_SIGN_VALUE:r.id&&(u[r.id]=r.value);break;case o._SET_CTCF_CNID_VALUE:r.id&&(u[r.id]={value:r.value});break;case o._BLUR_CTCF_CNID_VALUE:r.id&&(a[r.id]&&a[r.id].value===r.value||(u[r.id]={value:r.value}));break;case o._SET_CTCF_CNVEHICLE_VALUE:r.id&&(u[r.id]=c.default.assign({},a[r.id],r.data));break;case o._BLUR_CTCF_CNVEHICLE_VALUE:if(r.id){var Z=s.getComponent(r.id),ee=r.data;if(2!==Z.componentType){var te=r.data.vpVal.substr(0,1),ne=c.default.find(d.CF_VEHICLE_TYPE_SELECT,{value:te});ne&&(ee={vpType:ne.id,vpVal:r.data.vpVal.substr(1)})}u[r.id]=c.default.assign({},a[r.id],ee)}break;case o._CHECK_CNID_LOCATION_FAILED:case o._CHECK_CNID_LOCATION_SUCCEED:u[r.id]=c.default.assign({},a[r.id],{location:r.data});break;case o._SET_CTCF_CURRENCY:r.id&&r.data&&(u[r.id]=[].concat(a[r.id]||[]),r.data.hasOwnProperty("type")&&(u[r.id][0]=+r.data.type),r.data.hasOwnProperty("value")&&(u[r.id][1]=r.data.value));break;case o._BLUR_CTCF_CURRENCY:if(u[r.id]=a[r.id].slice(),r.data&&r.data.value){var ae=r.data.value,re=l.default.localeStringToNumber(ae);if(!isNaN(re)&&c.default.isNumber(re)){var ie=s.getComponent(r.id);1===ie.isAcceptDecimals&&1===ie.isLimitDecDigits&&ie.decDigits&&(re=re.toFixed(+ie.decDigits));var oe=1===ie.isAcceptDecimals&&1===ie.isLimitDecDigits;ae=l.default.localeNumberFormatter(re,oe?+ie.decDigits:null,oe?+ie.decDigits:null,!1)}u[r.id][1]=ae}else u[r.id][1]=""}return c.default.isEmpty(u)?a:c.default.assign({},a,u)}}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.payment=void 0;var i=a(6),o=r(i),s=a(38),l=a(68),u=r(l);n.payment=function(t){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],a={};switch(n.type){case s._CHANGE_PAYMENT_METHOD:a.type=n.id;break;case s._CHANGE_USE_MBRM_BALANCE:a.useMemberBalance=n.data;break;case s._CHECK_MBRM_BALANCE_SUCCEED:a.memberBalance=n.data,a.memberBalance&&a.memberBalance.balance>0&&(a.useMemberBalance=!0);break;case s._IFP_PENDING:if(n.data&&n.data.cashier){if(a.cashier=n.data.cashier,a.cashier.inWechat=window.IN_WECHAT,a.cashier.randomCode=n.data.randomCode||null,n.data&&n.data.ext&&n.data.ext.ftkv){var r=n.data.ext.ftkv;a.cashier.tkvCode=r.code,a.cashier.tkvQrUrl=r.qrUrl}n.raw&&(a.cashier.redirectUrl=(0,u.default)(n.raw.data))}break;case s._IFP_FINISH_PAY:n.data&&(a.paymentRes=n.data)}return o.default.isEmpty(a)?t:o.default.assign({},t,a)}}},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}function o(t){return Array.isArray(t)?t:Array.from(t)}function s(){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return n=function(n){var a,r,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,J.call)(ae.getFormStructure);case 2:return a=t.sent,r=qe(n.data),t.next=6,(0,J.call)(ae.getMode);case 6:return i=t.sent,t.prev=7,t.next=10,(0,J.call)(ne.verifyVisitPass,{t:a.token,p:r,iro:i===ie.MODE_IRO?1:0});case 10:if(o=t.sent,!o||0!==o.r){t.next=18;break}return t.next=14,(0,J.put)((0,X.VERIFY_PASSWORD_SUCCEED)({data:o.d,pwd:r}));case 14:return t.next=16,(0,J.put)((0,X.FORCE_UPDATE)());case 16:t.next=20;break;case 18:return t.next=20,(0,J.put)((0,X.VERIFY_PASSWORD_FAILED)({data:o}));case 20:return t.prev=20,t.next=23,(0,J.cancelled)();case 23:if(!t.sent){t.next=24;break}case 24:return t.finish(20);case 25:case"end":return t.stop()}},t,this,[[7,,20,25]])},t=regeneratorRuntime.mark(n),a.next=4,(0,J.takeEvery)(X._VERIFY_PASSWORD,n);case 4:case"end":return a.stop()}},ue,this)}function l(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=3,(0,J.take)(X._CHECK_STYLE);case 3:return t.next=5,(0,J.call)(Qe);case 5:t.next=0;break;case 7:case"end":return t.stop()}},ce,this)}function u(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,J.take)(X._GEN_QR_CODE);case 3:return n.next=5,(0,J.call)(ae.getFormStructure);case 5:return t=n.sent,n.next=8,(0,J.call)(ne.generateQRCode,{t:t.token});case 8:return n.next=10,(0,J.put)((0,X.GEN_QR_CODE_SUCCEED)());case 10:n.next=0;break;case 12:case"end":return n.stop()}},de,this)}function c(){var t,n=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=regeneratorRuntime.mark(function t(){var a,r,i,o,s,l,u,c,d,f;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,J.take)(X._CHUNK_MEASURE);case 2:return t.next=4,(0,J.call)(ae.getFormStructure);case 4:return a=t.sent,t.next=7,(0,J.get)(function(t){return t.form});case 7:return r=t.sent,i=[],Q.default.forEach(a.components,function(t){var n=t.type;t.isCustomField&&(n="ctcf_"+n);var a=Je(n);a&&i.indexOf(a)===-1&&i.push(a)}),o=Q.default.filter(i,function(t){return!(r.loadedChunk&&r.loadedChunk.indexOf(t)>-1)}),t.next=13,(0,J.call)(Qe);case 13:if(!(o&&o.length>0)){t.next=27;break}return s=[],Q.default.forEach(o,function(t){var n=le.CHUNK_LOADER_MAPPING[t];n&&s.push(n())}),a.isCdn&&(l=a.images.slice(0,5),l&&l.length>0&&(u=[],Q.default.forEach(l,function(t){if(t&&t.indexOf("/form/qr/")===-1&&u.indexOf(t)===-1){u.push(t);var n=(0,oe.singleImagePreload)(t).then(function(){return null});s.push(n)}}))),c=function(){return Promise.all(s)},t.next=20,(0,J.call)(c);case 20:return d=t.sent,f={},Q.default.forEach(d,function(t){t&&(f=Q.default.assign(f,t))}),t.next=25,(0,J.put)((0,X.CHUNK_LOADED)({data:f,chunks:o}));case 25:t.next=29;break;case 27:return t.next=29,(0,J.put)((0,X.CHUNK_LOADED)({data:null,chunks:null}));case 29:case"end":return t.stop()}},t,n)});case 1:return a.delegateYield(t(),"t0",3);case 3:a.next=1;break;case 5:case"end":return a.stop()}},fe,this)}function d(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,J.take)(X._START_GOTO_PAGE);case 3:if(t=n.sent,!t.async||t.__MODE__!==ie.MODE_FILLING){n.next=7;break}return n.next=7,(0,J.call)(_,t.async);case 7:return n.next=9,(0,J.put)((0,X.GOTO_PAGE)({page:t.page}));case 9:n.next=0;break;case 11:case"end":return n.stop()}},me,this)}function f(){var t,n,a,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:t=null;case 1:return i.next=4,(0,J.take)([X._CHECK_SOUL,X._FORM_START_FILLING]);case 4:if(n=i.sent,!t||!t.isRunning()){i.next=9;break}n.type===X._CHECK_SOUL||n.type===X._FORM_START_FILLING&&t.cancel(),i.next=21;break;case 9:if(n.type!==X._CHECK_SOUL){i.next=21;break}return i.next=12,(0,J.call)(ae.getFormStructure);case 12:return a=i.sent,i.next=15,(0,J.call)(ne.checkRawData,{t:a.token});case 15:return r=i.sent,i.next=18,(0,J.put)((0,X.CHECK_SOUL_FIN)({data:r}));case 18:if(!([-801,-802,-804].indexOf(r.r)>-1)){i.next=21;break}return i.next=21,(0,J.put)((0,X.FORCE_UPDATE)());case 21:i.next=1;break;case 23:case"end":return i.stop()}},pe,this)}function m(){var t,n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,J.take)(X._FORM_START_FILLING);case 2:return r.next=4,(0,J.get)(function(t){return t.form});case 4:return t=r.sent,n=t.checkSoul&&+new Date-t.checkSoul>2e5,a=Math.floor(1e3+(n||!t.checkSoul?7e3:0)*Math.random()),r.next=9,(0,J.delay)(a);case 9:return r.next=11,(0,J.put)((0,X.FORM_START_FILLING_FIN)({isReload:n}));case 11:return r.next=13,(0,J.put)((0,X.FORCE_UPDATE)());case 13:case"end":return r.stop()}},he,this)}function p(t){var n,a,r,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=t.files,a=t.preview,r={},!n||Q.default.isEmpty(n)){o.next=7;break}return i=function(){return Promise.all(Q.default.map(n,function(t){if(t){var n=new oe.FileBox(t,a);return n.getFileSize().then(function(){return n})}return console.log("ERROR? empty file content?",t),null})).then(function(t){return Q.default.filter(t)})},o.next=6,(0,J.call)(i);case 6:r.files=o.sent;case 7:return o.next=9,(0,J.put)((0,X.SET_FILE_DONE)(q({id:t.id,index:t.index},r)));case 9:case"end":return o.stop()}},ge,this)}function h(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,J.takeEvery)(X._SET_FILE,p);case 2:case"end":return t.stop()}},_e,this)}function g(){var t,n,a,r,i,o,s,l,u;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=3,(0,J.take)([X._SET_COMMODITY_VALUE,X._FORCE_UPDATE_ALL,X._CHUNK_LOADED,X._CHANGE_USE_MBRM_BALANCE]);case 3:if(t=(0,ae.getCartData)(),n=(0,ae.getFormStructure)(),a=0,r=0,t&&!Q.default.isEmpty(t)){c.next=10;break}return c.next=9,(0,J.put)((0,X.CHECK_COMMODITY_LIMIT)({data:{limitAmount:null,limitQuantity:null,memberBalanceDeduction:null}}));case 9:return c.abrupt("continue",0);case 10:if(Q.default.forEach(t,function(t){t&&(a+=t.quantity,r+=t.price*t.quantity)}),!n.extensions||!n.extensions.inFormPayInfo){c.next=22;break}if(i=n.extensions.inFormPayInfo,!i.isLimitAmount&&!i.isLimitQuantity){c.next=20;break}return o=null,i.isLimitAmount&&(o=null!=i.limitAmountFrom&&r<i.limitAmountFrom?"lack":null,!o&&null!=i.limitAmountTo&&r>i.limitAmountTo&&(o="exceed")),s=null,i.isLimitQuantity&&(s=null!=i.limitQuantityFrom&&a<i.limitQuantityFrom?"lack":null,!s&&null!=i.limitQuantityTo&&a>i.limitQuantityTo&&(s="exceed")),c.next=20,(0,J.put)((0,X.CHECK_COMMODITY_LIMIT)({data:{limitAmount:o,limitQuantity:s}}));case 20:c.next=33;break;case 22:if(!n.extensions||n.extensions.inFormPay||!n.extensions.member){c.next=33;break}if(l=n.extensions.memberFrglg,!l||!l.allowMemberBalance){c.next=33;break}if(u=(0,ae.getBill)(),!(u[ie.BILL_TYPE.MBRM_BALANCE_DEDUCTION]&&u[ie.BILL_TYPE.MBRM_BALANCE_DEDUCTION].value>0&&u[ie.BILL_TYPE.PAYMENT]&&u[ie.BILL_TYPE.PAYMENT].value>0)){c.next=31;break}return c.next=29,(0,J.put)((0,X.CHECK_COMMODITY_LIMIT)({data:{memberBalanceDeduction:!0}}));case 29:c.next=33;break;case 31:return c.next=33,(0,J.put)((0,X.CHECK_COMMODITY_LIMIT)({data:{memberBalanceDeduction:null}}));case 33:c.next=0;break;case 35:case"end":return c.stop()}},ve,this)}function _(t){var n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(a.prev=0,!t||Q.default.isEmpty(t)){a.next=6;break}return n=[],Q.default.forEach(t,function(t){var a=K(t,2),r=a[0],i=a[1];switch(r){case"authCode":n.push((0,J.call)(v,i));break;case"inputAddress":n.push((0,J.call)(E,i));break;case"cnIdLocation":n.push((0,J.call)(S,i))}}),a.next=6,(0,J.all)(n);case 6:return a.prev=6,a.next=9,(0,J.cancelled)();case 9:if(!a.sent){a.next=10;break}case 10:return a.finish(6);case 11:case"end":return a.stop()}},be,this,[[0,,6,11]])}function v(t){var n,a,r,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,(0,J.call)(ae.getFormStructure);case 2:return n=o.sent,o.next=5,(0,J.get)(function(t){return t.data});case 5:if(a=o.sent,r=t.id,!a[r]||!a[r].verificationCode){o.next=31;break}return o.prev=8,o.next=11,(0,J.call)(ne.verifyMobileAuthCode,{t:n.token,vt:a[r].verificationToken,vc:a[r].verificationCode});case 11:if(i=o.sent,0!==i.r){o.next=17;break}return o.next=15,(0,J.put)((0,X.CHECK_AUTH_CODE_SUCCEED)({id:r,data:i}));case 15:o.next=19;break;case 17:return o.next=19,(0,J.put)((0,X.CHECK_AUTH_CODE_FAILED)({id:r,data:i}));case 19:o.next=24;break;case 21:o.prev=21,o.t0=o["catch"](8),o.t0&&console.log("error!",o.t0);case 24:return o.prev=24,o.next=27,(0,J.cancelled)();case 27:if(!o.sent){o.next=28;break}case 28:return o.finish(24);case 29:o.next=33;break;case 31:return o.next=33,(0,J.put)((0,X.CHECK_AUTH_CODE_FAILED)({id:r,data:{r:-829}}));case 33:case"end":return o.stop()}},ye,this,[[8,21,24,29]])}function b(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,J.takeEvery)(X._CHECK_AUTH_CODE,v);case 2:case"end":return t.stop()}},Ee,this)}function y(){var t,n,a,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,(0,J.take)(X._REQUIRE_AUTH_MSG);case 3:if(t=i.sent,t.__MODE__===ie.MODE_FILLING){i.next=6;break}return i.abrupt("continue",0);case 6:return i.next=8,(0,J.call)(ae.getFormStructure);case 8:return n=i.sent,i.next=11,(0,J.get)();case 11:if(a=i.sent,!t.id||a.validated&&a.validated[t.id]&&!Q.default.isEmpty(a.validated[t.id])){i.next=23;break}return i.next=15,(0,J.call)(ne.generateMobileAuthCode,{t:n.token,cp:t.id,mb:a.data[t.id].mobile});case 15:if(r=i.sent,0!==r.r){i.next=21;break}return i.next=19,(0,J.put)((0,X.REQUIRE_AUTH_MESSAGE_SUCCEED)({data:r.d,id:t.id}));case 19:i.next=23;break;case 21:return i.next=23,(0,J.put)((0,X.REQUIRE_AUTH_MESSAGE_FAILED)({data:r,id:t.id}));case 23:i.next=0;break;case 25:case"end":return i.stop()}},Ce,this)}function E(t){var n,a,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,(0,J.delay)(500);case 3:return i.next=5,(0,J.call)(ae.getFormStructure);case 5:if(n=i.sent,a=n.components[t.id],"address"!==a.type||2!==a.componentType||!t.data||!t.data.content){i.next=14;break}return i.next=10,(0,J.call)(ne.getLocationStructureData,{a:t.data.content,e:1,l:(a.isLimitCountry?a.limitCountry:null)||null});case 10:if(r=i.sent,0!==r.r){i.next=14;break}return i.next=14,(0,J.put)((0,X.SET_LOCATION_CONTENT_STRUCTURE)({id:t.id,data:r.d}));case 14:i.next=19;break;case 16:i.prev=16,i.t0=i["catch"](0),i.t0&&console.log("error!",i.t0);case 19:return i.prev=19,i.next=22,(0,J.cancelled)();case 22:if(!i.sent){i.next=23;break}case 23:return i.finish(19);case 24:case"end":return i.stop()}},Te,this,[[0,16,19,24]])}function C(){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=void 0;case 1:return a.next=4,(0,J.take)(X._SET_LOCATION_VALUE);case 4:if(n=a.sent,!t){a.next=8;break}return a.next=8,(0,J.cancel)(t);case 8:return a.next=10,(0,J.fork)(E,n);case 10:t=a.sent,a.next=1;break;case 13:case"end":return a.stop()}},Se,this)}function T(){var t,n,a,r,i,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,(0,J.take)(X._WX_AUTH);case 3:if(t=s.sent,t.__MODE__===ie.MODE_FILLING){s.next=6;break}return s.abrupt("continue",0);case 6:if((0,ae.getWx)().isWx){s.next=8;break}return s.abrupt("continue",0);case 8:return n=(0,ae.getConfig)().getBaseURL(),s.next=11,(0,J.call)(ae.getFormStructure);case 11:return a=s.sent,r=(0,oe.parseUrl)(n),i={t:a.token,s:"https"===r.protocol?1:void 0,csld:a.clSld},r.params&&r.params.m&&16===r.params.m.length&&(i.m=r.params.m),window._SST&&(i.sst=window._SST),s.next=18,(0,J.call)(ne.getAndRefreshWeChatAuthData,i);case 18:if(o=s.sent,0!==o.r){s.next=24;break}return s.next=22,(0,J.put)((0,X.WX_AUTH_SUCCEED)(q({},o,{id:t.id})));case 22:s.next=26;break;case 24:return s.next=26,(0,J.put)((0,X.WX_AUTH_FAILED)(q({},o,{id:t.id})));case 26:s.next=0;break;case 28:case"end":return s.stop()}},Me,this)}function S(t){var n,a,r,i,o,s,l;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.prev=0,u.next=3,(0,J.call)(ae.getFormStructure);case 3:return n=u.sent,a=n.components[t.id],u.next=7,(0,J.get)(function(t){return t.data});case 7:if(r=u.sent,i=t.id,o=(0,ie.getComponentType)(a),s=""+(r[i]?r[i].value:""),!("ctcf_11"===o&&a.cfIsLimitLocation&&a.cfLimitLocation&&!Q.default.isEmpty(a.cfLimitLocation)&&r[i]&&!r[i].location&&s.length>6)){u.next=22;break}return u.next=14,(0,J.call)(ne.getCtcfCnIdLocation,{t:s});case 14:if(l=u.sent,0!==l.r){u.next=20;break}return u.next=18,(0,J.put)((0,X.CHECK_CNID_LOCATION_SUCCEED)({id:i,data:l.d}));case 18:u.next=22;break;case 20:return u.next=22,(0,J.put)((0,X.CHECK_CNID_LOCATION_FAILED)({id:i,data:null}));case 22:u.next=27;break;case 24:u.prev=24,u.t0=u["catch"](0),u.t0&&console.log("error!",u.t0);case 27:return u.prev=27,u.next=30,(0,J.cancelled)();case 30:if(!u.sent){u.next=31;break}case 31:return u.finish(27);case 32:case"end":return u.stop()}},Ie,this,[[0,24,27,32]])}function M(){var t,n;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=void 0;case 1:return a.next=4,(0,J.take)(X._CHECK_CNID_LOCATION);case 4:if(n=a.sent,!t){a.next=8;break}return a.next=8,(0,J.cancel)(t);case 8:return a.next=10,(0,J.fork)(S,n);case 10:t=a.sent,a.next=1;break;case 13:case"end":return a.stop()}},Ne,this)}function I(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.onProgress,i=[];Q.default.forEach(t.form.pages,function(t){Q.default.forEach(t,function(t){t.type===ie.L_SQUEEZEBOX?i=i.concat(t.children):t.type===ie.L_NORMAL&&(i=i.concat(t.id))})});var s=(0,se.getSubmitData)({components:Q.default.map(i,function(t){return n.getComponent(t)}),data:t.data,visitor:n.visitorData}),l={i:n.meta.I,t:n.token,s:n.meta.FRS,acc:n.meta.ACC,r:(0,ae.getConfig)().getReferrer()};t.form.pwd&&(l.p=t.form.pwd);var u={};if(n.extensions.formCaptcha&&t.form.captcha&&(u.cpt={t:t.form.captcha.t,c:t.form.captcha.captcha}),n.extensions.checkIn&&n.extensions.checkInInfo&&n.extensions.checkInInfo.ckiWeChat&&n.isWxAuthorized&&(u.fcki={wc:1}),n.extensions.logic){u.sc=[];var c=[],d=function(t){var n=[].concat(t),a=o(n),r=a[0],i=a.slice(1);return i&&!Q.default.isEmpty(i)&&(i=Q.default.map(i,function(t){return(0,oe.leftPad)(t,"0",3)})),+(r+"."+i.join(""))};Q.default.forEach(t.form.position,function(t,n){c.push({id:Q.default.startsWith(n,"ctcf#")?n:+n,idx:d(t)})}),u.sc=Q.default.map(Q.default.orderBy(c,"idx"),function(t){return t.id}),u.sc=Q.default.filter(u.sc)}var f=(0,ae.getCartData)(),m=(0,ae.getBill)(),p=n.extensions.inFormPayInfo&&n.extensions.inFormPayInfo.isKuaiQian?1:0,h=t.payment.type,g=!1;if(m&&m[ie.BILL_TYPE.MBRM_BALANCE_DEDUCTION]){var _=m[ie.BILL_TYPE.MBRM_BALANCE_DEDUCTION];_.value>0&&(u.cashier_mbrm={bd:Math.round(100*_.value)/100}),g=-1}if(n.extensions.inFormPay&&m){var v=m[ie.BILL_TYPE.PAYMENT];if((h||g)&&f&&f.length>0&&v.value>p){var b=h||g;u.cashier={c:1,tp:Math.round(100*v.value)/100,d:oe.deviceInfo.isFuzzyMobile?2:1,m:b},n.extensions.inFormPay&&n.extensions.inFormPayInfo&&n.extensions.inFormPayInfo.pvt&&[1,2].indexOf(b)>-1&&(u.cashier.pvt=n.extensions.inFormPayInfo.pvt)}}if(window._SST){var y=+new Date,E=Object.keys(s.cp).length,C=Object.keys(s.cp_ctcf).length,T=Q.default.filter(t.form.position).length,S=Math.round((C+E)/T*1e3)/1e3;u.optrk={_SST:window._SST,vdp:S,dur:(y-Ke)/1e3}}s.uvdList&&s.uvdList.length>0&&(u.uvd=s.uvdList);var M=(0,oe.parseUrl)(location.href);M.params&&M.params.m&&16===M.params.m.length&&(u.mbrm={src:M.params.m});var I={},N={};return s&&(N.cp=s.cp||{},s.cp_ctcf&&!Q.default.isEmpty(s.cp_ctcf)&&(N.cp_ctcf=s.cp_ctcf),s.ext&&s.ext.files&&(I.files=s.ext.files,I.onProgress=function(t){r&&r(t)})),u&&!Q.default.isEmpty(u)&&(N.ext=u),q({},l,{fc:Xe(),c:N,options:I})}function N(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,J.call)(ae.getFormStructure);case 2:if(t=n.sent,!t.extensions||!t.extensions.formCaptcha){n.next=8;break}return n.next=6,(0,J.put)((0,X.GEN_CAPTCHA)());case 6:return n.next=8,(0,J.take)(X._CHECK_SUBMIT_CAPTCHA_SUCCEED);case 8:case"end":return n.stop()}},Ae,this)}function A(t){var n,a,r,o,s,l,u,c;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,(0,J.get)();case 2:return n=d.sent,d.next=5,(0,J.call)(ae.getFormStructure);case 5:return a=d.sent,d.next=8,(0,J.call)(I,n,a,{onProgress:function(n){t&&t((0,X.SUBMIT_PROGRESS)({data:n}))}});case 8:return r=d.sent,o=r.options,s=i(r,["options"]),d.next=13,(0,J.call)(ne.submit,s,o);case 13:l=d.sent,l||(l={r:-9999}),d.t0=l.r,d.next=0===d.t0?18:d.t0===-830?26:d.t0===-806?36:d.t0===-828?39:d.t0===-829?45:d.t0===-852?51:d.t0===-850?56:d.t0===-851?61:66;break;case 18:if(!l.cashier){d.next=23;break}return d.next=21,(0,J.put)((0,X.IFP_PENDING)({data:l,raw:n}));case 21:d.next=25;break;case 23:return d.next=25,(0,J.put)((0,X.SUBMIT_SUCCEED)({data:l}));case 25:return d.abrupt("break",69);case 26:if(!a.extensions||!a.extensions.formCaptcha){d.next=33;break}return d.next=29,(0,J.call)(N);case 29:return d.next=31,(0,J.call)(A,t);case 31:d.next=35;break;case 33:return d.next=35,(0,J.put)((0,X.SUBMIT_FAILED)({errorCode:-811,data:l}));case 35:return d.abrupt("break",69);case 36:return d.next=38,(0,J.put)((0,X.SUBMIT_QUEUE)());case 38:return d.abrupt("break",69);case 39:return u=a.findComponent({type:"mobile",isSendMsgAuth:1}),d.next=42,(0,J.put)((0,X.REQUIRE_AUTH_MESSAGE_FAILED)({data:l,id:u?u.id:null}));case 42:return d.next=44,(0,J.put)((0,X.SUBMIT_ERROR)({errorCode:l.r,data:l}));case 44:return d.abrupt("break",69);case 45:return c=a.findComponent({type:"mobile",isSendMsgAuth:1}),d.next=48,(0,J.put)((0,X.CHECK_AUTH_CODE_FAILED)({data:l,id:c?c.id:null}));case 48:return d.next=50,(0,J.put)((0,X.SUBMIT_ERROR)({errorCode:l.r,data:l}));case 50:return d.abrupt("break",69);case 51:return d.next=53,(0,J.put)((0,X.CHECK_INDEPENDENT_DATA_FAILED)({id:l.e}));case 53:return d.next=55,(0,J.put)((0,X.SUBMIT_ERROR)({errorCode:l.r,data:l}));case 55:return d.abrupt("break",69);case 56:return d.next=58,(0,J.put)((0,X.CHECK_OPTION_QUOTA_FAILED)({id:l.e[0],optId:+l.e[1]}));case 58:return d.next=60,(0,J.put)((0,X.SUBMIT_ERROR)({errorCode:l.r,data:l}));case 60:return d.abrupt("break",69);case 61:return d.next=63,(0,J.put)((0,X.CHECK_COMMODITY_QUOTA_FAILED)({id:l.e[0],commodityId:+l.e[1]}));case 63:return d.next=65,(0,J.put)((0,X.SUBMIT_ERROR)({errorCode:l.r,data:l}));case 65:return d.abrupt("break",69);case 66:return d.next=68,(0,J.put)((0,X.SUBMIT_FAILED)({errorCode:l.r,data:l}));case 68:return d.abrupt("break",69);case 69:case"end":return d.stop()}},xe,this)}function x(t){var n,a,r,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,(0,J.take)(X._START_SUBMIT);case 3:if(n=o.sent,n.__MODE__===ie.MODE_FILLING){o.next=6;break}return o.abrupt("continue",0);case 6:if(!n.async){o.next=9;break}return o.next=9,(0,J.call)(_,n.async);case 9:return o.next=11,(0,J.get)();case 11:if(a=o.sent,r=a.validated,i=r&&!Q.default.isEmpty(r),!i){o.next=18;break}return o.next=17,(0,J.put)((0,X.SUBMIT_ERROR)());case 17:return o.abrupt("continue",0);case 18:return o.next=20,(0,J.call)(N);case 20:return o.next=22,(0,J.call)(A,t);case 22:o.next=0;break;case 24:case"end":return o.stop()}},ke,this)}function k(){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,(0,J.take)([X._SUBMIT_FAILED,X._SUBMIT_SUCCEED,X._IFP_CONFIRM]);case 3:return t=n.sent,n.next=6,(0,J.put)((0,X.FORCE_UPDATE)());case 6:n.next=0;break;case 8:case"end":return n.stop()}},De,this)}function D(){var t,n,a,r,i,o,s;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=3,(0,J.take)(X._FINISH_SUBMIT_DIRECT);case 3:if(t=(0,oe.parseUrl)((0,ae.getConfig)().getBaseURL()),!t.params){l.next=20;break}if(n=decodeURIComponent(t.params.rc||""),a=decodeURIComponent(t.params.rdu||""),r=decodeURIComponent(t.params.tkvc||""),i=decodeURIComponent(t.params.tkvqr||""),o=decodeURIComponent(t.params.no||""),s=decodeURIComponent(t.params.pn||""),!o){l.next=16;break}return l.next=14,(0,J.put)((0,X.IFP_PENDING)({data:{cashier:o?{ordiNo:o,pubName:s}:null}}));case 14:return l.next=16,(0,J.put)((0,X.IFP_FINISH_PAY)({data:{isFin:!0,isSuccess:!0}}));case 16:return l.next=18,(0,J.put)((0,X.SUBMIT_SUCCEED)({data:{ext:{ftkv:r?{code:r,qrUrl:i}:null,randomCode:n||null,force_redirectUrl:a||null}}}));case 18:return l.next=20,(0,J.put)((0,X.FORCE_UPDATE)());case 20:l.next=0;break;case 22:case"end":return l.stop()}},Oe,this)}function O(t,n){var a=n.extensions.checkInInfo,r=null;if(a&&a.ckiComponent){var i=n.getComponent(a.ckiComponent);r=t.data[a.ckiComponent],Q.default.isArray(r)?r=r.join(";"):"name"===(0,ie.getComponentType)(i)&&(r=r?r.n:"")}var o={};if(t.form.formStatus===-80012){var s=(0,se.getSubmitData)({components:Q.default.map(t.form.pages[t.form.page],function(t){return n.getComponent(t.id)}),data:t.data,visitor:n.visitorData});s&&(o.cp=s.cp||{},s.cp_ctcf&&!Q.default.isEmpty(s.cp_ctcf)&&(o.cp_ctcf=s.cp_ctcf))}var l=void 0;return Q.default.isEmpty(o)||(l={c:o}),{t:n.token,k:r,ext:l}}function P(t){var n,a,r,o,s,l;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,J.get)();case 2:return n=t.sent,t.next=5,(0,J.call)(ae.getFormStructure);case 5:return a=t.sent,t.next=8,(0,J.call)(O,n,a);case 8:return r=t.sent,o=r.options,s=i(r,["options"]),t.next=13,(0,J.call)(ne.checkIn,s);case 13:l=t.sent,l||(l={r:-9999}),t.t0=l.r,t.next=0===t.t0?18:21;break;case 18:return t.next=20,(0,J.put)((0,X.CHECK_IN_SUCCEED)({data:l}));case 20:return t.abrupt("break",24);case 21:return t.next=23,(0,J.put)((0,X.CHECK_IN_FAILED)({data:l}));case 23:return t.abrupt("break",24);case 24:case"end":return t.stop()}},Pe,this)}function L(t){var n,a,r;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=3,(0,J.take)(X._CHECK_IN);case 3:return i.next=5,(0,J.get)();case 5:if(n=i.sent,a=n.validated,r=a&&!Q.default.isEmpty(a),!r){i.next=12;break}return i.next=11,(0,J.put)((0,X.CHECK_IN_ERROR)());case 11:return i.abrupt("continue",0);case 12:return i.next=14,(0,J.call)(P,t);case 14:i.next=0;break;case 16:case"end":return i.stop()}},Le,this)}function w(){var t,n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,J.take)(X._GEN_CAPTCHA);case 3:return r.next=5,(0,J.call)(ae.getFormStructure);case 5:if(t=r.sent,!t.extensions||!t.extensions.formCaptcha){r.next=20;break}return r.next=9,(0,J.call)(ne.generateCaptcha,{t:t.token,fc:Xe()});case 9:if(n=r.sent,0!==n.r){r.next=16;break}return a={img:"data:image/png;base64,"+n.img,t:n.t},r.next=14,(0,J.put)((0,X.GEN_CAPTCHA_SUCCEED)({data:a}));case 14:r.next=18;break;case 16:return r.next=18,(0,J.put)((0,X.GEN_CAPTCHA_FAILED)());case 18:r.next=22;break;case 20:return r.next=22,(0,J.put)((0,X.GEN_CAPTCHA_FAILED)());case 22:r.next=0;break;case 24:case"end":return r.stop()}},we,this)}function R(t,n){var a,r,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,$e=!0,o.next=4,(0,J.get)();case 4:return a=o.sent,o.next=7,(0,J.call)(ae.getFormStructure);case 7:return r=o.sent,o.next=10,(0,J.call)(ne.checkCaptcha,{t:r.token,vt:a.form.captcha.t,vc:t.data});case 10:if(i=o.sent,!i){o.next=14;break}return o.next=14,(0,J.call)(n,i);case 14:$e=!1;case 15:return o.prev=15,o.next=18,(0,J.cancelled)();case 18:if(!o.sent){o.next=20;break}$e=!1;case 20:return o.finish(15);case 21:case"end":return o.stop()}},Re,this,[[0,,15,21]])}function F(){var t,n,a=this;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:t=regeneratorRuntime.mark(function t(){
var n,r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,J.take)(X._CHECK_CAPTCHA);case 2:if(n=t.sent,!$e){t.next=5;break}return t.abrupt("return","continue");case 5:return t.next=7,(0,J.fork)(R,n,regeneratorRuntime.mark(function t(a){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==a.r){t.next=5;break}return t.next=3,(0,J.put)((0,X.CHECK_CAPTCHA_SUCCEED)({data:n.data}));case 3:t.next=7;break;case 5:return t.next=7,(0,J.put)((0,X.CHECK_CAPTCHA_FAILED)());case 7:case"end":return t.stop()}},t,this)}));case 7:return r=t.sent,t.next=10,(0,J.take)([X._CHECK_SUBMIT_CAPTCHA,X._CHECK_CAPTCHA_SUCCEED,X._CHECK_CAPTCHA_FAILED]);case 10:if(i=t.sent,i.type!==X._CHECK_SUBMIT_CAPTCHA){t.next=16;break}return t.next=14,(0,J.cancel)(r);case 14:t.next=16;break;case 16:case"end":return t.stop()}},t,a)});case 1:return r.delegateYield(t(),"t0",3);case 3:if(n=r.t0,"continue"!==n){r.next=6;break}return r.abrupt("continue",1);case 6:r.next=1;break;case 8:case"end":return r.stop()}},Fe,this)}function U(){var t,n=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:t=regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,J.take)(X._CHECK_SUBMIT_CAPTCHA);case 2:return a=t.sent,t.next=5,(0,J.call)(R,a,regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==n.r){t.next=5;break}return t.next=3,(0,J.put)((0,X.CHECK_SUBMIT_CAPTCHA_SUCCEED)({data:a.data}));case 3:t.next=7;break;case 5:return t.next=7,(0,J.put)((0,X.CHECK_SUBMIT_CAPTCHA_FAILED)());case 7:case"end":return t.stop()}},t,this)}));case 5:case"end":return t.stop()}},t,n)});case 1:return a.delegateYield(t(),"t0",3);case 3:a.next=1;break;case 5:case"end":return a.stop()}},Ue,this)}function B(t,n){var a,r,i,o,s;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:l.prev=0,a=!1,r=1500,i=0;case 2:if(a){l.next=15;break}return l.next=5,(0,J.delay)(r*(1+ ++i%2));case 5:return l.next=7,(0,J.call)(ne.checkPaymentStatus,{t:t,n:n});case 7:if(o=l.sent,0!==o.r||1!==+o.dn){l.next=13;break}return s={isFin:1===+o.dn,isSuccess:1===+o.sc,message:o.msg||null},l.next=12,(0,J.put)((0,X.IFP_FINISH_PAY)({data:s}));case 12:a=!0;case 13:l.next=2;break;case 15:return l.prev=15,l.next=18,(0,J.cancelled)();case 18:if(!l.sent){l.next=19;break}case 19:return l.finish(15);case 20:case"end":return l.stop()}},Be,this,[[0,,15,20]])}function H(){var t,n,a;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=3,(0,J.take)(X._IFP_CHECK);case 3:return r.next=5,(0,J.get)();case 5:if(t=r.sent,n=t.payment,!(n.cashier&&n.cashier._DMWT&&n.cashier._NODE)){r.next=15;break}return r.next=10,(0,J.fork)(B,n.cashier._DMWT,n.cashier._NODE);case 10:return a=r.sent,r.next=13,(0,J.take)(X._IFP_CANCEL);case 13:return r.next=15,(0,J.cancel)(a);case 15:r.next=0;break;case 17:case"end":return r.stop()}},He,this)}function j(){var t,n,a,r,i;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=3,(0,J.take)(X._CHECK_MBRM_BALANCE);case 3:if([ie.MODE_FILLING].indexOf((0,ae.getMode)())!==-1){o.next=5;break}return o.abrupt("continue",0);case 5:return o.next=7,(0,J.call)(ae.getFormStructure);case 7:if(t=o.sent,t.extensions.member){o.next=10;break}return o.abrupt("break",29);case 10:if(n=t.extensions.memberFrglg,!n||!n.allowMemberBalance){o.next=27;break}if(a=(0,ae.getCartSymbol)(),r=(0,ae.getMbrmBalanceSymbol)(),r.isCustom!==a.isCustom||r.symbol!==a.symbol){o.next=27;break}return o.next=17,(0,J.call)(ne.getMbrmBalance,{t:t.token});case 17:if(i=o.sent,0!==i.r){o.next=23;break}return o.next=21,(0,J.put)((0,X.CHECK_MBRM_BALANCE_SUCCEED)({data:Q.default.zipObject(["balance","credit"],i.d)}));case 21:o.next=25;break;case 23:return o.next=25,(0,J.put)((0,X.CHECK_MBRM_BALANCE_FAILED)({data:i}));case 25:o.next=27;break;case 27:o.next=0;break;case 29:case"end":return o.stop()}},je,this)}function G(){var t,n,a,r,i,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,(0,J.take)(X._MBRM_CHECK_MEMBER);case 3:if([ie.MODE_IRO,ie.MODE_FILLING].indexOf((0,ae.getMode)())!==-1){s.next=5;break}return s.abrupt("continue",0);case 5:return s.next=7,(0,J.call)(ae.getFormStructure);case 7:return t=s.sent,s.next=10,(0,J.get)(function(t){return t.mbrmLogin});case 10:if(n=s.sent,t.extensions.member){s.next=13;break}return s.abrupt("continue",0);case 13:if(a=t.extensions.memberInfo,!a.isMemberId){s.next=16;break}return s.abrupt("continue",0);case 16:if(n.account&&Q.default.trim(""+n.account)){s.next=20;break}return s.next=19,(0,J.put)((0,X.MBRM_CHECK_MEMBER_FAILED)({data:{validAccount:"required",validGlobal:null}}));case 19:return s.abrupt("continue",0);case 20:if(r=Q.default.trim(""+n.account),!(a.isEmail&&!(0,oe.isEmail)(r)||a.isMobile&&!(0,oe.isMobileCN)(r))){s.next=25;break}return s.next=24,(0,J.put)((0,X.MBRM_CHECK_MEMBER_FAILED)({data:{validAccount:"invalid",validGlobal:null}}));case 24:return s.abrupt("continue",0);case 25:return i={t:t.token,a:r,l:t.langCode},s.next=28,(0,J.call)(ne.getLoginAccountNextStep,i);case 28:if(o=s.sent,0!==o.r){s.next=34;break}return s.next=32,(0,J.put)((0,X.MBRM_CHECK_MEMBER_SUCCEED)({data:o.d,account:r}));case 32:s.next=46;break;case 34:if(o.r!==-3&&o.r!==-70001&&o.r!==-70002){s.next=39;break}return s.next=37,(0,J.put)((0,X.MBRM_CHECK_MEMBER_FAILED)({data:{validAccount:"invalid",validGlobal:null}}));case 37:s.next=46;break;case 39:if(o.r!==-70006){s.next=44;break}return s.next=42,(0,J.put)((0,X.MBRM_CHECK_MEMBER_FAILED)({data:{validGlobal:"invalidGroup"}}));case 42:s.next=46;break;case 44:return s.next=46,(0,J.put)((0,X.MBRM_CHECK_MEMBER_FAILED)({data:{validAccount:"unknown",validGlobal:"ERR:"+o.r}}));case 46:s.next=0;break;case 48:case"end":return s.stop()}},Ge,this)}function W(){var t,n,a,r,i,o;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=3,(0,J.take)(X._MBRM_GET_AUTH_CODE);case 3:if([ie.MODE_IRO,ie.MODE_FILLING].indexOf((0,ae.getMode)())!==-1){s.next=5;break}return s.abrupt("continue",0);case 5:return s.next=7,(0,J.call)(ae.getFormStructure);case 7:return t=s.sent,s.next=10,(0,J.get)(function(t){return t.mbrmLogin});case 10:if(n=s.sent,t.extensions.member){s.next=13;break}return s.abrupt("continue",0);case 13:if(a=t.extensions.memberInfo,!a.isMemberId){s.next=16;break}return s.abrupt("continue",0);case 16:if(r=Q.default.trim(""+n.account),!(a.isEmail&&!(0,oe.isEmail)(r)||a.isMobile&&!(0,oe.isMobileCN)(r))){s.next=21;break}return s.next=20,(0,J.put)((0,X.MBRM_GET_AUTH_CODE_FAILED)({data:{validAccount:"invalid"}}));case 20:return s.abrupt("continue",0);case 21:return i={t:t.token,a:r,l:t.langCode},s.next=24,(0,J.call)(ne.getMbrmAuthCode,i);case 24:if(o=s.sent,0!==o.r){s.next=30;break}return s.next=28,(0,J.put)((0,X.MBRM_GET_AUTH_CODE_SUCCEED)({data:o.d,account:r}));case 28:s.next=42;break;case 30:if(o.r!==-3&&o.r!==-70001&&o.r!==-70002){s.next=35;break}return s.next=33,(0,J.put)((0,X.MBRM_GET_AUTH_CODE_FAILED)({data:{validAccount:"invalid"}}));case 33:s.next=42;break;case 35:if(o.r!==-70006){s.next=40;break}return s.next=38,(0,J.put)((0,X.MBRM_GET_AUTH_CODE_FAILED)({data:{validGlobal:"invalidGroup"}}));case 38:s.next=42;break;case 40:return s.next=42,(0,J.put)((0,X.MBRM_GET_AUTH_CODE_FAILED)({data:{validGlobal:"ERR:"+o.r}}));case 42:s.next=0;break;case 44:case"end":return s.stop()}},We,this)}function V(){var t,n,a,r,i,o,s,l;return regeneratorRuntime.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=3,(0,J.take)(X._MBRM_AUTH_MEMBER);case 3:if([ie.MODE_IRO,ie.MODE_FILLING].indexOf((0,ae.getMode)())!==-1){u.next=5;break}return u.abrupt("continue",0);case 5:return u.next=7,(0,J.call)(ae.getFormStructure);case 7:return t=u.sent,u.next=10,(0,J.get)(function(t){return t.mbrmLogin});case 10:if(n=u.sent,t.extensions.member){u.next=13;break}return u.abrupt("continue",0);case 13:if(!(n.validAccount||n.validAuth||n.validGlobal)){u.next=17;break}return u.next=16,(0,J.put)((0,X.MBRM_CHECK_MEMBER_FAILED)({}));case 16:return u.abrupt("continue",0);case 17:if(a=n.verifyData){u.next=22;break}return u.next=21,(0,J.put)((0,X.MBRM_CHECK_MEMBER_FAILED)({data:{validAccount:"invalid",validAuth:"invalid"}}));case 21:return u.abrupt("continue",0);case 22:if(r=t.extensions.memberInfo,i=Q.default.trim(""+n.account),o=null,!a.isLogin&&!r.isMemberId){u.next=45;break}if(s={t:t.token,a:i,iro:(0,ae.getMode)()===ie.MODE_IRO?1:0},n.authType!==ie.MBRM_AUTH.AT_RANDOM_CODE||r.isMemberId){u.next=39;break}if(!a.verificationData){u.next=34;break}s.vt=a.verificationData.t,s.vv=a.verificationData.vv,s.vc=n.auth,u.next=37;break;case 34:return u.next=36,(0,J.put)((0,X.MBRM_CHECK_MEMBER_FAILED)({data:{validAuth:"invalid"}}));case 36:return u.abrupt("continue",0);case 37:u.next=40;break;case 39:s.p=Ye(n.auth);case 40:return u.next=42,(0,J.call)(ne.mbrmLogin,s);case 42:o=u.sent,u.next=50;break;case 45:if(!a.isReg){u.next=50;break}return l={t:t.token,a:i,vc:n.auth,vv:a.verificationData.vv,vt:a.verificationData.t},u.next=49,(0,J.call)(ne.mbrmPreRegister,l);case 49:o=u.sent;case 50:if(o){u.next=55;break}return u.next=53,(0,J.put)((0,X.MBRM_AUTH_MEMBER_FAILED)({data:{validGlobal:"ERR:E"}}));case 53:u.next=77;break;case 55:if(0===o.r){u.next=73;break}u.t0=o.r,u.next=u.t0===-70003?59:u.t0===-3?62:u.t0===-70001?62:u.t0===-70002?62:u.t0===-70006?65:68;break;case 59:return u.next=61,(0,J.put)((0,X.MBRM_AUTH_MEMBER_FAILED)({data:{validAuth:"invalid"}}));case 61:return u.abrupt("break",71);case 62:return u.next=64,(0,J.put)((0,X.MBRM_AUTH_MEMBER_FAILED)({data:{validAccount:"invalid"}}));case 64:return u.abrupt("break",71);case 65:return u.next=67,(0,J.put)((0,X.MBRM_GET_AUTH_CODE_FAILED)({data:{validGlobal:"invalidGroup"}}));case 67:return u.abrupt("break",71);case 68:return u.next=70,(0,J.put)((0,X.MBRM_AUTH_MEMBER_FAILED)({data:{validGlobal:"ERR:"+o.r}}));case 70:return u.abrupt("break",71);case 71:u.next=77;break;case 73:return u.next=75,(0,J.put)((0,X.MBRM_AUTH_MEMBER_SUCCEED)({data:o.d}));case 75:return u.next=77,(0,J.put)((0,X.FORCE_UPDATE)());case 77:u.next=0;break;case 79:case"end":return u.stop()}},Ve,this)}function z(t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,J.all)([(0,J.fork)(u),(0,J.fork)(f),(0,J.fork)(m),(0,J.fork)(s),(0,J.fork)(G),(0,J.fork)(W),(0,J.fork)(V),(0,J.fork)(j),(0,J.fork)(l),(0,J.fork)(c),(0,J.fork)(d),(0,J.fork)(C),(0,J.fork)(y),(0,J.fork)(h),(0,J.fork)(g),(0,J.fork)(b),(0,J.fork)(M),(0,J.fork)(T),(0,J.fork)(w),(0,J.fork)(F),(0,J.fork)(U),(0,J.fork)(x,t),(0,J.fork)(k),(0,J.fork)(L,t),(0,J.fork)(H),(0,J.fork)(D)]);case 2:case"end":return n.stop()}},ze,this)}Object.defineProperty(n,"__esModule",{value:!0});var K=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),q=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t};n.default=z;var Y=a(6),Q=r(Y),J=a(42),X=a(38),Z=a(122),ee=r(Z),te=a(123),ne=a(90),ae=a(17),re=a(57),ie=a(55),oe=a(8),se=a(96),le=a(154),ue=regeneratorRuntime.mark(s),ce=regeneratorRuntime.mark(l),de=regeneratorRuntime.mark(u),fe=regeneratorRuntime.mark(c),me=regeneratorRuntime.mark(d),pe=regeneratorRuntime.mark(f),he=regeneratorRuntime.mark(m),ge=regeneratorRuntime.mark(p),_e=regeneratorRuntime.mark(h),ve=regeneratorRuntime.mark(g),be=regeneratorRuntime.mark(_),ye=regeneratorRuntime.mark(v),Ee=regeneratorRuntime.mark(b),Ce=regeneratorRuntime.mark(y),Te=regeneratorRuntime.mark(E),Se=regeneratorRuntime.mark(C),Me=regeneratorRuntime.mark(T),Ie=regeneratorRuntime.mark(S),Ne=regeneratorRuntime.mark(M),Ae=regeneratorRuntime.mark(N),xe=regeneratorRuntime.mark(A),ke=regeneratorRuntime.mark(x),De=regeneratorRuntime.mark(k),Oe=regeneratorRuntime.mark(D),Pe=regeneratorRuntime.mark(P),Le=regeneratorRuntime.mark(L),we=regeneratorRuntime.mark(w),Re=regeneratorRuntime.mark(R),Fe=regeneratorRuntime.mark(F),Ue=regeneratorRuntime.mark(U),Be=regeneratorRuntime.mark(B),He=regeneratorRuntime.mark(H),je=regeneratorRuntime.mark(j),Ge=regeneratorRuntime.mark(G),We=regeneratorRuntime.mark(W),Ve=regeneratorRuntime.mark(V),ze=regeneratorRuntime.mark(z),Ke=+new Date,qe=function(t){var n="6A5376385A4D6D4255666735494B566C5041585758675632244B3044555E266F26436F36255533684847535062582A446E58317A2A6B6B396C3338715331794A";t=t||"";for(var a=0,r=n.length;a<r;a+=2)t+=String.fromCharCode(parseInt(n.substring(a,a+2),16));return(0,ee.default)(t)},Ye=function(t){if(void 0!==t){var n="Hdlyp#S^^Hu6xY&JpSEWR2!ZloDkv#kHRFokv9tr9bPQ3%Wxm$JRX3XXl%K4iGSq",a="SHUAbk4nie^NFs6Em^0*d0GElWu4k1WwJ5s!!D*K^$Txw4XHRcnDYnH4a78z^1cN";return(0,ee.default)(""+n+t+a)}return null},Qe=function(){var t=null,n=null;return regeneratorRuntime.mark(function a(){var r,i,o,s,l;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=(0,ae.getDeviceInfo)(),i=r.isMobile,o=document.getElementById("import-css-str-theme"),s=window.rootPath("form/css/new/"+(i?"mobile":"desktop")+".css?v="+(window._VER||"")),a.prev=3,!n||n!==s){a.next=7;break}a.next=13;break;case 7:return a.next=9,(0,J.call)(te.importCSS,s,o);case 9:l=a.sent,t&&t.parentNode.removeChild(t),t=l,n=s;case 13:a.next=18;break;case 15:a.prev=15,a.t0=a["catch"](3),console.error(a.t0);case 18:case"end":return a.stop()}},a,this,[[3,15]])})}(),Je=function(t){var n=null,a=re.COMPONENT_METAID_MAPPING[t]||t;return a?(Q.default.forEach(le.FORM_CHUNK,function(t){if(t.cpList.indexOf(a)>-1)return n=t.name,!1}),n):n},Xe=function(){var t=500,n=(0,oe.getCookie)("uvis")||(0,oe.getCookie)("uvi")||"",a=(0,ae.getFormStructure)(),r=null,i=(0,oe.calcTokenMod)(a.token,t),o=0;do r=(0,oe.randomWord)(17),o=i-(0,oe.calcTokenMod)(""+r+n,t),o<0&&(o=+o+t);while(o<48||o>57&&o<65||o>90&&o<97||o>122);return""+r+String.fromCharCode(o)},$e=!1;t.exports=n["default"]},function(t,n,a){t.exports=a(2)(474)},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.importJS=n.unsetCSSString=n.importCSSString=n.importCSS=void 0;var i=a(124),o=r(i),s=function t(n){return window.document.body?void(n&&n()):void setTimeout(function(){return t(n)})},l=function(t,n){function a(){!r&&n&&(r=!0,n.call(t))}var r;t.addEventListener&&t.addEventListener("load",a),t.attachEvent&&t.attachEvent("onload",a),"isApplicationInstalled"in navigator&&"onloadcssdefined"in t&&t.onloadcssdefined(a)},u=(n.importCSS=function(t){function n(){c.addEventListener&&c.removeEventListener("load",n),c.media=r||"all"}var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments[2],i=arguments[3],u=window.document,c=u.createElement("link"),d=u.getElementsByTagName("head")[0].childNodes,f=null,m=!1;a&&(0,o.default)(d,function(t){if(t===a)return f=a,m=!0,!1}),f||(f=d[d.length-1]);var p=u.styleSheets;if(i)for(var h in i)i.hasOwnProperty(h)&&c.setAttribute(h,i[h]);c.rel="stylesheet",c.href=t,c.media="only x",s(function(){f.parentNode.insertBefore(c,m?f:f.nextSibling)});var g=function t(n){for(var a=c.href,r=p.length;r--;)if(p[r].href===a)return n();setTimeout(function(){t(n)})};return c.addEventListener&&c.addEventListener("load",n),c.onloadcssdefined=g,g(n),new Promise(function(t){l(c,function(){t(c)})})},n.importCSSString=function t(n,a){var r=window.document.getElementsByTagName("head")[0].childNodes,i=r[r.length-1],l=window.document.createElement("STYLE");return l.type="text/css",l.id="import-css-str-"+n,s(function(){return window.document.getElementById(l.id)?(u(window.document.getElementById(l.id)),void t(n,a)):(i.parentNode.insertBefore(l,i.nextSibling),void(l.styleSheet?l.styleSheet.cssText=a.join(" "):(0,o.default)(a,function(t){l.appendChild(document.createTextNode(t))})))}),l},n.unsetCSSString=function(t){s(function(){t&&t.parentNode&&t.parentNode.removeChild(t)})}),c={};n.importJS=function(t,n,a){var r=void 0;if(n&&n.trim&&(r=n),r&&r in c)return c[r];var i=function t(n,a,r,i){var o=5,s=r,l=window.document,e=l.createElement("script");e.type="text/javascript",e.charset="utf-8",e.src=n,e.async=!a||(void 0===a.async||a.async),e.onload=e.onerror=function(r){var u=r.type[0];return"e"===u&&(s+=1,l.head&&l.head.removeChild(e),s<=o)?t(n,a,s,i):void i(n,u,r.defaultPrevented)},l.head.appendChild(e)},o=new Promise(function(n,r){i(t,a,0,function(t,a){"l"===a?n(!0):r()})});return r&&(c[r]=o),o}},function(t,n,a){function r(t,n){var a=l(t)?i:o;return a(t,s(n))}var i=a(125),o=a(126),s=a(152),l=a(106);t.exports=r},function(t,n){function a(t,n){for(var a=-1,r=null==t?0:t.length;++a<r&&n(t[a],a,t)!==!1;);return t}t.exports=a},function(t,n,a){var r=a(127),i=a(151),o=i(r);t.exports=o},function(t,n,a){function r(t,n){return t&&i(t,n,o)}var i=a(128),o=a(130);t.exports=r},function(t,n,a){var r=a(129),i=r();t.exports=i},function(t,n){function a(t){return function(n,a,r){for(var i=-1,o=Object(n),s=r(n),l=s.length;l--;){var u=s[t?l:++i];if(a(o[u],u,o)===!1)break}return n}}t.exports=a},function(t,n,a){function r(t){return s(t)?i(t):o(t)}var i=a(131),o=a(144),s=a(148);t.exports=r},function(t,n,a){function r(t,n){var a=s(t),r=!a&&o(t),d=!a&&!r&&l(t),m=!a&&!r&&!d&&c(t),p=a||r||d||m,h=p?i(t.length,String):[],g=h.length;for(var _ in t)!n&&!f.call(t,_)||p&&("length"==_||d&&("offset"==_||"parent"==_)||m&&("buffer"==_||"byteLength"==_||"byteOffset"==_)||u(_,g))||h.push(_);return h}var i=a(132),o=a(133),s=a(106),l=a(135),u=a(138),c=a(139),d=Object.prototype,f=d.hasOwnProperty;t.exports=r},function(t,n){function a(t,n){for(var a=-1,r=Array(t);++a<t;)r[a]=n(a);return r}t.exports=a},function(t,n,a){var r=a(134),i=a(107),o=Object.prototype,s=o.hasOwnProperty,l=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&s.call(t,"callee")&&!l.call(t,"callee")};t.exports=u},function(t,n,a){function r(t){return o(t)&&i(t)==s}var i=a(100),o=a(107),s="[object Arguments]";t.exports=r},function(t,n,a){(function(t){var r=a(102),i=a(137),o="object"==typeof n&&n&&!n.nodeType&&n,s=o&&"object"==typeof t&&t&&!t.nodeType&&t,l=s&&s.exports===o,u=l?r.Buffer:void 0,c=u?u.isBuffer:void 0,d=c||i;t.exports=d}).call(n,a(136)(t))},function(t,n,a){t.exports=a(2)(313)},function(t,n){function a(){return!1}t.exports=a},function(t,n){function a(t,n){var a=typeof t;return n=null==n?r:n,!!n&&("number"==a||"symbol"!=a&&i.test(t))&&t>-1&&t%1==0&&t<n}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=a},function(t,n,a){var r=a(140),i=a(142),o=a(143),s=o&&o.isTypedArray,l=s?i(s):r;t.exports=l},function(t,n,a){function r(t){return s(t)&&o(t.length)&&!!O[i(t)]}var i=a(100),o=a(141),s=a(107),l="[object Arguments]",u="[object Array]",c="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Function]",p="[object Map]",h="[object Number]",g="[object Object]",_="[object RegExp]",v="[object Set]",b="[object String]",y="[object WeakMap]",E="[object ArrayBuffer]",C="[object DataView]",T="[object Float32Array]",S="[object Float64Array]",M="[object Int8Array]",I="[object Int16Array]",N="[object Int32Array]",A="[object Uint8Array]",x="[object Uint8ClampedArray]",k="[object Uint16Array]",D="[object Uint32Array]",O={};O[T]=O[S]=O[M]=O[I]=O[N]=O[A]=O[x]=O[k]=O[D]=!0,O[l]=O[u]=O[E]=O[c]=O[C]=O[d]=O[f]=O[m]=O[p]=O[h]=O[g]=O[_]=O[v]=O[b]=O[y]=!1,t.exports=r},function(t,n){function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=a},function(t,n){function a(t){return function(n){return t(n)}}t.exports=a},function(t,n,a){(function(t){var r=a(103),i="object"==typeof n&&n&&!n.nodeType&&n,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,s=o&&o.exports===i,l=s&&r.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t?t:l&&l.binding&&l.binding("util")}catch(t){}}();t.exports=u}).call(n,a(136)(t))},function(t,n,a){function r(t){if(!i(t))return o(t);var n=[];for(var a in Object(t))l.call(t,a)&&"constructor"!=a&&n.push(a);return n}var i=a(145),o=a(146),s=Object.prototype,l=s.hasOwnProperty;t.exports=r},function(t,n){function a(t){var n=t&&t.constructor,a="function"==typeof n&&n.prototype||r;return t===a}var r=Object.prototype;t.exports=a},function(t,n,a){var r=a(147),i=r(Object.keys,Object);t.exports=i},function(t,n){function a(t,n){return function(a){return t(n(a))}}t.exports=a},function(t,n,a){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=a(149),o=a(141);t.exports=r},function(t,n,a){function r(t){if(!o(t))return!1;var n=i(t);return n==l||n==u||n==s||n==c}var i=a(100),o=a(150),s="[object AsyncFunction]",l="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,n){function a(t){var n=typeof t;return null!=t&&("object"==n||"function"==n)}t.exports=a},function(t,n,a){function r(t,n){return function(a,r){if(null==a)return a;if(!i(a))return t(a,r);for(var o=a.length,s=n?o:-1,l=Object(a);(n?s--:++s<o)&&r(l[s],s,l)!==!1;);return a}}var i=a(148);t.exports=r},function(t,n,a){function r(t){return"function"==typeof t?t:i}var i=a(153);t.exports=r},function(t,n){function a(t){return t}t.exports=a},function(t,n,a){"use strict";function r(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}Object.defineProperty(n,"__esModule",{value:!0});var i,o,s=1,l=2,u=3,c=4,d="D",f="R",m="CTCF",p=n.getChunkName=function(t){return"formCpChunk"+t},h=(n.FORM_CHUNK=(i={},r(i,s,{name:p(s),cpList:[6,7,1,2,3,23,24,25,11,4,5]}),r(i,l,{name:p(l),cpList:[26,8,10,16,60,56,20,19,17,31,61,32,30,33,36]}),r(i,u,{name:p(u),cpList:[15,13,29,28,12,35]}),r(i,c,{name:p(c),cpList:[63,64,65,62,55,21,22,53,34,27,51,43,41,38,39,42,37,40,50,49,47,48,44,46,45]}),r(i,d,{name:p(d),cpList:[9,57,59,54,"ctcf_9"]}),r(i,f,{name:p(f),cpList:[14]}),r(i,m,{name:p(m),cpList:[1,2,3,4,5,6,7,8,11,12].map(function(t){return"ctcf_"+t})}),i),function(){return new Promise(function(t){(function(){var n=2,r=function(){--n<1&&function(n){t(a(155))}(a)}.bind(this);a.e(12,r),a.e(1,r)}).call(this)})}),g=function(){return new Promise(function(t){(function(){var n=2,r=function(){--n<1&&function(n){t(a(158))}(a)}.bind(this);a.e(12,r),a.e(2,r)}).call(this)})},_=function(){return new Promise(function(t){(function(){var n=2,r=function(){--n<1&&function(n){t(a(160))}(a)}.bind(this);a.e(12,r),a.e(3,r)}).call(this)})},v=function(){return new Promise(function(t){(function(){var n=2,r=function(){--n<1&&function(n){t(a(161))}(a)}.bind(this);a.e(12,r),a.e(4,r)}).call(this)})},b=function(){return new Promise(function(t){(function(){var n=2,r=function(){--n<1&&function(n){t(a(163))}(a)}.bind(this);a.e(12,r),a.e(5,r)}).call(this)})},y=function(){return new Promise(function(t){(function(){var n=2,r=function(){--n<1&&function(n){t(a(165))}(a)}.bind(this);a.e(12,r),a.e(6,r)}).call(this)})},E=function(){return new Promise(function(t){(function(){var n=2,r=function(){--n<1&&function(n){t(a(167))}(a)}.bind(this);a.e(12,r),a.e(7,r)}).call(this)})};n.CHUNK_LOADER_MAPPING=(o={},r(o,p(s),h),r(o,p(l),g),r(o,p(u),_),r(o,p(c),v),r(o,p(d),b),r(o,p(f),y),r(o,p(m),E),o)},,,,,,,,,,,,,,function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(19),o=r(i),s=a(23),l=r(s),u=a(27),c=r(u),d=a(97),f=r(d),m=a(17),p=a(7),h=a(8),g=a(22),_=r(g),v=a(26),b=r(v),y=a(36),E=a(38),C=a(169),T=r(C),S=a(177),M=r(S),I=a(81),N=r(I),A=o.default.createClass({displayName:"FormAuth",mixins:[l.default],getInitialState:function(){return this.form=(0,m.getFormStructure)(),this.theme=(0,m.getThemeHelper)(),this.store=(0,m.getStore)(),this.style=(this.form.style||{}).bodyStyle,{valid:!1,password:""}},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe()},handleStateChange:function(t){t.type!==E._VERIFY_PASSWORD_FAILED&&t.type!==E._VERIFY_PASSWORD_SUCCEED||this.setState({valid:t.type===E._VERIFY_PASSWORD_FAILED,loading:!1})},handleKeySubmitPassword:function(e){13===e.keyCode&&this.handleSubmitPassword()},handlePasswordChange:function(e){this.setState({password:e.target.value,valid:!1})},handleSubmitPassword:function(){this.state.password?(this.setState({loading:!0}),this.store.dispatch((0,E.VERIFY_PASSWORD)({data:this.state.password}))):this.setState({valid:!0})},render:function(){var t=this.state,n=t.valid,a=t.password,r=t.loading;return o.default.createElement("div",null,n?o.default.createElement("p",{key:"errorTips",className:"fbc_tips error"},(0,m.getLang)().errAccessPassword):null,o.default.createElement("div",{key:"input",className:"fb_ssItem input"},o.default.createElement("input",{type:"password",className:(0,_.default)("fbc_input",{"error":n&&a}),autoComplete:!1,spellCheck:!1,value:a,onChange:this.handlePasswordChange,onKeyUp:this.handleKeySubmitPassword})),o.default.createElement("div",{key:"button",className:"fb_ssItem button"},o.default.createElement(y.BaseBtn,{className:"fbc_button",style:{default:this.theme.getButtonStyle(this.theme.NORMAL),hover:this.theme.getButtonStyle(this.theme.HOVER),active:this.theme.getButtonStyle(this.theme.ACTIVE)},loading:r,onClick:this.handleSubmitPassword},(0,m.getLang)().gConfirm)))}}),x=o.default.createClass({displayName:"FormUsableCountdown",mixins:[l.default],getDefaultProps:function(){return{startCountdownGap:864e5}},getInitialState:function(){return this.form=(0,m.getFormStructure)(),this.config=(0,m.getConfig)(),this.store=(0,m.getStore)(),this.formUsableDate=window.JHD?(0,f.default)(+new Date+1e3*window.JHD):(0,f.default)(this.form.settings.usableTimeFrom),this.timer=null,{updateCount:0}},componentDidMount:function(){var t=this,n=+new Date,a=function a(){var r=+new Date;t.formUsableDate.time()>r?t.setState({updateCount:(t.state.updateCount+1)%100},function(){t.formUsableDate.time()-r<3e5&&r-n>1e3*(60+45*Math.random())&&(n=r,t.store.dispatch((0,E.CHECK_SOUL)())),t.timer=(0,h.rAF)(a)}):(t.timer&&((0,h.cAF)(t.timer),t.timer=null),t.handleRefresh())};a()},componentWillUnmount:function(){this.timer&&((0,h.cAF)(this.timer),this.timer=null)},handleRefresh:function(){var t=this;this.setState({pending:!0},function(){t.store.dispatch((0,E.FORM_START_FILLING)())})},render:function(){var t=this.props,n=t.startCountdownGap,a=t.guide,r=t.startTime,i=t.countdownHint,s=this.state.pending,l=+new Date;if(s)return o.default.createElement("div",{className:"fb_ssItem openTime",key:"timer"},o.default.createElement("p",{className:"fb_ssTime"},(0,m.getLang)().rDataLoading));if(this.formUsableDate.time()-l<=n){var u=Math.max(0,Math.floor((this.formUsableDate.time()-l)/1e3)),c=u%60,d=(u-c)/60,f=d%60,p=(d-f)/60%24;return o.default.createElement("div",{className:"fb_ssItem openTime",key:"timer"},o.default.createElement("p",{className:"fb_ssTimeGuide"},i?i:null,i?o.default.createElement("br",null):null,(0,m.getLang)().tStartCountdown),o.default.createElement("p",{className:"fb_ssTime",key:"countdown"},(0,m.getLang)().tCountdownTimerFunc({hour:(0,h.leftPad)(p,0,2),minutes:(0,h.leftPad)(f,0,2),seconds:(0,h.leftPad)(c,0,2)})))}return o.default.createElement("div",{className:"fb_ssItem openTime",key:"timer"},o.default.createElement("p",{className:"fb_ssTimeGuide"},a),o.default.createElement("p",{className:"fb_ssTime"},r||this.formUsableDate.getFullDateTime()))}}),k=o.default.createClass({displayName:"Error",mixins:[c.default,l.default],getInitialState:function(){return this.form=(0,m.getFormStructure)(),this.theme=(0,m.getThemeHelper)(),this.style=(this.form.style||{}).bodyStyle,this.config=(0,m.getConfig)(),this.store=(0,m.getStore)(),this.sld=this.form.sld,{updateCount:0}},componentDidMount:function(){this.unbind=(0,p.onResize)(this.handleResize)},componentWillUnmount:function(){this.unbind&&this.unbind()},handleResize:function(){this.setState({updateCount:++this.state.updateCount%10})},handleRefresh:function(){return this.config.isWx()?void(location.href=(0,h.forceFreshUrl)(this.config.getBaseURL())):void location.reload()},handleGotoReadonlyMode:function(){location.href=(0,h.addUrlParams)(this.config.getBaseURL(),{iro:1})},handleFeedback:function(){location.href="http://hk.mikecrm.com/ZN5fxQj"},viewStatistics:function(){location.href="r.php?t="+this.form.token},viewData:function(){location.href="r.php?t="+this.form.token+"&s=2"},renderScheduledUsable:function(t){var n=t.title,a=t.subtitle,r={image:window.rootPath("images/form/err_timeLimit.png"),title:n};return r.content=o.default.createElement(x,{guide:a,startTime:(0,f.default)(this.form.settings.usableTimeFrom).getFullDateTime()}),r},renderDailyUsable:function(t){var n=t.title,a=t.subtitle,r=t.isEnd,i={image:window.rootPath("images/form/err_timeLimit.png"),title:n},s=(this.form.settings.usableTimeDailyFrom||"00:00:00").split(":").slice(0,2),l=(this.form.settings.usableTimeDailyTo||"23:59:59").split(":").slice(0,2);return r?i.content=o.default.createElement("div",{className:"fb_ssItem openTime",key:"timer"},o.default.createElement("p",{className:"fb_ssTimeGuide"},a),o.default.createElement("p",{className:"fb_ssTime"},s.join(":")+" ~ "+l.join(":"))):i.content=o.default.createElement(x,{startCountdownGap:36e5,guide:a,startTime:s.join(":")+" ~ "+l.join(":"),countdownHint:a+" "+s.join(":")+" ~ "+l.join(":")}),i},renderPubInfo:function(){var t=this.form.settings;if(t&&t.asIsShowFeedbackResult){var n=0!==t.isShowStatistics,a=0!==t.isShowData,r=null,i=null;return n&&(r=o.default.createElement("div",{className:"fb_frStatistics",onClick:this.viewStatistics},o.default.createElement("p",{className:"fb_frIcon"}),o.default.createElement("p",{className:"fb_frTitle",style:this.theme.getComponentTitleStyle()},(0,m.getLang)().asStatisticsView))),a&&(i=o.default.createElement("div",{className:"fb_frData",onClick:this.viewData},o.default.createElement("p",{className:"fb_frIcon"}),o.default.createElement("p",{className:"fb_frTitle",style:this.theme.getComponentTitleStyle()},(0,m.getLang)().asFormSubmitView))),o.default.createElement("div",{className:"fb_ssItem feedbackResult"},r,n&&a?o.default.createElement("div",{className:"fb_frBorder"}):null,i)}return null},renderIroLink:function(){return o.default.createElement("div",{className:"fb_ssItem button"},o.default.createElement(y.BaseBtn,{className:"fbc_button",style:{default:this.theme.getButtonStyle(this.theme.NORMAL),hover:this.theme.getButtonStyle(this.theme.HOVER)},onClick:this.handleGotoReadonlyMode},(0,m.getLang)().tFormView))},render:function(){var t={},n=null,a=this.store.getState();switch(a.form.formStatus){case-803:t={image:window.rootPath("./images/form/err_stopped.png"),title:(0,m.getLang)().tPauseForm,subTitle:(0,m.getLang)().tPauseFormDescribe};break;case-804:t={image:window.rootPath("./images/form/err_stopped.png"),title:(0,m.getLang)().tStoppedForm};break;case-810:t={image:window.rootPath("./images/form/err_stopped.png"),title:(0,m.getLang)().tWrongDNSTitle};break;case-811:t={image:window.rootPath("./images/form/err_expired.png"),title:(0,m.getLang)().tNotNewestForm,subTitle:(0,m.getLang)().tNotNewestFormDescribe},t.content=o.default.createElement("div",{className:"fb_ssItem button"},o.default.createElement(y.BaseBtn,{className:"fbc_button",style:{default:this.theme.getButtonStyle(this.theme.NORMAL),hover:this.theme.getButtonStyle(this.theme.HOVER)},onClick:this.handleRefresh},(0,m.getLang)().tFormRefresh));break;case-812:var r="www";this.form.clSld&&(r=""+this.form.clSld+("cn"!==this.sld?"."+this.sld:""));var i="http://"+r+".mikecrm.com/"+this.form.token;t={image:window.rootPath("images/form/err_wrongSLD.png"),title:(0,m.getLang)().tWrongSLDTitle,subTitle:(0,
m.getLang)().tWrongSLDDescribe},t.content=o.default.createElement("div",{className:"fb_ssItem link"},o.default.createElement("a",{className:"fbc_link",href:i},i));break;case-820:t={image:window.rootPath("images/form/err_passwordLimit.png"),subTitle:(0,m.getLang)().tAccessPassword},t.content=o.default.createElement(A,null);break;case-822:t=this.renderScheduledUsable({title:this.form.settings.usableTimeTextBefore||(0,m.getLang)().tCollectionNotStarted,subtitle:(0,m.getLang)().tStartHint});break;case-823:t={image:window.rootPath("images/form/err_numLimit.png"),title:this.form.settings.usableTimeTextAfter||(0,m.getLang)().tCollectionFinished},t.content=o.default.createElement("div",null,this.renderPubInfo(),this.renderIroLink());break;case-824:t=this.renderDailyUsable({title:this.form.settings.usableTimeTextBefore||(0,m.getLang)().tCollectionNotStarted,subtitle:(0,m.getLang)().tCollectionPeriod});break;case-825:t=this.renderDailyUsable({title:this.form.settings.usableTimeTextAfter||(0,m.getLang)().tCollectionFinished,subtitle:(0,m.getLang)().tCollectionPeriod,isEnd:!0});break;case-826:t={image:window.rootPath("images/form/err_numLimit.png"),title:this.form.settings.mensurableSubmitText||(0,m.getLang)().tCollectionFull},t.content=o.default.createElement("div",null,this.renderPubInfo(),this.renderIroLink());break;case-827:case-70007:var s=(0,m.getLang)().tAlreadySubmitted;this.form.settings.isOnlySubmitPerDay?s=this.form.settings.onlySubmitPerDayText||(0,m.getLang)().tSubmittedToday:this.form.settings.isOnlySubmit&&(s=this.form.settings.onlySubmitText||(0,m.getLang)().tAlreadySubmitted),t={image:window.rootPath("images/form/err_submitLimit.png"),title:s},t.content=o.default.createElement("div",null,this.renderPubInfo(),this.renderIroLink());break;case-80001:t={image:window.rootPath("images/form/err_wrongSLD.png"),title:(0,m.getLang)().tIPLimited,subTitle:(this.isMobile()?(0,m.getLang)().tIPLimitedDescribeMobile:"")||(0,m.getLang)().tIPLimitedDescribe},t.content=o.default.createElement("div",{className:"fb_ssItem button"},o.default.createElement(y.BaseBtn,{className:"fbc_button",style:{default:this.theme.getButtonStyle(this.theme.NORMAL),hover:this.theme.getButtonStyle(this.theme.HOVER)},onClick:this.handleFeedback},(0,m.getLang)().tIPLimitedSubmit));break;case-830:n=o.default.createElement(T.default,null);break;case-831:n=o.default.createElement(M.default,null);break;case-832:t={image:window.rootPath("./images/form/err_submitError.png"),title:(0,m.getLang)().errFMemberInvalidGroup};break;case-70005:t={image:window.rootPath("./images/form/err_timeLimit.png"),title:(0,m.getLang)().errFMemberTemp,subTitle:(0,m.getLang)().tNotNewestFormDescribe},t.content=o.default.createElement("div",{className:"fb_ssItem button"},o.default.createElement(y.BaseBtn,{className:"fbc_button",style:{default:this.theme.getButtonStyle(this.theme.NORMAL),hover:this.theme.getButtonStyle(this.theme.HOVER)},onClick:this.handleRefresh},(0,m.getLang)().tFormRefresh));break;case-9901:t={image:window.rootPath("./images/form/err_submitLimit.png"),title:(0,m.getLang)().tIframeAccessError,subTitle:(0,m.getLang)().tIframeAccessErrorDescribe},t.content=o.default.createElement("div",{className:"fb_ssItem button"},o.default.createElement(y.BaseBtn,{component:"a",className:"fbc_button",style:{default:this.theme.getButtonStyle(this.theme.NORMAL),hover:this.theme.getButtonStyle(this.theme.HOVER)},target:"_blank",href:this.config.getBaseURL()},(0,m.getLang)().tFormSubmit));break;case-2:default:t={image:window.rootPath("./images/form/err_submitError.png"),title:(0,m.getLang)().tSubmitErrorTitle,subTitle:(0,m.getLang)().tSubmitErrorDescribe}}return t||n?o.default.createElement("div",{key:"body",className:"body"},n?n:o.default.createElement("div",{className:(0,_.default)("fb_secondaryStatus","fb_errorStatus_"+Math.abs(a.form.formStatus)),style:this.isMobile()?{padding:10}:null},t.image?o.default.createElement("div",{className:"fb_ssItem image"},o.default.createElement(b.default,{className:"fb_ssImg",src:t.image})):null,t.title||t.subTitle?o.default.createElement("div",{className:"fb_ssItem text",key:"tips"},t.title?o.default.createElement("p",{className:"fb_ssTitle",style:{color:this.style.titleColor}},t.title):null,t.subTitle?o.default.createElement("p",{className:"fb_ssSubTitle"},t.subTitle):null):null,o.default.createElement(N.default,{errorCode:a.form.formStatus}),t.content||null)):null}});n.default=k,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(19),l=r(s),u=a(22),c=r(u),d=a(23),f=r(d),m=a(17),p=a(55),h=a(72),g=r(h),_=a(36),v=a(38),b=a(170),y=a(8),E=a(172),C=r(E),T=a(173),S=r(T),M=a(174),I=r(M),N=a(175),A=r(N),x=a(176),k=r(x),D=l.default.createClass({displayName:"MemberLogin",mixins:[f.default],getInitialState:function(){this.form=(0,m.getFormStructure)(),this.store=(0,m.getStore)(),this.deviceInfo=(0,m.getDeviceInfo)(),this.theme=(0,m.getThemeHelper)();var t=(0,m.getLang)();return this.ACCOUNT_ERR_MSG={"required":t.errFMemberAccountEmpty,"invalid":t.errFMemberAccount},this.AUTH_ERROR_MSG_PWD={"required":t.errFMemberPasswordRequired,"invalid":t.errFMemberPassword},this.AUTH_ERROR_MSG_AC={"required":t.errFMemberAuthCodeRequired,"invalid":t.errFMemberAuthCode},o({},this.store.getState().mbrmLogin,{reAuthLock:!1})},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.onStateChange)},componentWillUnmount:function(){clearTimeout(this.focusTimer),this.unsubscribe&&this.unsubscribe()},onStateChange:function(t){var n=this,a=this.store.getState().mbrmLogin,r={},i=!1;switch(t.type){case v._MBRM_BLUR_ACC:a.nextStep||(r.reAuthLock=!1);break;case v._MBRM_GET_AUTH_CODE_SUCCEED:case v._MBRM_CHECK_MEMBER_SUCCEED:var s=a.verifyData;s&&s.verificationData&&!a.validGlobal&&(r.reAuthLock=!0,i=!0);break;case v._MBRM_AUTH_MEMBER_SUCCEED:var l=this.form.extensions.memberFrglg,u=2===l.mode;if(u&&l.openRegData&&l.openRegData.isOpenRegister&&l.openRegData.registerFormToken&&a.verifyData.isReg){var c=(0,y.parseUrl)(location.href);r.regLink=(0,y.autoMbrmLinkify)((0,y.addUrlParams)(location.origin+"/"+l.openRegData.registerFormToken,{_cpv:c.params._cpv,lgft:this.form.token,lgfh:this.form.header.headline}))}}this.setState(o({},a,r),function(){i&&(clearTimeout(n.focusTimer),n.focusTimer=setTimeout(function(){n.auth&&n.auth.focus()},500))})},onChangeContent:function(e,t,n){this.store.dispatch((0,v.MBRM_CHANGE_AUTH_CONTENT)({data:i({},t,n)}))},onKeyDownAccount:function(e){13===e.which&&(e.stopPropagation(),e.preventDefault(),this.state.nextStep?this.auth&&this.auth.focus():this.store.dispatch((0,v.MBRM_CHECK_MEMBER)()))},onBlurAccount:function(e){this.store.dispatch((0,v.MBRM_BLUR_ACC)())},onKeyDownAuth:function(e){13===e.which&&(e.stopPropagation(),e.preventDefault(),this.state.nextStep&&this.store.dispatch((0,v.MBRM_AUTH_MEMBER)()))},onChangeAuthType:function(){this.store.dispatch((0,v.MBRM_CHANGE_AUTH_TYPE)())},onGetAuthManual:function(){var t=this.state.reAuthLock;t||this.store.dispatch((0,v.MBRM_GET_AUTH_CODE)())},onFinishReg:function(){var t=this.state.regLink;location.href=t},onNextStep:function(){var t=this.form.extensions.memberInfo;this.state.nextStep||t.isMemberId?this.store.dispatch((0,v.MBRM_AUTH_MEMBER)()):this.store.dispatch((0,v.MBRM_CHECK_MEMBER)())},onFinishCutDown:function(){this.setState({reAuthLock:!1})},onRenderExtInfo:function(){var t=this.state,n=t.loading,a=t.authType,r=t.nextStep,i=t.reAuthLock,o=this.form.extensions.memberInfo,s=(0,m.getLang)();if(a===p.MBRM_AUTH.AT_RANDOM_CODE&&r&&!o.isMemberId){var u=i||n;return l.default.createElement(_.BaseBtn,{className:(0,c.default)("fb_mlAuthExt",{"disabled":u}),onClick:this.onGetAuthManual},u?l.default.createElement(_.BaseCutDown,{duration:6e4,key:"authCountdown",isLock:u,onRender:function(t){return s.cMobileHasSendCode({timer:Math.floor(t.remain/1e3)})},onFinishCutDown:this.onFinishCutDown}):s.cMobileGetCode)}return null},_refAccount:function(t){this.account=t},_refAuth:function(t){this.auth=t},renderAccount:function(){var t=this.state,n=t.loading,a=t.account,r=t.nextStep,i=t.validAccount,s=t.validGlobal,u=t.authCompleted,c=this.form.extensions.memberInfo,d=(0,m.getLang)(),f=d.fMemberComponentMember,p=C.default;c.isMobile&&(p=I.default,f=d.fMemberComponentMemberMobilePlaceholder),c.isEmail&&(p=A.default,f=d.fMemberComponentMemberEmailPlaceholder);var h={name:"account",placeholder:f,editMode:c.isMemberId||!r||["noLogin","noReg"].indexOf(s)>-1,disabled:u||n,valid:i,value:a,deviceInfo:this.deviceInfo,icon:p};return l.default.createElement(b.MemberAccountComponent,o({key:"account"},h,{errorMsg:this.ACCOUNT_ERR_MSG,ref:this._refAccount,onChange:this.onChangeContent,onKeyDown:this.onKeyDownAccount,onBlur:this.onBlurAccount}))},renderAuth:function(){var t=this.state,n=t.loading,a=t.authType,r=t.auth,i=t.nextStep,s=t.validAuth,u=t.validGlobal,c=t.verifyData,d=t.authCompleted,f=t.reAuthLock,h=this.form.extensions.memberInfo,g=(0,m.getLang)(),_=a===p.MBRM_AUTH.AT_PASSWORD||h.isMemberId;if((i||h.isMemberId)&&!d){if(!h.isMemberId){if(!c.isLogin&&!c.isReg)return null;if(!c.hasQuota&&!c.setPwd)return null}if(["noLogin","noReg"].indexOf(u)>-1)return null;var v=null,y=null;_?v=g.fMemberComponentPassword:(v=g.fComponentAuthCode,c&&c.verificationData&&(h.isMobile?y=g.fMemberAuthCodeTipsMobile:h.isEmail&&(y=g.fMemberAuthCodeTipsEmail)));var E={name:"auth",value:r,inputType:_?"password":"input",autoComplete:_?"current-password":"one-time-code",valid:s,disabled:n,placeholder:v,tips:y,reAuthLock:f,loading:n,icon:S.default,deviceInfo:this.deviceInfo};return l.default.createElement(b.MemberNormalComponent,o({key:"auth"},E,{ref:this._refAuth,errorMsg:_?this.AUTH_ERROR_MSG_PWD:this.AUTH_ERROR_MSG_AC,onChange:this.onChangeContent,onKeyDown:this.onKeyDownAuth,onRenderExtInfo:this.onRenderExtInfo}))}return null},renderGlobalError:function(){var t=this.state.validGlobal,n=this.form.extensions.memberInfo,a=(0,m.getLang)();if(t)switch(t){case"noLogin":return l.default.createElement("div",{key:"globalError",className:"fb_mlFrErr"},a.errFMemberUnregistered);case"noReg":return l.default.createElement("div",{key:"globalError",className:"fb_mlFrErr"},a.errFMemberCannotLogin);case"noQuota":return l.default.createElement("div",{key:"globalError",className:"fb_mlFrErr"},n.isEmail?a.errFMemberMailNoQuota:a.errFMemberSmsNoQuota);case"invalidGroup":return l.default.createElement("div",{key:"globalError",className:"fb_mlFrErr"},a.errFMemberInvalidGroup);default:return l.default.createElement("div",{key:"globalError",className:"fb_mlFrErr"},a.errUnKnown+(" ["+t+"]"))}return null},render:function(){var t=this.state,n=t.authType,a=t.loading,r=t.nextStep,i=t.verifyData,o=t.regLink,s=t.authCompleted,u=t.validGlobal,d=this.form.style.themeColor,f=this.form.extensions.member,h=this.form.extensions.memberInfo,v=this.form.extensions.memberFrglg,b=(0,m.getLang)(),y=b.fMemberLogin+"/"+b.fMemberReg,E=b.fMemberNextStep,C=!0;if(f){var T=1===v.mode,S=2===v.mode;r||h.isMemberId?h.isMemberId?(y=b.fMemberLogin,E=b.fMemberLogin,C=!1):i&&(i.isLogin?T&&"noReg"===u?(y=b.fMemberReg,C=!0):(y=b.fMemberLogin,E=b.fMemberLogin,C=!1):i.isReg&&(S&&"noLogin"===u?(y=b.fMemberLogin,E=b.fMemberLogin,C=!1):(y=b.fMemberReg,C=!0))):T?y=b.fMemberReg:S&&(v.openRegData&&v.openRegData.isOpenRegister&&v.openRegData.registerFormToken||(y=b.fMemberLogin))}return l.default.createElement("div",{className:"fb_memberLogin"},l.default.createElement("div",{className:"fb_mlBlock"},l.default.createElement("div",{className:"fb_mlPanelBg"},l.default.createElement("div",{className:"fb_mlBgContent"},l.default.createElement(k.default,{className:"fb_mlBgCircleMulti",style:{color:d}})),l.default.createElement("div",{className:"fb_mlPanel"},l.default.createElement("div",{className:"fb_mlBrandInfo"},l.default.createElement("img",{className:"fb_mlBrandLogo",src:h.pubLogo||null}),l.default.createElement("p",{className:"fb_mlBrandName"},h.pubName||"-")),l.default.createElement("div",{className:(0,c.default)("fb_mlForm",{"fbmf_isLogin":i&&i.isLogin,"fbmf_isReg":i&&i.isReg})},l.default.createElement("div",{className:"fb_mlFrHeader"},l.default.createElement("p",{className:"fb_mlFrTitle"},y),r&&i&&i.isLogin&&i.setPwd?l.default.createElement("a",{className:"fb_mlFrSwitchType",onClick:this.onChangeAuthType},n===p.MBRM_AUTH.AT_PASSWORD?b.fMemberAuthCode:b.fMemberAuthPwd,l.default.createElement("i",{className:"iconfont"},String.fromCharCode(58990))):null,l.default.createElement("div",{className:"clearB"})),l.default.createElement(g.default,{className:"fb_mlFrBody",component:"div",transitionName:"component",enterTimeout:300,leaveTimeout:300},this.renderAccount(),this.renderAuth(),this.renderGlobalError()))),l.default.createElement("div",{className:"fb_mlOperate"},s&&i&&i.isReg&&o?l.default.createElement(_.BaseBtn,{component:"div",className:"fb_mlButton",onClick:this.onFinishReg,style:this.theme.getButtonStyle()},l.default.createElement("span",{className:"fb_mlBtnText"},b.fMemberFinishReg)):l.default.createElement(_.BaseBtn,{component:"div",className:(0,c.default)("fb_mlButton",{"has_next":C}),onClick:this.onNextStep,loading:a,style:this.theme.getButtonStyle()},l.default.createElement("span",{className:"fb_mlBtnText"},E),C?l.default.createElement("span",{className:"fb_mlBtnIconBg",style:this.theme.getMbrmButtonIcon()},l.default.createElement("i",{className:"iconfont fb_mlBtnIcon"},String.fromCharCode(58990))):null)))))}});n.default=D,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.MemberNormalComponent=n.MemberAccountComponent=void 0;var i=a(19),o=r(i),s=a(22),l=r(s),u=a(72),c=r(u),d=a(53),f=r(d),m=a(23),p=r(m),h=a(171),g=r(h),_=o.default.createClass({displayName:"MemberAccountComponent",mixins:[p.default],getInitialState:function(){return{edit:!1}},handleToggleEdit:function(){var t=this,n=this.props,a=n.onToggleEdit,r=n.disabled;r||this.setState({edit:!this.state.edit},function(){a&&a(t.state.edit)})},handleChange:function(e){var t=this.props,n=t.onChange,a=t.name,r=t.disabled;r||n&&n(e,a,e.target.value)},handleBlur:function(e){var t=this.props,n=t.onBlur,a=t.name,r=t.disabled;r||(n&&n(e,a,e.target.value),this.setState({edit:!1}))},render:function(){var t=this.state.edit,n=this.props,a=n.editMode,r=n.value,i=n.tips,s=n.icon,u=n.deviceInfo,d=n.disabled,m=n.placeholder,p=n.valid,h=n.globalValid,_=n.errorMsg,v=n.onKeyDown,b=!a&&t||a;return o.default.createElement("div",{className:(0,l.default)("fb_mlComponent",{disabled:d})},i?o.default.createElement("p",{className:"fb_mlcTips"},i):null,o.default.createElement("div",{className:(0,l.default)("fb_mlcItem",{"is-edit":b})},s&&b?o.default.createElement("span",{className:"fb_mlcIconBg"},o.default.createElement(s,{className:"fb_mlcIcon"})):null,o.default.createElement("div",{className:"fb_mlcInput"},b?o.default.createElement(f.default,{component:"input",className:(0,l.default)("fbc_input",{error:p&&p.length>0}),deviceInfo:u,tabIndex:1,ref:"input",type:"text",onChange:this.handleChange,onBlur:this.handleBlur,onKeyDown:v,placeholder:m||"",value:r||""}):o.default.createElement("p",{className:(0,l.default)("fb_mlcView",{error:h})},r,o.default.createElement(g.default,{className:"fb_mlcEditIcon",onClick:this.handleToggleEdit})))),o.default.createElement(c.default,{component:"div",transitionName:"errorInfo",enterTimeout:300,leaveTimeout:300},p?o.default.createElement("p",{key:"err",className:"fb_mlcError"},_[p]):null))}}),v=o.default.createClass({displayName:"MemberNormalComponent",mixins:[p.default],getDefaultProps:function(){return{inputType:null,autocomplete:"off"}},focus:function(){this.refs.input&&this.refs.input.getInputRef&&this.refs.input.getInputRef().focus()},handleChange:function(e){var t=this.props,n=t.onChange,a=t.name,r=t.disabled;r||n&&n(e,a,e.target.value)},handleBlur:function(e){},render:function(){var t=this.props,n=t.inputType,a=t.autoComplete,r=t.disabled,i=t.icon,s=t.deviceInfo,u=t.value,d=t.tips,m=t.placeholder,p=t.valid,h=t.errorMsg,g=t.onRenderExtInfo,_=t.onKeyDown;return o.default.createElement("div",{className:"fb_mlComponent"},d?o.default.createElement("p",{className:"fb_mlcTips"},d):null,o.default.createElement("div",{className:"fb_mlcItem is-edit"},i?o.default.createElement("span",{className:"fb_mlcIconBg"},o.default.createElement(i,{className:"fb_mlcIcon"})):null,o.default.createElement("div",{className:"fb_mlcInput"},o.default.createElement(f.default,{component:"input",className:(0,l.default)("fbc_input",{error:p&&p.length>0}),tabIndex:1,disabled:r,deviceInfo:s,ref:"input",type:n,spellCheck:!1,autoComplete:a,onChange:this.handleChange,onBlur:this.handleBlur,onKeyDown:_,placeholder:m||"",value:u||""}),g&&g())),o.default.createElement(c.default,{component:"div",transitionName:"errorInfo",enterTimeout:300,leaveTimeout:300},p?o.default.createElement("p",{className:"fb_mlcError"},h[p]):null))}});n.MemberAccountComponent=_,n.MemberNormalComponent=v},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=function(t){return s.default.createElement("svg",i({viewBox:"0 0 32 32",fill:"none"},t),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.626 8.6a.064.064 0 0 0-.045.019L8.619 18.58a.064.064 0 0 0-.02.045v3.71a.064.064 0 0 0 .065.064H12.4l9.981-9.98a.064.064 0 0 0 0-.091l-3.71-3.71a.064.064 0 0 0-.045-.019zm-.894-.83a1.264 1.264 0 0 1 1.788 0l3.71 3.71a1.264 1.264 0 0 1 0 1.788L13.073 23.424a.6.6 0 0 1-.424.176H8.664A1.264 1.264 0 0 1 7.4 22.336v-3.71a1.264 1.264 0 0 1 .37-.894l9.962-9.962z"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.576 10.576a.6.6 0 0 1 .848 0l4 4a.6.6 0 0 1-.848.848l-4-4a.6.6 0 0 1 0-.848zM7.555 18.598a.6.6 0 0 1 .847-.043l4.256 3.845H22a.6.6 0 1 1 0 1.2h-9.573a.6.6 0 0 1-.402-.155l-4.427-4a.6.6 0 0 1-.043-.847z"}))};n.default=l,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=function(t){return s.default.createElement("svg",i({viewBox:"0 0 32 32",fill:"none"},t),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.65 14.5a.6.6 0 0 1 .6-.6H22a.6.6 0 1 1 0 1.2h-3.75a.6.6 0 0 1-.6-.6zM17.65 17.5a.6.6 0 0 1 .6-.6H22a.6.6 0 1 1 0 1.2h-3.75a.6.6 0 0 1-.6-.6zM12.634 13.6a1.65 1.65 0 1 0 0 3.3 1.65 1.65 0 0 0 0-3.3zm-2.85 1.65a2.85 2.85 0 1 1 5.7 0 2.85 2.85 0 0 1-5.7 0z",fill:"#666"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.634 18.1a2.401 2.401 0 0 0-2.324 1.8.6.6 0 1 1-1.162-.3 3.601 3.601 0 0 1 6.973 0 .6.6 0 0 1-1.162.3 2.4 2.4 0 0 0-2.325-1.8z",fill:"#666"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.75 9.1a.15.15 0 0 0-.15.15v13.5c0 .083.067.15.15.15h16.5a.15.15 0 0 0 .15-.15V9.25a.15.15 0 0 0-.15-.15H7.75zm-1.35.15c0-.746.604-1.35 1.35-1.35h16.5c.745 0 1.35.604 1.35 1.35v13.5a1.35 1.35 0 0 1-1.35 1.35H7.75a1.35 1.35 0 0 1-1.35-1.35V9.25z",fill:"#666"}))};n.default=l,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=function(t){return s.default.createElement("svg",i({viewBox:"0 0 32 32",fill:"none"},t),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.6 13.662v7.8h11.175v-7.8H10.6zm-1.2-.037c0-.642.52-1.162 1.162-1.162h11.25c.642 0 1.163.52 1.163 1.162V21.5c0 .642-.52 1.163-1.163 1.163h-11.25c-.642 0-1.162-.521-1.162-1.163v-7.875z",fill:"#666"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.187 8.6a1.931 1.931 0 0 0-1.93 1.931v2.531a.6.6 0 0 1-1.2 0v-2.53a3.131 3.131 0 0 1 6.262 0v2.53a.6.6 0 0 1-1.2 0v-2.53A1.931 1.931 0 0 0 16.187 8.6z",fill:"#666"}),s.default.createElement("path",{d:"M16 18a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",fill:"#666"}))};n.default=l,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=function(t){return s.default.createElement("svg",i({viewBox:"0 0 32 32",fill:"none"},t),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.714 8.908c0-.37-.311-.67-.696-.67h-8.036c-.384 0-.696.3-.696.67v14.184c0 .37.312.67.696.67h8.036c.384 0 .696-.3.696-.67V8.908zM20.018 7C21.113 7 22 7.854 22 8.908v14.184C22 24.146 21.113 25 20.018 25h-8.036C10.887 25 10 24.146 10 23.092V8.908C10 7.854 10.887 7 11.982 7h8.036z",fill:"#666"}),s.default.createElement("path",{d:"M16 12a1 1 0 1 0 0-2 1 1 0 0 0 0 2z",fill:"#666"}))};n.default=l,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=function(t){return s.default.createElement("svg",i({viewBox:"0 0 32 32",fill:"none"},t),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.4 9.25a.6.6 0 0 1 .6-.6h18a.6.6 0 0 1 .6.6V22a1.35 1.35 0 0 1-1.35 1.35H7.75A1.35 1.35 0 0 1 6.4 22V9.25zm1.2.6V22a.15.15 0 0 0 .15.15h16.5a.15.15 0 0 0 .15-.15V9.85H7.6z",fill:"#666"}),s.default.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.558 8.845a.6.6 0 0 1 .847-.037L16 16.686l8.595-7.878a.6.6 0 1 1 .81.884l-9 8.25a.6.6 0 0 1-.81 0l-9-8.25a.6.6 0 0 1-.037-.847z",fill:"#666"}))};n.default=l,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=function(t){return s.default.createElement("svg",i({viewBox:"0 0 347 347",preserveAspectRatio:"xMidYMid meet",fill:"none"},t),s.default.createElement("circle",{opacity:.8,cx:173.5,cy:173.5,r:102.5,stroke:"currentcolor",strokeWidth:40}),s.default.createElement("circle",{opacity:.4,cx:173.5,cy:173.5,r:139,stroke:"currentcolor"}),s.default.createElement("circle",{opacity:.3,cx:173.5,cy:173.5,r:153,stroke:"currentcolor"}),s.default.createElement("circle",{opacity:.2,cx:173.5,cy:173.5,r:164,stroke:"currentcolor"}),s.default.createElement("circle",{opacity:.1,cx:173.5,cy:173.5,r:173,stroke:"currentcolor"}))};n.default=l,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(19),o=r(i),s=a(22),l=(r(s),a(23)),u=r(l),c=a(17),d=a(8),f=a(176),m=r(f),p=a(36),h=o.default.createClass({displayName:"MemberSucceed",mixins:[u.default],getInitialState:function(){return this.form=(0,c.getFormStructure)(),this.store=(0,c.getStore)(),this.deviceInfo=(0,c.getDeviceInfo)(),this.theme=(0,c.getThemeHelper)(),{}},handleGotoMemberCenter:function(){var t=this.form.visitedMember||null,n=t.mbrmToken,a=(0,d.parseUrl)(location.href);location.href=(0,d.addUrlParams)("//"+location.hostname+"/mbrm/"+n,{_cpv:a.params._cpv})},render:function(){var t=(0,c.getLang)(),n=this.form.style.themeColor,a=this.form.extensions.memberInfo,r=this.form.visitedMember||null,i=r?r.account||"":"";return o.default.createElement("div",{className:"fb_memberLogin fb_memberRegSucceed"},o.default.createElement("div",{className:"fb_mlBlock"},o.default.createElement("div",{className:"fb_mlPanelBg"},o.default.createElement("div",{className:"fb_mlBgContent"},o.default.createElement(m.default,{className:"fb_mlBgCircleMulti",style:{color:n}})),o.default.createElement("div",{className:"fb_mlPanel fb_mlSucceedPanel"},o.default.createElement("div",{className:"fb_mlBrandInfo"},o.default.createElement("img",{className:"fb_mlBrandLogo",src:a.pubLogo||null}),o.default.createElement("p",{className:"fb_mlBrandName"},a.pubName||"-")),i?o.default.createElement("div",{className:"fbms_acccount"},o.default.createElement("span",{className:"fbms_acccountItem"},i)):null,o.default.createElement("div",{className:"fbms_title"},t.fMemberAuthSucceedTips)),r&&r.mbrmToken?o.default.createElement("div",{className:"fb_mlOperate"},o.default.createElement(p.BaseBtn,{component:"div",className:"fb_mlButton",onClick:this.handleGotoMemberCenter,style:this.theme.getButtonStyle()},o.default.createElement("span",{className:"fb_mlBtnText"},t.gMyMemberCenter({platformName:a&&a.mbrmCustomText&&a.mbrmCustomText.mbrmn||t.fMemberCenter})),o.default.createElement("span",{className:"fb_mlBtnIconBg"},o.default.createElement("i",{className:"iconfont fb_mlBtnIcon"},String.fromCharCode(58990))))):o.default.createElement("img",{className:"fbms_image",src:window.rootPath("images/memberCenter/icon_success@3x.png")}))))}});n.default=h,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=a(22),s=r(o),l=a(19),u=r(l),c=a(20),d=r(c),f=a(23),m=r(f),p=a(17),h=a(38),g=a(27),v=r(g),b=a(72),y=r(b),E=a(7),C=a(55),T=a(179),S=r(T),M=a(180),I=r(M),N=a(8),A=a(93),x=r(A),k=a(182),D=r(k),O=a(183),P=u.default.createClass({displayName:"Body",mixins:[v.default,m.default],getInitialState:function(){return this.config=(0,p.getConfig)(),this.store=(0,p.getStore)(),this.form=(0,p.getFormStructure)(),this.theme=(0,p.getThemeHelper)(),this.prePage=0,{updateCount:0,cpLoaded:!1,currentPage:0,paging:!1,data:null,validated:null,payment:{}}},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.handleStateChange),this.unbind=(0,E.onResize)(this.handleResize),this.store.dispatch((0,h.CHUNK_MEASURE)())},componentDidUpdate:function(){},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe(),this.unbind&&this.unbind()},_scrollToValidErrorComponent:function(){var t=this.state,n=t.validated,a=t.page;if(n&&!_.isEmpty(n)){var r=null;_.forEach(a,function(t){if(t.type===C.L_SQUEEZEBOX?_.forEach(t.children,function(t){if(n[t]&&!_.isEmpty(n[t]))return r=t,!1}):n[t.id]&&!_.isEmpty(n[t.id])&&(r=t.id),r)return!1});var i=document.getElementById(r);if(i){var o=this.config.dom().container,s=o.scrollTop||document.body.scrollTop;(0,N.scrollTo)(o,s+i.getBoundingClientRect().top,320)}}},handleStateChange:function(t){var n=this,a=this.store.getState(),r=a.data,i=a.validated,o=a.form,s=a.payment;this.prePage=this.state.currentPage,this.prePage!==o.page&&(this.paging=!0),t.type===h._CHUNK_LOADED&&this.setState({cpLoaded:!0,currentPage:o.page,page:o.pages[o.page]});var l=0;if(o.page>0){var u=o.pages.slice(0,o.page),c=function(t,a){var r=n.form.components[t];return(0,C.isFillingComponent)(r)&&a++,a};l=_.reduce(u,function(t,n){var a=0;return _.forEach(n,function(t){t.type===C.L_SQUEEZEBOX?_.forEach(t.children,function(t){a=c(t,a)}):a=c(t.id,a)}),t+a},0)}this.setState({data:r,validated:i,payment:s,currentPage:o.page,page:o.pages[o.page],startComponentNum:l},function(){n.paging&&n.pagingAnimationStyle(),n.paging=!1,[h._GOTO_PAGE,h._SUBMIT_ERROR].indexOf(t.type)>-1&&n._scrollToValidErrorComponent()})},handleResize:function(){this.setState({updateCount:++this.state.updateCount%10})},handleTransitionEnd:function(){var t=d.default.findDOMNode(this.body);t.style.height=null,this.store.dispatch((0,h.PAGING_CHANGE_END)())},pagingAnimationStyle:function(){var t=d.default.findDOMNode(this.body);if(t){var n=t.querySelector(".pageChange-leave"),a=t.querySelector(".pageChange-enter");t.style.height=Math.floor(n.getBoundingClientRect().height)+"px",window.setTimeout(function(){t.style.height=Math.floor(a.getBoundingClientRect().height)+"px"},120)}},refBody:function(t){this.body=t},handleRenderComponentNo:function(t){var n=this.form.settings;return 1===n.showQuestionNo&&t?(0,C.COMPONENT_NUM)(t,n.questionNoType||1):null},_renderComponent:function(t,n){var a=this.state,r=a.data,o=a.validated,s=a.updateCount,l=n.index,c=(n.key,i(n,["index","key"])),d=(0,C.getComponentType)(t),f=(0,p.getComponent)(d);f||(console.log("%cNOT SET!","display:inline-block; padding:1px 6px; background:#FF0202; color: white; width: 80px;text-align:center;",t.type),f=I.default);var m=null;c.width&&c.width<1&&(!this.isMobile()||c.isSqueeze&&c.isForceSqueeze?m={width:100*c.width+"%"}:this.isMobile()&&(c.width=1));var h=o[t.id];return"commodity"!==d||h||(o.limitAmount&&"exceed"===o.limitAmount?h=["limitAmountExceed"]:o.limitQuantity&&"exceed"===o.limitQuantity&&(h=["limitQuantityExceed"])),u.default.createElement(f,{key:"cp"+t.id,data:t,index:l,updateCount:s,layout:c,style:m,onRenderComponentNo:this.handleRenderComponentNo,fill:r[t.id],valid:h})},_checkIsNonePaddingImage:function(t,n){if(t&&t.type!==C.L_SQUEEZEBOX){var a=this.form.components[t.id];if(a&&"staticPic"===(0,C.getComponentType)(a)){var r=null==a.picPaddingTB?5:+a.picPaddingTB;if(n){if(0===r&&!a.isAddDescribe)return!0}else if(0===r)return!0}else if(a&&"staticVideo"===(0,C.getComponentType)(a)&&a.paddingTBNone)return!0}return!1},isNonePaddingImage:function(){var t=this.state.page,n=!1,a=!1;if(t&&t.length>0){var r=t[0],i=t[t.length-1];n=this._checkIsNonePaddingImage(r),a=this._checkIsNonePaddingImage(i,!0)}return[n,a]},renderComponents:function(){var t=this,n=[],a=this.state,r=a.page,i=a.startComponentNum,o=i;return _.forEach(r,function(a,r){var i=null;if(a.type===C.L_SQUEEZEBOX){var l=_.reduce(a.layout,function(t,n){return t+n},0),c=_.reduce(a.children,function(n,a){return n&&["button"].indexOf((0,C.getComponentType)(t.form.components[a]))>-1},!0),d=[];_.forEach(a.layout,function(n,s){var u=n/l,f=t.form.components[a.children[s]];f?((0,C.isFillingComponent)(f)&&(i=++o),d.push(t._renderComponent(f,{width:u,isSqueeze:!0,isForceSqueeze:c,index:i,key:r+"_"+s}))):console.log("error>>",a.children[s])}),n.push(u.default.createElement("div",{key:"groupClearB"+r,className:"clearB"})),n.push(u.default.createElement("div",{className:(0,s.default)("fb_group",{"fb_forceSqueeze":c}),key:"cpG"+a.children.join("-")},d,u.default.createElement("div",{className:"clearB"})))}else{var f=t.form.components[a.id];f?((0,C.isFillingComponent)(f)&&(i=++o),n.push(t._renderComponent(f,{index:i,isSqueeze:!1,width:1,key:r}))):console.log("error>>",a)}}),n},render:function(){var t=this.state,n=t.cpLoaded,a=t.currentPage,r=t.payment,i=t.validated,o=(0,p.getLang)();if(!n)return u.default.createElement("div",{className:"body bodyLoading",key:"bodyMain"},u.default.createElement("div",{className:"skeletonLoading"},u.default.createElement(O.Skeleton,{style:{opacity:1}}),u.default.createElement(O.Skeleton,{style:{opacity:.9}}),u.default.createElement(O.Skeleton,{style:{opacity:.7}}),u.default.createElement(O.Skeleton,{style:{opacity:.5}}),u.default.createElement(O.Skeleton,{
style:{opacity:.3}}),u.default.createElement(O.Skeleton,{style:{opacity:.1}})));var l=this.form.extensions,c=null;l&&l.inFormPayInfo&&i&&(i.limitAmount||i.limitQuantity)&&(i.limitAmount?c="lack"===i.limitAmount?o.errCommodityAmountShortFunc({num:l.inFormPayInfo.limitAmountFrom}):o.errCommodityAmountOverFunc({num:l.inFormPayInfo.limitAmountTo}):i.limitQuantity&&(c="lack"===i.limitQuantity?o.errCommodityQuantityShortFunc({num:l.inFormPayInfo.limitQuantityFrom}):o.errCommodityQuantityOverFunc({num:l.inFormPayInfo.limitQuantityTo})));var d=x.default;return l&&l.member&&(d=D.default,!c&&i&&i.memberBalanceDeduction&&(c=o.errFMemberBalanceDeductionFailed)),u.default.createElement("div",{className:"bodyWrapper",role:"form"}," ",u.default.createElement(y.default,{component:"div",key:"bodyMain",className:(0,s.default)("body",{"body_nextPage":this.prePage<a,"body_prevPage":this.prePage>a}),ref:this.refBody,style:this.theme.getBodyStyle(this.isNonePaddingImage()),enterTimeout:500,leaveTimeout:500,transitionName:"pageChange",transitionEnterEnd:this.handleTransitionEnd},u.default.createElement("div",{className:(0,s.default)("page-package","package-"+a),key:"pp-"+a},this.renderComponents(),u.default.createElement("div",{key:"clear",className:"clearB"}))),u.default.createElement("div",{className:"cartWrapper",style:this.theme.getCartWrapperStyle()},(0,p.isCartEmpty)()?null:u.default.createElement(S.default,{key:"cart",supportPayMethod:l.inFormPay},u.default.createElement(d,{paymentInfo:r,supportPayMethod:l.inFormPay,payMethodInfo:l.inFormPayInfo||{},legalPayMethod:(0,p.getLegalPaymentMethod)()})),!(0,p.isCartEmpty)()&&c?u.default.createElement("div",{key:"catError",className:"fb_cartError"},c):null))}});n.default=P,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){var a={};for(var r in t)n.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(a[r]=t[r]);return a}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(6),l=r(s),u=a(22),c=r(u),d=a(19),f=r(d),m=a(20),p=(r(m),a(23)),h=r(p),g=a(17),_=a(60),v=r(_),b=f.default.createClass({displayName:"BaseCartBodyItem",mixins:[h.default],render:function(){var t=this.props,n=t.symbol,a=i(t,["symbol"]);return f.default.createElement("li",{className:"fb_cartCommodity",key:"cti"+a.sId},f.default.createElement("span",{className:"fb_cartTd name"},a.name),f.default.createElement("span",{className:"fb_cartTd quantity"},"× "+Math.ceil(a.quantity)),f.default.createElement("span",{className:"fb_cartTd subTotal"},a.isHidePrice?"-":f.default.createElement(v.default,{symbol:n,price:a.price*a.quantity})))}}),y=f.default.createClass({displayName:"Cart",mixins:[h.default],getInitialState:function(){return this.store=(0,g.getStore)(),this.form=(0,g.getFormStructure)(),this.extensions=this.form.extensions,this.ifp={},this.extensions.inFormPay&&(this.ifp=this.extensions.inFormPayInfo),{cartInfo:(0,g.getCartData)()}},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()},handleStateChange:function(t){this.setState({cartInfo:(0,g.getCartData)()})},renderHeader:function(){var t=this.props.onRenderHeader;return f.default.createElement("div",{className:"fb_cartHeader"},t?t():f.default.createElement("div",{className:"fb_cartTh"},f.default.createElement("span",{className:"fb_cartTd name"},(0,g.getLang)().cCommodityName),f.default.createElement("span",{className:"fb_cartTd quantity"},(0,g.getLang)().cCommodityQuantity),f.default.createElement("span",{className:"fb_cartTd subTotal"},(0,g.getLang)().cCommoditySubTotal)))},renderBody:function(t){var n=this.state.cartInfo,a=this.props.onRenderBody;return!n||l.default.isEmpty(n)?null:f.default.createElement("ul",{className:"fb_cart_content"},n?l.default.map(n,function(n,r){var i=o({},n,{symbol:t});return a?a(r,i):f.default.createElement(b,o({key:"bcbi"+r},i))}):null)},render:function(){var t=this.state.cartInfo,n=this.props,a=n.children,r=n.supportPayMethod,i=(0,g.getCartSymbol)(),o=i.symbol,s=(this.form.extensions.memberFrglg||{}).allowMemberBalance;return f.default.createElement("div",{className:(0,c.default)("fb_cart",{"fb_member_cart":s,"fb_cart_mms":this.ifp.isMikeMerchant})},f.default.createElement("div",{className:"fb_cartTitle"},r?(0,g.getLang)().cCommodityPayTitle:(0,g.getLang)().cCommodityNoPayTitle,this.ifp.isMikeMerchant?f.default.createElement("div",{className:"fb_cartMMS"},f.default.createElement("img",{className:"fb_cmmsImage",src:window.rootPath("/images/mikeMerchant/"+("cn"===(0,g.getCurrentLang)()?"logo":"logo_en")+"@2x.png")})):null),f.default.createElement("div",{className:"fb_cartTable"},this.renderHeader(),this.renderBody(o),a?f.default.Children.map(a,function(n){return f.default.cloneElement(n,{cartInfo:t,symbol:o,allowMemberBalance:s})}):null))}});n.default=y,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(19),o=r(i),s=a(23),l=r(s),u=a(181),c=(r(u),o.default.createClass({displayName:"ErrorFormComponent",mixins:[l.default],componentDidMount:function(){console.log("%cCP-ERROR!!","background-color: #ff9900; color: #FFF; padding: 1px 6px;",this.props.data)},render:function(){return null}}));n.default=c,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(6),o=r(i),s=a(22),l=r(s),u=a(19),c=r(u),d=a(23),f=r(d),m=a(36),p=c.default.createClass({displayName:"BaseExpandableContent",mixins:[f.default],getDefaultProps:function(){return{prefix:"mg",defaultExpanded:!1}},getInitialState:function(){return{expanded:this.props.defaultExpanded}},handleToggle:function(e){var t=this.state,n=t.expanded,a=t.onChange;this.setState({expanded:!n}),a&&a(e,!n)},getStyle:function(t){var n=this.state.expanded,a=this.props.disabled;if(t&&t.default){var r=t.default;return a&&t.disabled?r=o.default.assign({},r,t.disabled):(t.focus||t.active)&&n&&(r=o.default.assign({},r,t.active,t.focus)),r}return t},render:function(){var t=this.state.expanded,n=this.props,a=n.prefix,r=n.className,i=n.expandBtnClassName,o=n.tips,s=n.content,u=n.expandedText,d=n.collapsedText,f=n.iconStyle,p=n.style,h=o&&s;return c.default.createElement("div",{className:(0,l.default)("bb-ext-content",r,a+"-ext-content",{expanded:t}),style:p},t||!o?s:o,h?c.default.createElement(m.BaseBtn,{className:(0,l.default)("bb-ec-expand-btn",i),onClick:this.handleToggle},t?u:d,c.default.createElement("span",{className:"iconfont bbec-expand-arrow",style:this.getStyle(f)},String.fromCharCode(58983))):null)}});n.default=p,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(22),o=r(i),s=a(6),l=r(s),u=a(19),c=r(u),d=a(23),f=r(d),m=a(17),p=a(55),h=a(60),g=r(h),_=a(38),v=a(93),b=a(61),y=r(b),E=a(86),C=c.default.createClass({displayName:"MemberPaymentField",mixins:[f.default],getInitialState:function(){return this.lang=(0,m.getLang)(),this.store=(0,m.getStore)(),{}},componentDidMount:function(){},componentWillUnmount:function(){},handleChangePaymentMethod:function(e,t){this.store.dispatch((0,_.CHANGE_PAYMENT_METHOD)({id:t.id}))},handleToggleUseMemberBalance:function(e){var t=this.props.paymentInfo;this.store.dispatch((0,_.CHANGE_USE_MBRM_BALANCE)({data:!t.useMemberBalance}))},renderMemberBalance:function(t){var n=t.totalPrice,a=t.bill,r=this.props,i=r.symbol,s=r.paymentInfo,l=s.memberBalance,u=a[p.BILL_TYPE.MBRM_BALANCE_DEDUCTION],d=this.lang;return l&&l.balance>0?c.default.createElement("div",{className:"fb_memberBalance"},c.default.createElement("p",{className:"fb_mbBeforeTotal"},d.cCommodityNoPayTotal({priceClass:{},price:""}),c.default.createElement(g.default,{className:"price",symbol:i,price:n})),c.default.createElement("div",{className:(0,o.default)("fb_mbItem"),onClick:this.handleToggleUseMemberBalance},c.default.createElement(E.BaseCheckButton,{className:"fb_balanceStatus",active:s.useMemberBalance}),c.default.createElement("div",{className:"fb_content"},c.default.createElement("p",{className:"fb_mbTitle"},d.fMemberUseBalance),c.default.createElement("p",{className:"fb_mbDes"},d.fMemberCurrentBalance({balance:i+" "+y.default.localeNumberFormatter(l.balance,2,2)}))),s.useMemberBalance&&u?c.default.createElement("span",{className:"fb_mbBaReduce"},c.default.createElement(g.default,{className:"price",symbol:u.symbol,price:-u.value})):null,c.default.createElement("i",{className:"iconfont fb_mbIconBg"},String.fromCharCode(59511)))):null},render:function(){var t=this,n=this.props,a=n.allowMemberBalance,r=n.supportPayMethod,i=n.legalPayMethod,s=n.payMethodInfo,u=n.cartInfo,d=n.paymentInfo,f=null,h=l.default.reduce(u,function(t,n){return t+n.price*n.quantity},0),_=(0,m.getBill)(),b=_[p.BILL_TYPE.PAYMENT];return r&&b.value>0&&(f=[],l.default.forEach((0,p.SUPPORT_PAYMENT_METHOD)(),function(n){if(i.indexOf(n.id)!==-1){var a=s.isFrozen&&4!==+n.id;f.push(c.default.createElement(v.PayMethod,{data:n,key:"payM"+n.id,frozen:a,active:d&&d.type===n.id,onClick:t.handleChangePaymentMethod}))}})),c.default.createElement("div",{className:"paymentField"},a?this.renderMemberBalance({totalPrice:h,bill:_}):null,c.default.createElement("p",{className:"fb_cartTotal"},(r?this.lang.cCommodityPayTotal:this.lang.cCommodityNoPayTotal)({priceClass:{},price:""}),c.default.createElement(g.default,{className:"price",symbol:b.symbol,price:b.value})),c.default.createElement("ul",{className:(0,o.default)("fb_paymentMethod",f?"pm_items_"+f.length:null)},f),s.isFrozen?c.default.createElement("div",{className:"fb_pmf_wrapper"},c.default.createElement("div",{className:"fb_paymentMethod_frozen"},c.default.createElement("i",{className:"iconfont fb_pmfIcon"},String.fromCharCode(58938)),this.lang.gPayMethodFrozen)):null)}});n.default=C,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.Skeleton=void 0;var i=a(19),o=r(i),s=a(23),l=r(s);n.Skeleton=o.default.createClass({displayName:"Skeleton",mixins:[l.default],render:function(){var t=this.props.style;return o.default.createElement("div",{className:"skeleton",style:t},o.default.createElement("div",{className:"skeleton_content"},o.default.createElement("p",{className:"skeleton_title",style:{width:Math.floor(30+300*Math.random()),maxWidth:"100%"}}),o.default.createElement("p",{className:"skeleton_input"})))}})},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(22),s=r(o),l=a(19),u=r(l),c=a(27),d=r(c),f=a(23),m=r(f),p=a(17),h=a(36),g=a(38),_=a(55),v=a(8),b=u.default.createClass({displayName:"Tail",mixins:[d.default,m.default],getInitialState:function(){this.store=(0,p.getStore)(),this.form=(0,p.getFormStructure)(),this.theme=(0,p.getThemeHelper)(),this.lock=!1;var t=this.store.getState(),n=t.form;return{cpLoaded:!1,pageLoading:!1,loading:!1,form:n}},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.handleStateChange)},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe()},handleStateChange:function(t){var n=this.store.getState(),a=n.form,r={form:a};t.type===g._GOTO_PAGE&&(r.pageLoading=!1),t.type===g._CHUNK_LOADED&&(r.cpLoaded=!0),t.type===g._SUBMIT_PROGRESS&&(r.progress=a.progress),[g._SUBMIT_SUCCEED,g._SUBMIT_ERROR,g._SUBMIT_FAILED,g._IFP_CANCEL,g._IFP_CONFIRM].indexOf(t.type)>-1&&(r.loading=!1),this.setState(r)},onChangePage:function(t){var n=this;this.state.pageLoading||this.setState({pageLoading:!0},function(){n.store.dispatch((0,g.START_GOTO_PAGE)({page:t}))})},handleChangePagePrev:function(){var t=this.state.form,n=t.pages,a=t.page,r=n.length,i=n&&r>1,o=i&&a>0;o&&this.onChangePage(a-1)},handleChangePageNext:function(){var t=this.state.form,n=t.pages,a=t.page,r=n.length,i=n&&r>1,o=i&&a+1<r;o&&this.onChangePage(a+1)},handleSubmit:function(){this.state.loading||(this.setState({loading:!0}),this.store.dispatch((0,g.START_SUBMIT)()))},render:function(){var t=this.state,n=t.cpLoaded,a=t.form,r=t.pageLoading,o=t.loading,l=t.progress,c=this.form.settings,d=c.isShowCurrentPageNum,f=c.isShowAllPageNum,m=c.isBanReturn,g=c.isHidePageBtn;if((this.form.extensions||{}).componentButton||(g=!1),!n)return null;var b=a.pages,y=a.page,E=this.form.tail,C=b.length,T=this.isMobile(),S=b&&C>1,M=S&&y>0&&!g&&!m,I=S&&y+1<C&&!g,N=S&&y+1===C,A=(N||!S)&&!E.isHideBtn,x=M||I||A,k=!1;S&&(d&&f?k=(0,p.getLang)().gPageCurrentAndAll({current:y+1,total:C}):d?k=(0,p.getLang)().gPageCurrent({num:y+1}):f&&(k=(0,p.getLang)().gPageAll({num:C})));var D=(0,p.getLang)().gSubmit;E&&E.isDefaultSubmitText&&(D=this.form.tail.submitText||(0,p.getLang)().gSubmit);var O=this.form.style.submitStyle,P={default:this.theme.getTailButtonStyle(this.theme.NORMAL),hover:this.theme.getTailButtonStyle(this.theme.HOVER),active:this.theme.getTailButtonStyle(this.theme.ACTIVE)},L=P,w=P;O&&+O.isFormWith?(S&&(M||I)&&(L=(0,v.styleInject)(P,{width:"100%",maxWidth:"none",marginLeft:0})),A&&(w=(0,v.styleInject)(P,{width:"100%",maxWidth:"none",marginLeft:0}))):T&&(!A||M||I||(w=(0,v.styleInject)(P,{width:"100%",maxWidth:"none",marginLeft:0})),(M&&!I||I&&!M&&!A)&&(L=(0,v.styleInject)(P,{width:"100%",maxWidth:"none",marginLeft:0})));var R=this.theme.getTailStyle(),F=_.caniuse_sticky&&x&&E.stickyBottom&&T;return u.default.createElement("div",{className:(0,s.default)("submitWrapper",{"submitWrapper_sticky":F})},u.default.createElement("div",{className:(0,s.default)("submit",{"submit-full-width":O&&+O.isFormWith}),style:R},M?u.default.createElement(h.BaseBtn,{className:"fbc_button btn-act-goto-prev-page",tabIndex:0,role:"button",loading:r,style:L,onClick:this.handleChangePagePrev},u.default.createElement("span",{className:"iconfont fbc_pageBtnIcon fbc_buttonPrevIcon"},String.fromCharCode(58989)),(0,p.getLang)().gPrev):null,I?u.default.createElement(h.BaseBtn,{className:"fbc_button btn-act-goto-next-page",tabIndex:0,role:"button",loading:r,style:L,onClick:this.handleChangePageNext},(0,p.getLang)().gNext,u.default.createElement("span",{className:"iconfont fbc_pageBtnIcon fbc_buttonNextIcon"},String.fromCharCode(58990))):null,A?u.default.createElement(h.BaseBtn,{className:"fbc_button fb_submitBtn",tabIndex:0,role:"button",disabled:(0,p.getMode)()!==_.MODE_FILLING,loading:!!o&&[(0,p.getLang)().gSaving+(l?" "+(100*l).toFixed(1)+"%":""),o&&l?u.default.createElement("span",{key:"progress",className:"fb_submitProgress",style:i({width:100*l+"%"},this.theme.getProgressStyle())}):null],style:w,onClick:this.handleSubmit},D):null,k?u.default.createElement("p",{className:"fbc_pageNum"},k):null))}});n.default=b,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){t=""+t;for(var a="",r=[],i=0,o=t.length;i<o;i++)i%n===0&&a&&(r.push(a),a=""),a+=t.charAt(i);return a&&r.push(a),r}Object.defineProperty(n,"__esModule",{value:!0});var o=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},s=a(19),l=r(s),u=a(6),c=r(u),d=a(23),f=r(d),m=a(27),p=r(m),h=a(8),g=a(17),_=a(25),v=a(26),b=r(v),y=a(186),E=r(y),C=(0,_.crateTextRender)({entity:{}}),T=l.default.createClass({displayName:"Succeed",mixins:[f.default,p.default],getInitialState:function(){return this.form=(0,g.getFormStructure)(),this.store=(0,g.getStore)(),o({},this.store.getState().form)},handleViewStatistics:function(){location.href="r.php?t="+(this.form.token||"")},handleViewSubmitData:function(){location.href="r.php?t="+(this.form.token||"")+"&s=2"},renderImage:function(){var t=this.form.settings;if(!t||0===t.asIsShowImage)return null;var n=t.asIsDefaultImg,a=t.asImage,r="images/form/success.png";return!n&&a&&((a.isLink||a.isCoop)&&a.linkUri?r=a.linkUri:a.isLink||a.isCoop||!a.imageUri||(r=a.imageUri)),l.default.createElement("div",{className:"fb_ssItem image","aria-hidden":!0},l.default.createElement(b.default,{className:"fb_ssImg",key:"img",src:r}))},renderRichContent:function(t,n,a){var r=(0,g.getFormStructure)();r.extensions.renderRichText||(n=null);var i=t;return a&&(i=this.contentEntity(i)),C.render(i,n)},renderText:function(){var t=this.form.settings;if(!t||0===t.asIsShowText)return null;var n=this.form.style.bodyStyle;return l.default.createElement("div",{className:"fb_ssItem text",key:"tips"},l.default.createElement("div",{className:"fb_ssTitle",style:{color:n.titleColor}},"asTextTitle"in t?t.asTextTitle&&!c.default.isEmpty(t.asTextTitle)?this.renderRichContent(t.asTextTitle,t.asTextTitle_style,!0):"":(0,g.getLang)().asSubmitSucceed),l.default.createElement("div",{className:"fb_ssSubTitle",style:{color:n.describeColor}},"asTextSubTitle"in t?t.asTextSubTitle&&!c.default.isEmpty(t.asTextSubTitle)?this.renderRichContent(t.asTextSubTitle,t.asTextSubTitle_style,!0):"":(0,g.getLang)().asSubmitSucceedDescribe))},renderTicket:function(){var t=this.form.extensions,n=this.state.extData;if(!t||!t.ticket)return null;if(!n||!n.ftkv||!n.ftkv.code)return null;var a=n.ftkv,r=t.ticketInfo,o=r.title,s=r.describe;return l.default.createElement("div",{className:"fb_ssItem ticketValidation",key:"ticketValidation"},l.default.createElement("div",{className:"fb_ticketValidation"},l.default.createElement("div",{className:"fb_tvContent"},l.default.createElement("div",{className:"fb_tvTitle"},"title"in r?o&&!c.default.isEmpty(o)?c.default.map(o,function(t,n){return l.default.createElement("p",{key:"des"+n},t)}):"":l.default.createElement("p",{key:"des"},(0,g.getLang)().ticketValidationTitle)),l.default.createElement("p",{className:"fb_tvGuide"},(0,g.getLang)().ticketValidationGuide),l.default.createElement("div",{className:"fb_tvDecorate"},l.default.createElement("div",{className:"fb_tvBorder"})),l.default.createElement("img",{className:"fb_tvQrCode",src:(0,h.linkify)(a.qrUrl)}),l.default.createElement("p",{className:"fb_tvRandomCode"},i(a.code,4).join(" ")),s&&(s.length>1||s[0])?l.default.createElement("div",{className:"fb_tvDescribe"},c.default.map(s,function(t,n){return l.default.createElement("p",{key:"des"+n},t)})):null)))},renderRandomCode:function(){var t=this.form.settings,n=this.state.extData;return t&&t.asIsShowRandomCode?l.default.createElement("div",{className:"fb_ssItem randomCode",key:"randomCode"},l.default.createElement("div",{className:"fb_randomCode"},l.default.createElement("p",{className:"fb_rdTitle"},"asRandomCodeTitle"in t?t.asRandomCodeTitle:(0,g.getLang)().asRandomCode),l.default.createElement("br",null),l.default.createElement("p",{className:"fb_rdExample"},n?n.randomCode||"-":"-"))):null},renderFeedbackResult:function(){var t=this.form.settings;if(!t||!t.asIsShowFeedbackResult)return null;var n=this.form.style.bodyStyle,a=0!==t.isShowStatistics,r=0!==t.isShowData;return l.default.createElement("div",{className:"fb_ssItem feedbackResult",key:"feedbackResult"},a?l.default.createElement("div",{className:"fb_frStatistics",onClick:this.handleViewStatistics},l.default.createElement("p",{className:"fb_frIcon"}),l.default.createElement("p",{className:"fb_frTitle",style:{color:n.titleColor}},(0,g.getLang)().asStatisticsView)):null,a&&r?l.default.createElement("div",{className:"fb_frBorder"}):null,r?l.default.createElement("div",{className:"fb_frData",onClick:this.handleViewSubmitData},l.default.createElement("p",{className:"fb_frIcon"}),l.default.createElement("p",{className:"fb_frTitle",style:{color:n.titleColor}},(0,g.getLang)().asFormSubmitView)):null)},render:function(){return l.default.createElement("div",{key:"body",className:"body"},l.default.createElement("div",{className:"fb_secondaryStatus",tabIndex:0,style:this.isMobile()?{padding:10}:null},this.renderImage(),this.renderText(),this.renderTicket(),this.renderRandomCode(),this.renderFeedbackResult(),l.default.createElement(E.default,{position:this.state.formStatus})))}});n.default=T,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(19),s=r(o),l=a(84),u=r(l),c=a(23),d=r(c),f=a(17),m=a(82),p=r(m),h=s.default.createClass({displayName:"SucceedAd",mixins:[d.default],getInitialState:function(){return this.deviceInfo=(0,f.getDeviceInfo)(),this.embed=(0,f.getEmbed)(),{plt:null}},componentDidMount:function(){var t=this,n=this.props.position;u.default.position(+n).then(function(n){n&&t.setState({plt:n})})},onDisplay:function(t){var n=this.props.position;return u.default.displayPrepared(i({position:n,isMobile:this.deviceInfo.isMobile&&!this.deviceInfo.os.tablet},t))},render:function(){var t=this.props.position,n=this.state.plt;return n?s.default.createElement(p.default,{size:this.deviceInfo.isMobile&&!this.deviceInfo.os.tablet?"360*120":"800*180",overThrough:!0,position:t,plt:n,inEmbed:this.embed&&this.embed.inEmbed,onDisplay:this.onDisplay}):null}});n.default=h,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(19),o=r(i),s=a(27),l=r(s),u=a(23),c=r(u),d=a(17),f=a(36),m=a(8),p=o.default.createClass({displayName:"SucceedTail",mixins:[l.default,c.default],getInitialState:function(){this.store=(0,d.getStore)(),this.form=(0,d.getFormStructure)(),this.theme=(0,d.getThemeHelper)();var t=this.form.extensions.memberInfo,n=null,a=(0,d.getLang)().gGotoMemberCenter({platformName:t&&t.mbrmCustomText&&t.mbrmCustomText.mbrmn||(0,d.getLang)().fMemberCenter});if(this.form.extensions.member&&this.form.extensions.memberFrglg&&1===this.form.extensions.memberFrglg.mode){var r=(0,m.parseUrl)(location.href).params;(r.lgft||r.lgmbrm)&&(r.lgmbrm?n=(0,m.addUrlParams)(location.origin+"/mbrm/"+decodeURIComponent(r.lgmbrm),{_cpv:r._cpv}):(n=(0,m.autoMbrmLinkify)((0,m.addUrlParams)(location.origin+"/"+decodeURIComponent(r.lgft),{_cpv:r._cpv})),a=decodeURIComponent(r.lgfh),a=a?(0,d.getLang)().gContinueForm({title:_.trim(a)}):(0,d.getLang)().gContinue))}return{mbrmLink:n,mbrmTitle:a}},componentDidMount:function(){},componentWillUnmount:function(){},handleGoToPage:function(){var t=this.form.settings,n=t.asButtonLink,a=t.asButtonLinkType,r=(0,d.getDeviceInfo)(),i=(r.os,r.isWx),o=this.state.mbrmLink;if(o)return void(location.href=(0,m.linkify)(o));if(2===+a&&n)location.href=(0,m.autoMbrmLinkify)(n);else{var s=(0,m.parseUrl)(location.href),l=window._SST,u=s.params.m,c=null;i&&(c=+new Date),location.href=(0,m.addUrlParams)(location.origin+"/"+this.form.token,{sst:l,m:u,wechat_hash:c})}},render:function(){var t=this.form.settings,n=t.asIsShowButton,a=t.asButtonText,r=this.state,i=r.mbrmLink,s=r.mbrmTitle;if(0===n&&!i)return null;var l=(0,d.getLang)().gGoBack;i?l=s:a&&(l=a||(0,d.getLang)().gGoBack);var u={default:this.theme.getTailButtonStyle(this.theme.NORMAL),hover:this.theme.getTailButtonStyle(this.theme.HOVER),active:this.theme.getTailButtonStyle(this.theme.ACTIVE)};return o.default.createElement("div",{className:"submitWrapper"},o.default.createElement("div",{className:"submit",style:this.theme.getTailStyle()},o.default.createElement(f.BaseBtn,{className:"fbc_button",tabIndex:0,role:"button",style:u,onClick:this.handleGoToPage},l)))}});n.default=p,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.TailAdContent=void 0;var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=a(6),l=r(s),u=a(19),c=r(u),d=a(20),f=r(d),m=a(23),p=r(m),h=a(84),g=r(h),_=a(82),v=r(_),b=a(17),y=a(85),E=a(38),C=a(7),T=a(8),S=a(83),M=c.default.createClass({displayName:"TailAd",mixins:[p.default],getInitialState:function(){this.store=(0,b.getStore)(),this.theme=(0,b.getThemeHelper)(),this.form=(0,b.getFormStructure)(),this.deviceInfo=(0,b.getDeviceInfo)(),this.position=(0,y.getFillingPosition)(),this.config=(0,b.getConfig)(),this.embed=(0,b.getEmbed)();var t=this.store.getState(),n=t.form;return this.onResize=l.default.debounce(this._onResize,160),this.getAdContentStyle=(0,T.memo)(this._getAdContentStyle),this.lastTime=0,{cpLoaded:!1,form:n,isPinned:!1,contentWidth:null}},componentDidMount:function(){this.unsubscribe=this.store.addChangeListener(this.handleStateChange),this.unbind=(0,C.onResize)(this.onResize),this.observer=this._onPositionObserver(),this.observer&&this.elem&&(this.observer.observe(this.elem),this.inObserve=!0),this.config.dom().main&&!this.state.contentWidth&&this.setState({contentWidth:this.config.dom().main.getBoundingClientRect().width})},componentDidUpdate:function(){this.observer&&this.elem&&!this.inObserve&&(this.observer.observe(this.elem),this.inObserve=!0),this.config.dom().main&&!this.state.contentWidth&&this.setState({contentWidth:this.config.dom().main.getBoundingClientRect().width})},componentWillUnmount:function(){this.unsubscribe&&this.unsubscribe(),this.unbind&&this.unbind(),this.inObserve&&(this.inObserve=!1,this.observer.disconnect()),this._lockTimer&&clearTimeout(this._lockTimer)},_onPositionObserver:function(){var t=this,n="IntersectionObserverEntry"in window&&!("isIntersecting"in IntersectionObserverEntry.prototype);if(!("IntersectionObserver"in window)||n)return null;var a=new IntersectionObserver(l.default.debounce(function(n){var a=o(n,1),e=a[0],r=e.intersectionRatio,i=r<1;i!==t.state.isPinned&&t.setState({isPinned:i,float:i?"left":"none"},function(){t._lock=!1})},50),{threshold:[1]});return a},_onResize:function(){this.setState({contentWidth:this.config.dom().main.getBoundingClientRect().width})},handleStateChange:function(t){var n=this,a=this.store.getState(),r=a.form,i={form:r},o=!1;t.type===E._CHUNK_LOADED&&(i.cpLoaded=!0,o=null!=this.position),this.setState(i,function(){o&&n.embed&&n.embed.inEmbed})},_getAdContentStyle:function(t){return(0,T.styleInject)(this.theme.getTailStyle(),{width:t})},refTailAd:function(t){this.elem=t},render:function(){var t=this.state,n=t.cpLoaded,a=(t.form,t.contentWidth),r=t.isPinned,i=t.float;if(!n)return null;var o=null!=this.position&&g.default.getPositionCode(this.position)&&(0,y.pltDisplay)();if(!o)return null;var s=this.deviceInfo.isMobile&&!this.deviceInfo.os.tablet,l=this.getAdContentStyle(a),u=l.backgroundColor,d=null,f=null;return r&&s?u=null:r&&(d="linear-gradient(to top, "+u+" 20%, "+(0,T.fade)(u,0)+")",u=null),s&&(f="center"),c.default.createElement("div",{style:this.embed&&this.embed.inEmbed?{backgroundColor:u,float:i,transform:"translateZ(1px)"}:{position:"sticky",bottom:-1,zIndex:11,backgroundColor:u,backgroundImage:d,float:i,transform:"translateZ(1px)"},ref:this.refTailAd},c.default.createElement(I,{position:this.position,style:l,contentWidth:a,isPinned:r}))}}),I=n.TailAdContent=c.default.createClass({displayName:"TailAdContent",mixins:[p.default],getInitialState:function(){return this.deviceInfo=(0,b.getDeviceInfo)(),this.embed=(0,b.getEmbed)(),this._cached={content:null,decoration:null},{loaded:!1}},componentDidMount:function(){this.state.loaded&&this.updateAdDisplay()},componentDidUpdate:function(t){this.state.loaded&&t.isPinned!==this.props.isPinned&&this.updateAdDisplay()},updateAdDisplay:function(){var t=this;if((0,y.pltDisplayInView)()){var n=this.deviceInfo.isMobile&&!this.deviceInfo.os.tablet;if(n&&this.gg){var a=this.props.isPinned;if(!this._cached.content||!this._cached.decoration){var r=f.default.findDOMNode(this.gg);if(r)for(var i=r.querySelectorAll("g"),o=0,s=i.length;o<s;o++)(i[o].getAttribute("clip-path")||"").indexOf("#__lottie_element_11")>-1&&(this._cached.content=i[o]),(i[o].getAttribute("mask")||"").indexOf("#__lottie_element_231")>-1&&(this._cached.decoration=i[o])}a?(this._cached.content&&(this._cached.content.style.transition="all .2s ease",this._cached.content.style.opacity=0),this._cached.decoration&&(this._cached.decoration.style.transition="all .2s ease",this._cached.decoration.style.opacity=0)):(this._cached.content&&(this._cached.content.style.transition="all .25s ease-out",this._cached.content.style.opacity=1),this._cached.decoration&&(this._cached.decoration.style.transition="all .25s ease-out",this._cached.decoration.style.opacity=1)),(this._cached.content||this._cached.decoration)&&this.setState({pinMode:a},function(){t.props.onPinStateChange&&t.props.onPinStateChange(a)})}}},onFinish:function(){var t=this;this.setState({loaded:!0},function(){t.updateAdDisplay()})},onDisplay:function(t){if((0,y.pltDisplayInView)()){var n=this.props.position;return g.default.display(i({position:n,isMobile:this.deviceInfo.isMobile&&!this.deviceInfo.os.tablet},t))}},refGGWrapper:function(t){this.ggWrapper=t},refGG:function(t){this.gg=t},render:function(){var t=this.props,n=t.position,a=t.style,r=t.sticky,o=(t.isPinned,t.contentWidth),s=this.state.pinMode,l=this.deviceInfo.isMobile&&!this.deviceInfo.os.tablet;if(!(0,y.pltDisplayInView)())return null;var u=i({},a,{margin:0,bottom:0,backgroundImage:null,backgroundColor:null,zoom:1});return c.default.createElement("div",{ref:this.refGGWrapper,style:s?{transition:"width .2s ease, transform .2s ease",width:82,overflow:"hidden",transform:"translateY(-110px)",position:"relative",left:o-82,bottom:0}:null},c.default.createElement("div",{style:{position:"relative",width:o?o:"100%",transform:s?"translateX(calc(-50% + 60px)) scale(0.76)":"translateX(0) scale(1)"}},c.default.createElement(v.default,{size:l?"360*120":"800*180",ref:this.refGG,overThrough:!0,sticky:r,inEmbed:this.embed&&this.embed.inEmbed,style:u,position:n,onDisplay:this.onDisplay,onFinish:this.onFinish})),s?c.default.createElement("span",{style:{position:"absolute",right:0,bottom:18,fontSize:12,lineHeight:0,backgroundSize:"contain",width:26,height:8,backgroundImage:'url("'+S._GG_IMG+'")'}}):null)}});n.default=M},function(t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={normal:{H_P:30,H_P_LR:40,CP_PADDING_PIC_LR:60,CP_PADDING_LR:75,CP_GROUP_PADDING_LR:30,CP_GROUP_ITEM_PADDING_LR:45,CP_ITEM_GAP:6,CP_PADDING_INPUT_TB:6,CP_RANK_PADDING:16},mobile:{H_P:30,H_P_LR:20,CP_PADDING_PIC_LR:20,CP_PADDING_LR:20,CP_GROUP_PADDING_LR:0,CP_GROUP_ITEM_PADDING_LR:20,CP_ITEM_GAP:4,CP_PADDING_INPUT_TB:8,CP_RANK_PADDING:0},"max-width: 400px":{H_P_LR:20}},t.exports=n["default"]},function(t,n){"use strict";function a(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),i=function(){function t(n,r){var i=this;a(this,t),this.handleChange=function(t){i.data=t},r(n,this.handleChange)}return r(t,[{key:"get",value:function(t){return t?this.data[t]:this.data}}]),t}();n.default=i,
t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function o(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0}),n.ThemeHelper=void 0;var s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},l=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),u=a(8),c=a(17),d=a(192),f=r(d),m=function(t){var n=t,a=(0,c.getCurrentLang)(),r="ar"===a,i=(0,u.grayLevel)(n);i>210&&(t=(0,u.darken)(n,.45));var o=(0,u.lighten)(t,.07),s=(0,u.darken)(t,.12);return[":root { --theme-color: "+t+"; --theme-bg-color: "+(0,u.fade)(t,.04)+"; }",":focus { outline: none; }",".fb_tvGuide { color: "+t+" }",".fbc_descriptionLink, .fbc_descriptionLink:visited { color: "+t+" }",".fbc_descriptionLink:hover { color: "+o+" }",".fbc_input:focus, .fbc_input.is_focus, .fbc_tabularInput:focus, .fbc_tabularInput.is_focus, .fbc_select.focus,.fbc_roItem:focus,.fbc_roItem.dragging { border-color: "+t+" }",".fbc_authCodeInput.is_focus { border-color: "+t+" } .fbc_authCodeInput.is_focus .fbc_aciTitle {background-color: "+(0,u.colorMix)("#FFF",s,.95)+" }",".fbc_authCodeInput.is_focus .fbc_aciTitle {border-color: "+(0,u.fade)(t,.3)+"}",".fbc_paItem:hover, .fbc_uploadFile:hover, .lg-countpicker-reduce:hover, .lg-countpicker-increase:hover { border-color: "+t+" }",".bb-btn-hover .bb-radio-outCircle, .bb-btn-hover .bb-radio-innerCircle { border-color: "+o+" }",".bb-btn-hover .bb-checkbox, .bb-btn-hover .bb-radio { border-color: "+o+" }",".bb-btn-hover .bb-checkbox, .bb-btn-hover .bb-radio { border-color: "+o+" }",".bb-btn-focus .bb-radio-outCircle, .bb-btn-hover .bb-radio-innerCircle { border-color: "+t+" }",".bb-btn-focus .bb-checkbox, .bb-btn-focus .bb-radio { border-color: "+t+" }",".fbc_optionsLi.bb-btn-hover:before, .fbc_optionsLi.bb-btn-focus:before { background: "+(0,u.fade)(t,.12)+"; border-"+(r?"right":"left")+": 1px solid "+(0,u.fade)(t,.3)+" }",".fbc_selectLi.bb-btn-hover:before, .fbc_selectLi.fbc_select_current:before, .fbc_picOptionsLi.bb-btn-hover:before, .fbc_picOptionsLi.bb-btn-focus:before, .fbc_uploadFile.bb-btn-hover:before, .fbc_uploadImage.bb-btn-hover:before, .fbc_commodityLink.bb-btn-hover:before { background: "+(0,u.fade)(t,.12)+" }",".fbc_picOptionsLi.bb-btn-hover, .fbc_picOptionsLi.bb-btn-focus, .fbc_uploadFile.has_value.bb-btn-hover, .fbc_uploadImage.has_value.bb-btn-hover { border-color:"+o+"; box-shadow: "+(0,u.fade)(t,.06)+" 0 3px 6px, "+(0,u.fade)(t,.12)+" 0 6px 18px }",".fbc_paImgState { color: "+t+" }",".bb-number-picker .bb-np-bg, .bb-number-picker.bb-npicker-hover {border-color: "+t+"}",".bb-np-btn {color: "+t+"}",".bb-np-btn.bb-btn-hover {background-color: "+o+"}",".bb-np-btn.bb-btn-active {background-color: "+s+"}",".bb-npicker-hover .bb-np-data { border-color: "+(0,u.fade)(t,.3)+"}",".bb_inputStep.active .bb-is-content{border-color: "+t+"}",".bb_inputStep.active .bb-is-contentItem{border-color: "+(0,u.fade)(t,.3)+"}",".fbc_tabularOptionWrapper.bb-btn-hover:before {background-color: "+(0,u.fade)(t,.12)+";"+(u.deviceInfo.isMobile?"border-"+(r?"right":"left")+": 1px solid "+(0,u.fade)(t,.3):"")+" }",".fbc_tabularOptionWrapper.bb-btn-hover:after {border-color: "+(0,u.fade)(t,.3)+"}",".fbc_commodityPrice {color: "+t+"}",".lg-countpicker-reduce:active, .lg-countpicker-increase:active, .fbc_pccDot.active, .fbc_numItem.numSelected { background-color: "+s+" }",".fbc_selectLi.fbc_currentSelected { color:"+t+";border-color:"+t+" }",".fbc_selectLi.fbc_select_selected {color:"+s+";} ",".fbc_selectLi.bb-btn-active:before, .fbc_optionsLi.bb-btn-active:before, .fbc_picOptionsLi.bb-btn-active:not(.fbc_commodity_li):before, .fbc_commodityLink.bb-btn-active:before { background: "+(0,u.fade)(t,.3)+" }",".bb-radio.active .bb-radio-outCircle, .bb-radio.active .bb-radio-innerCircle { border-color: "+t+" }",".bb-radio.active { border-color: "+t+"; }",".bb-radio.active .bb-radio-inner { background-color: "+t+"; }",".bb-checkbox.active { background-color: "+t+"; border-color: "+t+" }",".fbc_picOptionsLi.bb-btn-active:not(.fbc_commodity_li) { border-color:"+s+"; box-shadow: "+(0,u.fade)(t,.12)+" 0 3px 6px }",".fbc_commodityLink.bb-btn-hover, .fbc_commodityLink.bb-btn-active, .fbc_commodityLink .iconfont {color: "+s+"}",".bb-ec-expand-btn {color: "+n+"}",".bb-ec-expand-btn.bb-btn-hover {color: "+o+"}",".bb-ec-expand-btn.bb-btn-active {color: "+o+"}",".fbc_dtDropWrapper { border-color: "+t+" }",".fbc_raHovered .fbc_raGroove { color: "+t+"; background-color: "+(0,u.fade)(t,.5)+" }",".fbc_raItem.has-value .fbc_raNum, .fbc_raNum.has_value, .fbc_raHovered .fbc_raNum, .fbc_raFilled .fbc_raNum { background-color: "+t+" }",".fbc_raFilled.fbc_raHovered .fbc_raNum { background-color: "+s+" }",".fbc_roItemContainer.is_set_order .fbc_roOrderPosition { background-color: "+t+" }",".fbc_roItemContainer.is_set_order .fbc_roItem { border-color: "+(0,u.fade)(t,.9)+" }",".bb-calendar-type {background-color: "+t+";}",".bbc-typeItem.active,.bb-calendar-switcher {color: "+t+";}",".bbc-typeItem.bb-btn-hover:after {background-color: "+(0,u.fade)(t,.2)+";}",".bbc-typeItem.bb-btn-active:after {background-color: "+(0,u.fade)(t,.3)+";}",".bb-calendar-switcher .bbs-option.bb-btn-hover:after, .bb-calendar-switcher .bbs-display.bb-btn-hover:not(.bbs-no-change):after {background-color: "+(0,u.fade)(t,.1)+";}",".bb-calendar-switcher .bbs-option.bb-btn-active:after, .bb-calendar-switcher .bbs-display.bb-btn-hover:not(.bbs-no-change):after {background-color: "+(0,u.fade)(t,.2)+";}",".bbc-body-item.now .now-tag {background-color: "+t+";}",".bbc-body-item.selected { color: "+t+";}",".bbc-body-item.selected:before { border-color: "+(0,u.fade)(t,.6)+";}",".bbc-body-item:after {background-color: "+t+";}",".bbt-content.bb-btn-hover {border-color: "+(0,u.fade)(t,.7)+";}",".bbt-content.bb-btn-focus {border-color: "+t+";}",".fb_ticketValidation, .fb_tvDecorate:before, .fb_tvDecorate:after{ background-color:"+t+" }",".fbc_signBtn, .fbc_signature.edit{border-color:"+t+";}",".fbc_signBtnIcon, .fbc_signOpeText, .fbc_signOpeIcon{color:"+t+";}",".fbc_signBtnBg{fill: "+t+"; stroke: "+t+";}",".fbc_signBtn{box-shadow: 0 8px 16px "+(0,u.fade)(t,.1)+";}"]},p=0,h=1,g=2,v=3,b=4,y=5,E="#666",C="#DA2824",T="#52B266",S="#267DC5",M=function(t){var n=(0,c.getCurrentLang)(),a="ar"===n;return{1:a?"right":"left",2:"center",3:a?"left":"right"}[t]},I=12,N=375,A=function(t){var n=window.devicePixelRatio||1,a=I;if(n>1){var r=t.width/N;t.width>1.5*N&&(r=1.1),a=Math.round(Math.max(I*r,10))}return a};n.ThemeHelper=function(){function t(n){o(this,t),this.NORMAL=p,this.HOVER=h,this.ACTIVE=g,this.FOCUS=v,this.ERROR=b,this.DISABLED=y,this.style=n||{},this.lineHeight=(this.style.lineHeight||14)/10,this.theme=this.style.themeColor;var a=(0,u.grayLevel)(this.theme);a>210?this.themeFix=(0,u.darken)(this.theme,.45):this.themeFix=this.theme,this.cache={},this.base=12}return l(t,[{key:"remove",value:function(){this.rpx&&(this.rpx.stop(),this.base=this.rpx.baseSize),this.rpx=null}},{key:"initRpx",value:function(){this.rpx||(this.rpx=new f.default(A),this.rpx.calc(),this.base=this.rpx.currentSize)}},{key:"hasCache",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p;return this.cache[t]&&this.cache[t].baseFont===this.base&&this.cache[t][n]}},{key:"getCache",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,a=this.cache[t];return a&&a.baseFont===this.base?a[n]:null}},{key:"setCache",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,a=arguments[2],r=this.cache[t];(!r||r&&r.baseFont!==this.base)&&(r=this.cache[t]={baseFont:this.base}),r[n]=a}},{key:"styleInType",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,a=arguments[2];if(this.hasCache(t,n))return this.getCache(t,n);if(null!=n&&a[n]){var r=null;if(_.isFunction(a[n])?r=a[n]():_.isPlainObject(a[n])&&(r=a[n]),r)return this.setCache(t,n,r),r}return null}},{key:"rem",value:function(t){return Math.round(t/this.base*1e3)/1e3+"rem"}},{key:"getBodyStyle",value:function(t){return{paddingTop:t[0]?0:this.rem(1.1*this.base),paddingBottom:t[1]?0:this.rem(1.8*this.base)}}},{key:"getTailStyle",value:function(){var t=this.style.submitStyle,n=t.bgColor;t&&t.bgOpacity&&null!=t.bgOpacityValue&&t.bgOpacityValue<1&&(n=(0,u.fade)(n,t.bgOpacityValue));var a=null,r=null,o=null,s=null;if(t&&t.background){var l=t.bgLayoutHorizontal||6,c=t.bgLayoutVertical||6;switch(a="url("+t.background+")",r=["center","center"],o="no-repeat",l){case 3:o="repeat-x";break;case 4:s="100% auto";break;case 5:r[1]="left";break;case 7:r[1]="right";break;case 6:default:r[1]="center"}switch(c){case 3:o="repeat-y";break;case 4:s="auto 100%";break;case 8:r[0]="top";break;case 9:r[0]="bottom";break;case 6:default:r[0]="center"}3===l&&3===c&&(o="repeat"),4===l&&4===c&&(s="cover"),r=r.join(" ")}return this.styleInType("base-tailStyle",p,i({},p,{backgroundColor:n,backgroundImage:a,backgroundPosition:r,backgroundRepeat:o,backgroundSize:s,textAlign:M(t.btnAlign||2)}))}},{key:"getCartWrapperStyle",value:function(){var t=this.style.submitStyle,n=t.bgColor;return t&&t.bgOpacity&&null!=t.bgOpacityValue&&t.bgOpacityValue<1&&(n=(0,u.fade)(n,t.bgOpacityValue)),{backgroundColor:n}}},{key:"getProgressStyle",value:function(){var t=this.style.submitStyle,n=(0,u.grayLevel)(t.btnColor),a=(0,u.grayLevel)(this.theme),r=t.btnColor;n>248&&(r=(0,u.colorMix)(r,t.fontColor,.8));var i=(0,u.colorMix)(this.theme,r,.82);return Math.abs(a-n)<20&&n<170&&(i="#FFF"),{backgroundColor:i}}},{key:"getTailButtonStyle",value:function(t){var n,a=this.getButtonStyle(t);if(!a)return null;var r=this.style.submitStyle,o=(0,u.grayLevel)(r.btnColor),l=o<170,c=r.btnColor,d={};o>248&&(d.borderColor=(0,u.fade)(r.fontColor,.2),d.borderWidth=1,d.borderStyle="solid",c=(0,u.colorMix)(c,r.fontColor,.99));var f=r.submitFontSize||14;d.fontSize=this.rem(f),d.fontWeight=r.fontWeight?"bold":"normal";var m=Math.max(38,1.2*f+14);d.height=this.rem(m);var _=this.rem(Math.floor((m-1.2*f)/2));d.paddingTop=_,d.paddingBottom=_;var v=this.rem(Math.max(38,1.2*f+14)-2*Math.floor((m-1.2*f)/2));return d.lineHeight=v,this.styleInType("tailBtn",t,(n={},i(n,h,s({},a,d,{backgroundColor:l?(0,u.lighten)(c,.02):(0,u.darken)(c,.02)})),i(n,p,s({},a,d)),i(n,g,s({},a,d,{backgroundColor:l?(0,u.lighten)(c,.05):(0,u.darken)(c,.05)})),n))}},{key:"getButtonStyle",value:function(t){var n,a=this.style.submitStyle;if(!a)return null;var r=(0,u.grayLevel)(a.btnColor),o=r<170,l={color:a.fontColor,borderColor:(0,u.fade)(a.btnColor,.8),"--btn-loading-color":(0,u.fade)(a.fontColor,.2),"--btn-loading-color-mid":(0,u.fade)(a.fontColor,.4),"--btn-loading-color-active":(0,u.fade)(a.fontColor,1)},c=a.btnColor;return r>248&&(l.borderColor=(0,u.fade)(a.fontColor,.4),l.borderWidth=1,l.borderStyle="solid",c=(0,u.colorMix)(c,a.fontColor,.92)),this.styleInType("btn",t,(n={},i(n,h,s({backgroundColor:o?(0,u.lighten)(c,.01):(0,u.darken)(c,.01)},l)),i(n,p,s({backgroundColor:a.btnColor},l)),i(n,g,s({backgroundColor:(0,u.fade)(o?(0,u.lighten)(c,.05):(0,u.darken)(c,.05),.9)},l)),i(n,y,s({backgroundColor:(0,u.colorMix)("#FFF",E,.5)},l)),i(n,b,s({backgroundColor:(0,u.colorMix)("#FFF",C,.5)},l)),n))}},{key:"getMbrmButtonIcon",value:function(){var t=this.style.submitStyle;if(!t)return null;var n=(0,u.grayLevel)(t.btnColor);return n>248?{backgroundColor:(0,u.fade)(t.fontColor,.4)}:void 0}},{key:"getInputBoxExtButtonStyle",value:function(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),o=this.style.bodyStyle||{},l=o.optionFontSize||14,d=a.baseFontSize||l,f=this.getButtonStyle(t),m=this.lineHeight*l+2*r+2,_=this.rem(Math.floor((m-d*this.lineHeight)/2)),v={height:this.rem(m),lineHeight:this.lineHeight,fontSize:this.rem(d),paddingTop:_,paddingBottom:_,width:a.baseWidth?this.rem(a.baseWidth):null};return this.styleInType("iptExtBtn-"+(a.baseFontSize||"opt")+"-"+(a.baseWidth||"auto"),t,(n={},i(n,p,s({},f,v)),i(n,h,s({},f,v)),i(n,g,s({},f,v)),i(n,y,s({},f,v,{borderColor:(0,u.colorMix)("#FFF",E,.78),color:(0,u.colorMix)("#FFF",E,.43),backgroundColor:(0,u.colorMix)("#FFF",E,.96)})),i(n,b,s({},f,v,{borderColor:(0,u.colorMix)("#FFF",C,.78),color:(0,u.colorMix)("#FFF",C,.43),backgroundColor:(0,u.colorMix)("#FFF",C,.96)})),n))}},{key:"getBgBoxStyle",value:function(t){var n=this.style,a=(0,u.grayLevel)(n.bgColor),r=a<170;if(r){var o;return this.styleInType("bgBox",t,(o={},i(o,p,{backgroundColor:(0,u.fade)("#FFF",.21)}),i(o,h,{backgroundColor:(0,u.fade)("#FFF",.63)}),o))}return null}},{key:"getInputBoxStyle",value:function(t){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),o=this.style.bodyStyle||{},l=o.optionFontSize||14,u=this.rem(this.lineHeight*l+2*r+2),d={height:u,lineHeight:this.lineHeight,fontSize:this.rem(l),fontWeight:o.optionFontWeight?"bold":"normal"};if(a){var f=(0,c.getCurrentLang)(),m="ar"===f;m?d.paddingRight=this.rem(l+4+5):d.paddingLeft=this.rem(l+4+5)}return this.styleInType("inputBox"+(a?"WithIcon":""),t,(n={},i(n,p,s({},d)),i(n,g,s({borderColor:this.theme},d)),n))}},{key:"getSelectorBoxStyle",value:function(t){var n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),o=this.style.bodyStyle||{},l=o.optionFontSize||14,u=this.rem(this.lineHeight*l+2*r),d={height:u,lineHeight:this.lineHeight,fontSize:this.rem(l),fontWeight:o.optionFontWeight?"bold":"normal"};if(a){var f=(0,c.getCurrentLang)(),m="ar"===f;m?d.paddingRight=this.rem(l+4+5):d.paddingLeft=this.rem(l+4+5)}return this.styleInType("selectorBox"+(a?"WithIcon":""),t,(n={},i(n,p,s({},d)),i(n,g,s({borderColor:this.theme},d)),n))}},{key:"getTextareaBoxStyle",value:function(t){var n,a=this.style.bodyStyle||{},r=a.optionFontSize||14,o={lineHeight:this.lineHeight,fontSize:this.rem(r),fontWeight:a.optionFontWeight?"bold":"normal"};return this.styleInType("textareaBox",t,(n={},i(n,p,s({},o)),i(n,g,s({borderColor:this.theme},o)),n))}},{key:"getInputBoxExtraStyle",value:function(){var t=this.style.bodyStyle||{};return{lineHeight:this.lineHeight,fontSize:this.rem(t.optionFontSize||14)}}},{key:"getInputPopHintStyle",value:function(t){var n=(0,u.grayLevel)(this.theme),a=n<170;return this.styleInType("iptPopHint",t,i({},p,{backgroundColor:(0,u.fade)(this.theme,.6),color:a?"#FFF":"#121213"}))}},{key:"getInputBoxIconStyle",value:function(t){var n,a=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),r=this.style.bodyStyle||{},o=r.optionFontSize||14,l={top:0,bottom:0,fontSize:this.rem(r.titleFontSize||16),lineHeight:this.rem(this.lineHeight*o+2*a)};return this.styleInType("iptBoxPIcon",t,(n={},i(n,p,s({color:(0,u.fade)(this.themeFix,.62)},l)),i(n,g,s({color:this.themeFix},l)),i(n,b,s({color:C},l)),n))}},{key:"getInputBoxBtnStyle",value:function(t){var n,a=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),r=this.style.bodyStyle||{},o=r.optionFontSize||14,l={top:0,bottom:0,height:this.rem(this.lineHeight*o+2*a+2),fontSize:this.rem(r.titleFontSize||16),lineHeight:this.rem(this.lineHeight*o+2*a+1)};return this.styleInType("iptExtBtn",t,(n={},i(n,p,s({color:(0,u.fade)(this.theme,.6)},l)),i(n,g,s({color:this.theme},l)),n))}},{key:"getInputBoxOptIconStyle",value:function(t){var n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=a.isRemove,o=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),l=this.style.bodyStyle||{},d=l.optionFontSize||14,f={fontSize:this.rem((l.titleFontSize||16)-5),lineHeight:this.rem(this.lineHeight*d+2*o-2)},m=r?C:this.theme;return this.styleInType("boxOptIcon"+(r?"-remove":""),t,(n={},i(n,p,s({},f)),i(n,h,s({color:(0,u.fade)(m,.6)},f)),i(n,g,s({color:m},f)),n))}},{key:"getInputBoxUnitStyle",value:function(t){var n=this.style.bodyStyle||{},a=n.optionFontSize||14;return{lineHeight:this.lineHeight,fontSize:this.rem(a),fontWeight:n.optionFontWeight?"bold":"normal",color:n.describeColor||E}}},{key:"getInputBoxFileIconStyle",value:function(t){var n,a=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),r=this.style.bodyStyle||{},o=r.optionFontSize||14,l={top:0,bottom:0,fontSize:this.rem((r.titleFontSize||16)-3),lineHeight:this.rem(this.lineHeight*o+2*a-2)};return this.styleInType("iptBoxFileIcon",t,(n={},i(n,p,s({color:E},l)),i(n,h,s({color:this.theme},l)),i(n,g,s({color:T},l,{fontSize:this.rem((r.titleFontSize||16)-5)})),i(n,b,s({color:"#FFA002"},l,{fontSize:this.rem((r.titleFontSize||16)-3)})),n))}},{key:"getInputItemStyle",value:function(t){var n,a=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),r=this.style.bodyStyle||{},o=r.optionFontSize||14,l=this.rem(this.lineHeight*o+2*a),u={lineHeight:this.lineHeight,fontSize:this.rem(o),fontWeight:r.optionFontWeight?"bold":"normal"};return this.styleInType("inputItem",t,(n={},i(n,"_STY_INPUT",s({},u,{height:l})),i(n,"_STY_DISPLAY",s({},u)),n))}},{key:"getTriggerIconStyle",value:function(t){var n,a=this.style.bodyStyle||{},r=a.optionFontSize||14,o={fontSize:r};return this.styleInType("triggerIcon",t,(n={},i(n,p,s({},o)),i(n,g,s({transform:"rotate(180deg)"},o)),n))}},{key:"getInputStateIconStyle",value:function(t){var n,a=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),r=this.style.bodyStyle||{},o=r.optionFontSize||14,l={top:0,bottom:0,fontSize:this.rem(o+2),lineHeight:this.rem(this.lineHeight*o+2*a)};return this.styleInType("iptBoxSIcon",t,(n={},i(n,g,s({color:T},l)),i(n,b,s({color:C},l)),n))}},{key:"getDropDownTriggerIconStyle",value:function(t){var n,a=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),r=this.style.bodyStyle||{},o=r.optionFontSize||14,l={fontSize:this.rem(r.titleFontSize||16),lineHeight:this.rem(this.lineHeight*o+2*a+2)};return this.styleInType("dropIcon",t,(n={},i(n,p,s({},l)),i(n,g,s({transform:"rotate(180deg)"},l)),n))}},{key:"getDropDownResetIconStyle",value:function(t){var n,a=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),r=this.style.bodyStyle||{},o=r.optionFontSize||14,l={fontSize:this.rem((r.titleFontSize||16)-5),lineHeight:this.rem(this.lineHeight*o+2*a+2)};return this.styleInType("dropResetIcon",t,(n={},i(n,p,s({opacity:.4},l)),i(n,h,s({color:this.theme,opacity:.6},l)),i(n,g,s({color:this.theme},l)),n))}},{key:"getInputBoxTriggerStyle",value:function(){var t=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),n=this.style.bodyStyle||{},a=n.optionFontSize||14;return{lineHeight:this.rem(this.lineHeight*a+2*t+2),fontSize:this.rem(a),fontWeight:n.optionFontWeight?"bold":"normal",paddingLeft:this.rem(t),paddingRight:this.rem(t)}}},{key:"getCnVehicleBoxTriggerStyle",value:function(){var t=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),n=this.style.bodyStyle||{},a=n.optionFontSize||14;return{lineHeight:this.rem(this.lineHeight*a+2*t+4),fontSize:this.rem(this.lineHeight*a+2*t-8),fontWeight:n.optionFontWeight?"bold":"normal",paddingLeft:this.rem(t),paddingRight:this.rem(t)}}},{key:"getDropDownOptionStyle",value:function(){var t=this.style.bodyStyle||{};return{borderColor:this.theme,borderTopColor:(0,u.fade)(this.theme,.3),lineHeight:this.lineHeight,fontSize:this.rem(t.optionFontSize||14),fontWeight:t.optionFontWeight?"bold":"normal"}}},{key:"getOptionStyle",value:function(t){var n=this.style.bodyStyle||{},a=n.optionFontSize||14,r={fontSize:this.rem(a),fontWeight:n.optionFontWeight?"bold":"normal",lineHeight:this.lineHeight,paddingTop:2,paddingBottom:2,color:n.optionColor};return t===this.DISABLED?s({},r,{color:"#999",opacity:.82}):r}},{key:"getOptionIconStyle",value:function(){var t=this.style.bodyStyle||{},n=t.optionFontSize||14;return this.styleInType("base-option-icon-style",p,i({},p,{marginTop:this.rem(Math.floor(Math.round(n*this.lineHeight-16)/2)-1)}))}},{key:"getPicOptionIconStyle",value:function(){var t=this.style.bodyStyle||{},n=t.optionFontSize||14;return this.styleInType("base-pic-option-icon-style",p,i({},p,{marginTop:this.rem(Math.floor(Math.round(n*this.lineHeight-16)/2)-1)}))}},{key:"getChoiceInputBoxStyle",value:function(){var t=6,n=this.style.bodyStyle||{},a=n.optionFontSize||14;return{height:this.rem(this.lineHeight*a+2*t-5),lineHeight:this.lineHeight,fontSize:this.rem(a),fontWeight:n.optionFontWeight?"bold":"normal"}}},{key:"getRateNumberStyle",value:function(){var t=this.style.submitStyle;if(!t)return null;var n=(0,u.grayLevel)(this.theme),a=n<170,r=this.theme;return n>248&&(r=(0,u.colorMix)(r,t.fontColor,.62)),{color:a?"#FFF":null,backgroundColor:r,borderColor:r}}},{key:"getComponentTitleStyle",value:function(){var t=this.style.bodyStyle||{},n=t.titleFontSize||16;return{lineHeight:this.lineHeight+n/100,fontSize:this.rem(n),fontWeight:t.titleFontWeight?"bold":"normal",color:t.titleColor}}},{key:"getComponentDescStyle",value:function(){var t=this.style.bodyStyle||{},n=t.describeFontSize||14;return{lineHeight:this.lineHeight+n/150,fontSize:this.rem(n),fontWeight:t.describeFontWeight?"bold":"normal",color:t.describeColor||E}}},{key:"getComponentTipsStyle",value:function(){var t=this.style.bodyStyle||{},n=t.describeFontSize||14;return{lineHeight:Math.max(1.2,this.lineHeight-.2),fontSize:this.rem(Math.max(n-2,12)),color:(0,u.fade)(t.describeColor||E,.7)}}},{key:"getComponentErrorStyle",value:function(){var t=this.style.bodyStyle||{},n=t.describeFontSize||14;return{lineHeight:Math.max(1.2,this.lineHeight-.2),fontSize:this.rem(Math.max(n-2,12)),color:C}}},{key:"getComponentLinkStyle",value:function(t){var n,a=this.style.bodyStyle||{},r={lineHeight:this.lineHeight,fontSize:this.rem(a.describeFontSize||14),fontWeight:a.describeFontWeight?"bold":"normal"};return this.styleInType("link",t,(n={},i(n,p,s({color:this.theme},r)),i(n,g,s({color:(0,u.lighten)(this.theme,.07)},r)),n))}},{key:"getComponentOperateButtonStyle",value:function(t){var n,a=this.style.submitStyle;if(!a)return null;var r=(0,u.grayLevel)(this.theme),o=r<170,l=this.theme;r>210&&(l=(0,u.darken)(l,.45)),r>248&&(l=(0,u.colorMix)(l,a.fontColor,.62));var c={color:o?"#FFF":null,border:"1px solid "+(0,u.fade)(l,.2)};return this.styleInType("cpOptButton",t,(n={},i(n,h,s({backgroundColor:(0,u.lighten)(l,.01)},c)),i(n,p,s({backgroundColor:l},c)),i(n,g,s({backgroundColor:(0,u.fade)((0,u.lighten)(l,.05),.9)},c)),n))}},{key:"getComponentCommodityNameStyle",value:function(){var t=this.style.bodyStyle||{},n=t.optionFontSize||14,a=t.optionColor,r=a?(0,u.grayLevel)(a):0;return r>210&&(a=(0,u.darken)(a,.45)),{lineHeight:this.lineHeight,fontSize:this.rem(Math.max(n,14)),color:a}}},{key:"getComponentCommodityDescribeStyle",value:function(){var t=this.style.bodyStyle||{},n=t.describeFontSize||14;return{lineHeight:Math.max(1.2,this.lineHeight-.2),fontSize:this.rem(Math.max(n-2,12)),color:t.describeColor||E}}},{key:"getSysButtonStyle",value:function(t){var n,a={color:"#FFF",border:"1px solid "+(0,u.fade)(S,.2)};return this.styleInType("sysBtn",t,(n={},i(n,h,s({backgroundColor:(0,u.lighten)(S,.01)},a)),i(n,p,s({backgroundColor:S},a)),i(n,g,s({backgroundColor:(0,u.fade)((0,u.lighten)(S,.05),.9)},a)),n))}},{key:"getSysCancelButtonStyle",value:function(t){var n,a={color:"#111211",border:"1px solid "+(0,u.fade)(S,.03)};return this.styleInType("sysCancelBtn",t,(n={},i(n,h,s({backgroundColor:(0,u.fade)("#DDD",.9)},a)),i(n,p,s({backgroundColor:"#DDD"},a)),i(n,g,s({backgroundColor:(0,u.fade)((0,u.darken)("#DDD",.04),.9)},a)),n))}},{key:"getSysInputStyle",value:function(t){var n,a=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),r=14,o={height:this.rem(this.lineHeight*r+2*a),lineHeight:this.lineHeight,fontSize:this.rem(r)};return this.styleInType("sysInput",t,(n={},i(n,p,s({},o)),i(n,g,s({borderColor:S},o)),i(n,b,s({borderColor:C},o)),n))}},{key:"getSysInputIconStyle",value:function(t){var n=(0,c.getStaticData)("CP_PADDING_INPUT_TB"),a=14,r=this.rem(this.lineHeight*a+2*n-2);return{height:r,lineHeight:r}}}]),t}();n.default=m},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),s=a(124),l=r(s),u=a(193),c=r(u),d=12,f=414,m=function(t){var n=window.devicePixelRatio||1,a=d;if(n>1){var r=t.width/f;t.width>1.5*f&&(r=1.1),a=Math.round(Math.max(d*r,10))}return a},p=!1,h=function(){function t(){var n=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;if(i(this,t),p)return void console.error("has running RpxManager");this.currentSize=0;try{this.baseSize=parseInt(getComputedStyle(document.documentElement).fontSize,10),this._fontSizeCalculator=a,this.d_windowResize=(0,c.default)(function(){return n.calc()},160),(0,l.default)(["resize","orientationchange"],function(t){window.addEventListener(t,n.d_windowResize,!1)}),p=!0}catch(t){console.error("NOT SUPPORT",t)}}return o(t,[{key:"calc",value:function(){var t={};t="number"==typeof window.innerWidth?{width:window.innerWidth,height:window.innerHeight}:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight}:{width:document.body.clientWidth||window.innerWidth,height:document.body.clientHeight||window.innerHeight};var n=this._fontSizeCalculator(t);n!==this.currentSize&&(this.currentSize=n,document.documentElement.style.setProperty("font-size",n+"px"))}},{key:"stop",value:function(){var t=this;(0,l.default)(["resize","orientationchange"],function(n){window.removeEventListener(n,t.d_windowResize,!1)}),document.documentElement.style.setProperty("font-size",this.baseSize+"px"),p=!1}}]),t}();n.default=h,t.exports=n["default"]},function(t,n,a){function r(t,n,a){function r(n){var a=b,r=y;return b=y=void 0,M=n,C=t.apply(r,a)}function d(t){return M=t,T=setTimeout(p,n),I?r(t):C}function f(t){var a=t-S,r=t-M,i=n-a;return N?c(i,E-r):i}function m(t){var a=t-S,r=t-M;return void 0===S||a>=n||a<0||N&&r>=E}function p(){var t=o();return m(t)?h(t):void(T=setTimeout(p,f(t)))}function h(t){return T=void 0,A&&b?r(t):(b=y=void 0,C)}function g(){void 0!==T&&clearTimeout(T),M=0,b=S=y=T=void 0}function _(){return void 0===T?C:h(o())}function v(){var t=o(),a=m(t);if(b=arguments,y=this,S=t,a){if(void 0===T)return d(S);if(N)return T=setTimeout(p,n),r(S)}return void 0===T&&(T=setTimeout(p,n)),C}var b,y,E,C,T,S,M=0,I=!1,N=!1,A=!0;if("function"!=typeof t)throw new TypeError(l);return n=s(n)||0,i(a)&&(I=!!a.leading,N="maxWait"in a,E=N?u(s(a.maxWait)||0,n):E,A="trailing"in a?!!a.trailing:A),v.cancel=g,v.flush=_,v}var i=a(150),o=a(194),s=a(195),l="Expected a function",u=Math.max,c=Math.min;t.exports=r},function(t,n,a){var r=a(102),i=function(){return r.Date.now()};t.exports=i},function(t,n,a){function r(t){if("number"==typeof t)return t;if(o(t))return s;if(i(t)){var n="function"==typeof t.valueOf?t.valueOf():t;t=i(n)?n+"":n}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var a=c.test(t);return a||d.test(t)?f(t.slice(2),a?2:8):u.test(t)?s:+t}var i=a(150),o=a(196),s=NaN,l=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,d=/^0o[0-7]+$/i,f=parseInt;t.exports=r},function(t,n,a){function r(t){return"symbol"==typeof t||o(t)&&i(t)==s}var i=a(100),o=a(107),s="[object Symbol]";t.exports=r},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.getLocationByTyping=n.getLocation=n.getLocationInfo=n.setLocationInfo=void 0;var i=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=a(6),s=r(o),l=a(90),u=a(8),c='15px/1 Helvetica,"Nimbus Sans L",-apple-system,BlinkMacSystemFont',d={},f={},m=n.setLocationInfo=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;f[t]={id:t,value:n,alias:a,size:(0,u.getTextWidth)(n,c)}};n.getLocationInfo=function(t){return f[t]||null},n.getLocation=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,a="mgl-"+t+"-"+n;return d[a]?d[a]:(d[a]=(0,l.getLocation)({p:t,ml:n}).then(function(n){if(0===n.r){if(n.d&&null===n.d.l)return{pid:t,data:null};if(n.d&&n.d.l){var a=[];(n.d["_1"]||n.d["_2"])&&(a=s.default.uniq([].concat(n.d["_1"]||[],n.d["_2"]||[])));var r=[],o=[],l=0;return s.default.forEach(n.d.l,function(t){var n=i(t,2),s=n[0],u=n[1],c=a.indexOf(s);(!f[s]||f[s].value!==u&&(""+(f[s].value||"")).length<=(""+(u||"")).length)&&m(s,u);var d=f[s];d.size>l&&(l=d.size),c>-1?r[c]=d:o.push(d)}),{pid:t,maxWidth:l,data:[].concat(r,o)}}}return!1}),d[a])},n.getLocationByTyping=function(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;return(0,l.getLocationByTyping)({t:t,l1:n,mgl:a}).then(function(t){return t&&0===t.r?s.default.filter(s.default.map(t.d,function(t){return t?{id:t.i,value:t.t,alias:t.a||null,size:(0,u.getTextWidth)(t.t,c)}:null})):[]})}},function(t,n,a){"use strict";function r(t,n,a){return n in t?Object.defineProperty(t,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[n]=a,t}function i(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,n){var a=[],r=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(r=(s=l.next()).done)&&(a.push(s.value),!n||a.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&l["return"]&&l["return"]()}finally{if(i)throw o}}return a}return function(n,a){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},l=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),u=a(123),c="//res.wx.qq.com/open/js/jweixin-1.6.0.js",d="//res2.wx.qq.com/open/js/jweixin-1.6.0.js",f=["updateAppMessageShareData","updateTimelineShareData","showOptionMenu","hideOptionMenu","showAllNonBaseMenuItem","hideAllNonBaseMenuItem","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo"],m=["getLocation"],p=["openLocation"],h=["scanQRCode"],g=["chooseWXPay"],v=["openAddress"],b=[].concat(f,m,p,h,g,v),y=function(){function t(n,a){var r=this;i(this,t),this.isWx=!(!n||!a),this.params=a,this.wxReady=(0,u.importJS)(c,"wx").then(function(){return!0}).catch(function(){return(0,u.importJS)(d,"wx_bk")}).then(function(){return wx.config(s({debug:!1},r.params,{jsApiList:b})),new Promise(function(t,n){wx.ready(function(){t(!0)}),wx.error(function(){this.isWx=!1,t(!1)})})}).catch(function(){return r.isWx=!1,!1})}return l(t,[{key:"checkJSAPI",value:function(t){return new Promise(function(n,a){wx.checkJsApi({jsApiList:t,success:function(t){return"checkJsApi:ok"===t.errMsg?void n({succeed:!0,checkRes:t.checkResult}):void n(s({succeed:!1},t))},fail:function(t){n(s({succeed:!1},t))}})})}},{key:"share",value:function(t,n,a,r){var i=this;return this.isWx?this.wxReady.then(function(){return i.checkJSAPI(f)}).then(function(i){if(!i.succeed)return!1;
var o={title:t,desc:n,link:a,imgUrl:r};return wx.showOptionMenu(),i.checkRes.updateAppMessageShareData&&wx.updateAppMessageShareData(o),i.checkRes.updateTimelineShareData&&wx.updateTimelineShareData(o),i.checkRes.onMenuShareTimeline&&wx.onMenuShareTimeline(o),i.checkRes.onMenuShareAppMessage&&wx.onMenuShareAppMessage(o),i.checkRes.onMenuShareQQ&&wx.onMenuShareQQ(o),i.checkRes.onMenuShareQZone&&wx.onMenuShareQZone(o),i.checkRes.onMenuShareWeibo&&wx.onMenuShareWeibo(o),wx.showAllNonBaseMenuItem(),!0}):Promise.resolve(!1)}},{key:"withoutShare",value:function(){return this.isWx?this.wxReady.then(function(t){return wx.hideAllNonBaseMenuItem(),!0}):Promise.resolve(!1)}},{key:"openLocation",value:function(t,n,a){var r=this;return this.isWx?this.wxReady.then(function(){return r.checkJSAPI(p)}).then(function(t){return t.succeed&&t.checkRes.openLocation}).then(function(r){return!!r&&(wx.openLocation(s({longitude:t,latitude:n},a)),!0)}):Promise.resolve(!1)}},{key:"getLocation",value:function(){return this.isWx?this.wxReady.then(function(t){return new Promise(function(t){wx.getLocation({type:"wgs84",success:function(n){var a=n.latitude,r=n.longitude,i=n.speed,o=n.accuracy;t({latitude:a,longitude:r,speed:i,accuracy:o})},fail:function(){t(!1)}})})}):Promise.resolve(!1)}},{key:"scanQRCode",value:function(){var t=this;return this.isWx?this.wxReady.then(function(){return t.checkJSAPI(h)}).then(function(t){return t.succeed&&t.checkRes.scanQRCode}).then(function(t){return!!t&&new Promise(function(t){wx.scanQRCode({needResult:1,scanType:["qrCode","barCode"],success:function(n){if(0===n.resultStr.indexOf("CODE_")){var a=n.resultStr.split(","),r=o(a,2),i=r[0],s=r[1];return void t({type:i,result:s})}t({type:"QRCODE",result:n.resultStr})},fail:function(){t(!1)}})})}):Promise.resolve(!1)}},{key:"openAddress",value:function(){var t=this;return this.isWx?this.wxReady.then(function(){return t.checkJSAPI(v)}).then(function(t){return!!t.succeed&&new Promise(function(t){wx.openAddress({success:function(n){t({name:n.userName,postalCode:n.postalCode,provinceName:n.provinceName,cityName:n.cityName,countryName:n.countryName,detailInfo:n.detailInfo,nationalCode:n.nationalCode,tel:n.telNumber})},fail:function(){t(!1)}})})}):Promise.resolve(!1)}},{key:"pay",value:function(t){var n=this;return this.isWx?this.wxReady.then(function(){return n.checkJSAPI(g)}).then(function(t){return t.succeed&&t.checkRes.chooseWXPay}).then(function(n){return!!n&&new Promise(function(n){var a=_.assign({},t);a.appid&&(a.appId=a.appid,delete a.appid),a.timeStamp&&(a.timestamp=a.timeStamp,delete a.timeStamp);var r=!1;wx.chooseWXPay(s({},a,{success:function(t){"chooseWXPay:ok"===t.errMsg&&(r=!0,n({succeed:!0}))},cancel:function(){n({cancel:!0})},fail:function(){n({failed:!0})},complete:function(t){r||"get_brand_wcpay_request:ok"!==t.errMsg&&"chooseWXPay:ok"!==t.errMsg||(r=!0,n({succeed:!0}))}}))})}):Promise.resolve(!1)}},{key:"inMiniProgram",value:function(){var t=this;return new Promise(function(n,a){var r=function(){n("miniprogram"===window.__wxjs_environment)};t.isWx?window.WeixinJSBridge&&WeixinJSBridge.invoke?r():document.addEventListener("WeixinJSBridgeReady",r,!1):n(!1)})}},{key:"miniProgramSendMessage",value:function(t,n){var a=this;return this.inMiniProgram().then(function(t){return!!t&&a.wxReady}).then(function(a){return!!a&&(wx.miniProgram.postMessage(r({},t,n)),!0)})}},{key:"miniProgramGoto",value:function(t){var n=this;return this.inMiniProgram().then(function(t){return!!t&&n.wxReady}).then(function(n){return!!n&&(wx.miniProgram.navigateTo({url:t}),!0)})}}]),t}();n.default=y,t.exports=n["default"]},function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0}),n.mbrmLogin=n._INIT_MBRM_LOGIN=void 0;var i=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},o=a(55),s=a(38),l=a(6),u=r(l),c={},d=(n._INIT_MBRM_LOGIN={authType:o.MBRM_AUTH.AT_RANDOM_CODE,nextStep:!1,loading:!1,account:null,auth:null,verifyData:c,validAccount:!1,validAuth:!1,validGlobal:!1,authCompleted:!1},function(t,n){var a={},r=t.extensions.memberFrglg,i=r.mode&parseInt(""+(n.isLogin||0)+(n.isReg||0),2);return 0===i&&(n.isLogin?a.validGlobal="noReg":r&&r.loginState&&!(r.openRegData||{}).isOpenRegister&&!r.regState&&(a.validGlobal="noLogin")),a.validGlobal||n.hasQuota||n.setPwd||(a.validGlobal="noQuota"),a});n.mbrmLogin=function(t){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=arguments[1],r={},l=t();switch(a.type){case s._MBRM_CHANGE_AUTH_CONTENT:var f=a.data;r=i({},f),f.account&&(n.validAccount&&(r.validAccount=!1),"noQuota"!==n.validGlobal||n.verifyData||(r.validGlobal=!1)),f.auth&&n.validAuth&&(r.validAuth=!1),n.validGlobal&&n.validGlobal.indexOf("ERR:")>-1&&(r.validGlobal=!1);break;case s._MBRM_BLUR_ACC:var m=u.default.trim(n.account);n.verifyData&&n.verifyData.account!==m&&(r.verifyData=c,r.nextStep=!1,r.auth=null,r.validAuth=!1,n.validGlobal&&["noQuota"].indexOf(n.validGlobal)===-1&&(r.validGlobal=!1));break;case s._MBRM_GET_AUTH_CODE:case s._MBRM_CHECK_MEMBER:r={loading:!0};break;case s._MBRM_AUTH_MEMBER:r={loading:!0},n.account||(r.validAccount="invalid"),n.auth||(r.validAuth="invalid");break;case s._MBRM_CHECK_MEMBER_SUCCEED:var p=a.data,h=u.default.zipObject(["isLogin","isReg","setPwd","hasQuota","verificationData"],p);h.account=a.account,r.validGlobal=!1,r.validAccount=!1,r.validAuth=!1;var g=d(l,h);h.setPwd&&!h.verificationData?g.authType=o.MBRM_AUTH.AT_PASSWORD:g.authType=o.MBRM_AUTH.AT_RANDOM_CODE,u.default.isEmpty(g)||(r=i({},r,g)),r.nextStep=!0,r.verifyData=h,r.loading=!1;break;case s._MBRM_GET_AUTH_CODE_FAILED:case s._MBRM_CHECK_MEMBER_FAILED:case s._MBRM_AUTH_MEMBER_FAILED:r=i({},a.data,{loading:!1});break;case s._MBRM_GET_AUTH_CODE_SUCCEED:var _=a.data,v=u.default.assign(n.verifyData,u.default.zipObject(["hasQuota","verificationData"],_));v.setPwd=null;var b=d(l,v);u.default.isEmpty(b)||(r=i({},r,b)),r.verifyData=v,r.loading=!1;break;case s._MBRM_CHANGE_AUTH_TYPE:r={authType:n.authType===o.MBRM_AUTH.AT_RANDOM_CODE?o.MBRM_AUTH.AT_PASSWORD:o.MBRM_AUTH.AT_RANDOM_CODE,auth:null};break;case s._MBRM_AUTH_MEMBER_SUCCEED:r={loading:!1,validAccount:!1,validAuth:!1,validGlobal:!1,authCompleted:!0}}if(u.default.isEmpty(r))return n;var y=u.default.assign({},n,r);return y}}},function(t,n,a){"use strict";function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function t(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,a,r){return a&&t(n.prototype,a),r&&t(n,r),n}}(),o=a(8),s=a(17),l=Math.pow(2,24),u=function(){return"PMK_"+Math.floor(Math.random()*l).toString(32)},c=function(){function t(){var n=this;r(this,t),this.inEmbed=(0,o.inIframe)()&&window.addEventListener,this.queryCallback={},this._scrollTo=!1;var a=void 0;if(this.worker=new Promise(function(t){a=function(){t(!0)}}),this.inEmbed){var i=(0,o.parseUrl)(location.href).params;this.opacityBg=!(!i||!i.atp)&&i.atp,this.noShadow=!(!i||!i.noshd)&&i.noshd,this.topFrameLocationHref=!(!i||!i.tl)&&i.tl,window.addEventListener("message",function(t){if(t.data){var r={};try{r=JSON.parse(t.data)}catch(t){}if(n.iframeMessage&&r.queryRes){var i=Object.keys(r.queryRes);for(var o in n.queryCallback)n.queryCallback.hasOwnProperty(o)&&i.indexOf(o)>-1&&n.queryCallback[o](r.queryRes)}r.cif&&(n.opacityBg=r.atp||n.opacityBg,n.noShadow=r.noshd||n.noShadow,n.topFrameLocationHref=r.tl||n.topFrameLocationHref,n.iframeMessage=!0,a())}},!1)}}return i(t,[{key:"genKey",value:function(){var t=void 0;do t=u();while(this.queryCallback.hasOwnProperty(t));return t}},{key:"postMessage",value:function(t){return!!(this.inEmbed&&this.iframeMessage&&window.parent.postMessage)&&(window.parent.postMessage(JSON.stringify(t),"*"),!0)}},{key:"queryData",value:function(t){var n=this;if(!(this.inEmbed&&this.iframeMessage&&window.parent.postMessage))return Promise.resolve(null);var a=this.genKey();return this.worker.then(function(){return new Promise(function(r){n.queryCallback[a]=function(t){delete n.queryCallback[a],r(t)};var i=n.postMessage({getter:[{v:!1,n:a}].concat(t)});i||n.queryCallback[a](null)})})}},{key:"scrollTo",value:function(t,n){var a=this;return this.inEmbed&&window.parent.postMessage?this._scrollTo?Promise.resolve(!1):(this._scrollTo=!0,this.worker.then(function(){return a.queryData([{t:"self",v:"rect",e:1,n:"rect"},{t:"scrollParent",v:"scrollTop",n:"scrollTop"}]).then(function(t){if(t&&t.innerState){var r=Math.ceil(n+t.scrollTop+t.rect.top);a.queryData([{t:"window",v:"scrollTo",e:[0,r]}])}return a._scrollTo=!1,!1})})):Promise.resolve(!1)}},{key:"contentHeight",value:function(){var t=this;return this.inEmbed&&window.parent.postMessage?this._contentHeightProcessing?Promise.resolve(!1):(this._contentHeightProcessing=!0,void this.worker.then(function(){return t.queryData([{t:"self",v:"rect",e:1,n:"rect"}]).then(function(n){if(t._contentHeightProcessing=!1,0===n.rect.width&&0===n.rect.height)return!1;var a=(0,s.getConfig)().dom(),r=a.main.getBoundingClientRect().height+a.copyright.getBoundingClientRect().height+20+20;return Math.abs(Math.ceil(r)-(t._contentHeight||0))>8&&(t._contentHeight=Math.ceil(r),t.postMessage({height:t._contentHeight})),!0})},function(){t._contentHeightProcessing=!1})):Promise.resolve(!1)}}]),t}();n.default=c,t.exports=n["default"]},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,n,a){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(n,"__esModule",{value:!0});var i=a(8),o=a(19),s=(r(o),function(){if(!i.deviceInfo.isMobile)try{if(!(window.addEventListener&&window.FormData&&window.File&&window.Blob))return!0}catch(t){return!0}return!1}),l=function(t){var n=t.structure(),a=(""+n.raw._m.U).replace("/image/","/qr/"),r=(0,i.addUrlParams)(""+a+n.token+".png",{v:+new Date}),o=n.raw.h.t;window.onload=function(){var n=t.dom(),a=n.main,i='<div class="f_expired error_wrapper"><div class="err_item text"><p class="err_title">您当前使用的浏览器版本过低</p><p class="err_subTitle">请升级浏览器或者扫描下方二维码在手机上填写</p></div><div class="err_item image"><div class="err_expired_image"><p class="title">'+o+'</p><img src="'+r+'"></div></div></div>';a.style="box-shadow: none;",a.innerHTML=i}};n.default={isExpired:s,display:l},t.exports=n["default"]}]);